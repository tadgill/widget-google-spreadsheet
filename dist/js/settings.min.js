function handleClientJSLoad(){isClientJS=!0;var e=document.createEvent("Events");e.initEvent("gapi.loaded",!0,!0),window.dispatchEvent(e)}angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(e){var t=e.storageKey(),n=e.storage(),a=function(){var a=e.preferredLanguage();angular.isString(a)?e.use(a):n.put(t,e.use())};n?n.get(t)?e.use(n.get(t))["catch"](a):a():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(e){var t,n,a,i,o,r,s,l,c,u,d,p,f,m,g,h={},v=[],b=e,y=[],$=!1,w="translate-cloak",k=!1,x=".",C="2.5.2",D=function(){var e,t,n=window.navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(n.languages))for(e=0;e<n.languages.length;e++)if(t=n.languages[e],t&&t.length)return t;for(e=0;e<a.length;e++)if(t=n[a[e]],t&&t.length)return t;return null};D.displayName="angular-translate/service: getFirstBrowserLanguage";var T=function(){return(D()||"").split("-").join("_")};T.displayName="angular-translate/service: getLocale";var S=function(e,t){for(var n=0,a=e.length;a>n;n++)if(e[n]===t)return n;return-1},E=function(){return this.replace(/^\s+|\s+$/g,"")},O=function(e){for(var t=[],a=angular.lowercase(e),i=0,o=v.length;o>i;i++)t.push(angular.lowercase(v[i]));if(S(t,a)>-1)return e;if(n){var r;for(var s in n){var l=!1,c=Object.prototype.hasOwnProperty.call(n,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(c||l)&&(r=n[s],S(t,angular.lowercase(r))>-1))return r}}var u=e.split("_");return u.length>1&&S(t,angular.lowercase(u[0]))>-1?u[0]:e},M=function(e,t){if(!e&&!t)return h;if(e&&!t){if(angular.isString(e))return h[e]}else angular.isObject(h[e])||(h[e]={}),angular.extend(h[e],A(t));return this};this.translations=M,this.cloakClassName=function(e){return e?(w=e,this):w};var A=function(e,t,n,a){var i,o,r,s;t||(t=[]),n||(n={});for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s=e[i],angular.isObject(s)?A(s,t.concat(i),n,i):(o=t.length?""+t.join(x)+x+i:i,t.length&&i===a&&(r=""+t.join(x),n[r]="@:"+o),n[o]=s));return n};this.addInterpolation=function(e){return y.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return u=e,this},this.useSanitizeValueStrategy=function(e){return $=e,this},this.preferredLanguage=function(e){return P(e),this};var P=function(e){return e&&(t=e),t};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(f=e,this):f},this.translationNotFoundIndicatorRight=function(e){return e?(m=e,this):m},this.fallbackLanguage=function(e){return I(e),this};var I=function(e){return e?(angular.isString(e)?(i=!0,a=[e]):angular.isArray(e)&&(i=!1,a=e),angular.isString(t)&&S(a,t)<0&&a.push(t),this):i?a[0]:a};this.use=function(e){if(e){if(!h[e]&&!d)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return o=e,this}return o};var L=function(e){return e?(b=e,void 0):l?l+b:b};this.storageKey=L,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return d=e,p=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return s=e,this},this.storagePrefix=function(e){return e?(l=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return c=e,this},this.usePostCompiling=function(e){return k=!!e,this},this.determinePreferredLanguage=function(e){var n=e&&angular.isFunction(e)?e():T();return t=v.length?O(n):n,this},this.registerAvailableLanguageKeys=function(e,t){return e?(v=e,t&&(n=t),this):v},this.useLoaderCache=function(e){return e===!1?g=void 0:e===!0?g=!0:"undefined"==typeof e?g="$translationCache":e&&(g=e),this},this.$get=["$log","$injector","$rootScope","$q",function(e,n,l,v){var x,D,T,F=n.get(u||"$translateDefaultInterpolation"),N=!1,U={},V={},H=function(e,n,i){if(angular.isArray(e)){var r=function(e){for(var t={},a=[],o=function(e){var a=v.defer(),o=function(n){t[e]=n,a.resolve([e,n])};return H(e,n,i).then(o,o),a.promise},r=0,s=e.length;s>r;r++)a.push(o(e[r]));return v.all(a).then(function(){return t})};return r(e)}var l=v.defer();e&&(e=E.apply(e));var c=function(){var e=t?V[t]:V[o];if(D=0,s&&!e){var n=x.get(b);if(e=V[n],a&&a.length){var i=S(a,n);D=0===i?1:0,S(a,t)<0&&a.push(t)}}return e}();return c?c.then(function(){J(e,n,i).then(l.resolve,l.reject)},l.reject):J(e,n,i).then(l.resolve,l.reject),l.promise},_=function(e){return f&&(e=[f,e].join(" ")),m&&(e=[e,m].join(" ")),e},R=function(e){o=e,l.$emit("$translateChangeSuccess",{language:e}),s&&x.put(H.storageKey(),o),F.setLocale(o),angular.forEach(U,function(e,t){U[t].setLocale(o)}),l.$emit("$translateChangeEnd",{language:e})},j=function(e){if(!e)throw"No language key specified for loading.";var t=v.defer();l.$emit("$translateLoadingStart",{language:e}),N=!0;var a=g;"string"==typeof a&&(a=n.get(a));var i=angular.extend({},p,{key:e,$http:angular.extend({},{cache:a},p.$http)});return n.get(d)(i).then(function(n){var a={};l.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(n)?angular.forEach(n,function(e){angular.extend(a,A(e))}):angular.extend(a,A(n)),N=!1,t.resolve({key:e,table:a}),l.$emit("$translateLoadingEnd",{language:e})},function(e){l.$emit("$translateLoadingError",{language:e}),t.reject(e),l.$emit("$translateLoadingEnd",{language:e})}),t.promise};if(s&&(x=n.get(s),!x.get||!x.put))throw new Error("Couldn't use storage '"+s+"', missing get() or put() method!");angular.isFunction(F.useSanitizeValueStrategy)&&F.useSanitizeValueStrategy($),y.length&&angular.forEach(y,function(e){var a=n.get(e);a.setLocale(t||o),angular.isFunction(a.useSanitizeValueStrategy)&&a.useSanitizeValueStrategy($),U[a.getInterpolationIdentifier()]=a});var z=function(e){var t=v.defer();return Object.prototype.hasOwnProperty.call(h,e)?t.resolve(h[e]):V[e]?V[e].then(function(e){M(e.key,e.table),t.resolve(e.table)},t.reject):t.reject(),t.promise},q=function(e,t,n,a){var i=v.defer();return z(e).then(function(r){Object.prototype.hasOwnProperty.call(r,t)?(a.setLocale(e),i.resolve(a.interpolate(r[t],n)),a.setLocale(o)):i.reject()},i.reject),i.promise},B=function(e,t,n,a){var i,r=h[e];return r&&Object.prototype.hasOwnProperty.call(r,t)&&(a.setLocale(e),i=a.interpolate(r[t],n),a.setLocale(o)),i},W=function(e){if(c){var t=n.get(c)(e,o);return void 0!==t?t:e}return e},G=function(e,t,n,i){var o=v.defer();if(e<a.length){var r=a[e];q(r,t,n,i).then(o.resolve,function(){G(e+1,t,n,i).then(o.resolve)})}else o.resolve(W(t));return o.promise},Y=function(e,t,n,i){var o;if(e<a.length){var r=a[e];o=B(r,t,n,i),o||(o=Y(e+1,t,n,i))}return o},K=function(e,t,n){return G(T>0?T:D,e,t,n)},Q=function(e,t,n){return Y(T>0?T:D,e,t,n)},J=function(e,t,n){var i=v.defer(),r=o?h[o]:h,s=n?U[n]:F;if(r&&Object.prototype.hasOwnProperty.call(r,e)){var l=r[e];"@:"===l.substr(0,2)?H(l.substr(2),t,n).then(i.resolve,i.reject):i.resolve(s.interpolate(l,t))}else{var u;c&&!N&&(u=W(e)),o&&a&&a.length?K(e,t,s).then(function(e){i.resolve(e)},function(e){i.reject(_(e))}):c&&!N&&u?i.resolve(u):i.reject(_(e))}return i.promise},X=function(e,t,n){var i,r=o?h[o]:h,s=n?U[n]:F;if(r&&Object.prototype.hasOwnProperty.call(r,e)){var l=r[e];i="@:"===l.substr(0,2)?X(l.substr(2),t,n):s.interpolate(l,t)}else{var u;c&&!N&&(u=W(e)),o&&a&&a.length?(D=0,i=Q(e,t,s)):i=c&&!N&&u?u:_(e)}return i};if(H.preferredLanguage=function(e){return e&&P(e),t},H.cloakClassName=function(){return w},H.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(I(e),d&&a&&a.length)for(var t=0,n=a.length;n>t;t++)V[a[t]]||(V[a[t]]=j(a[t]));H.use(H.use())}return i?a[0]:a},H.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=S(a,e);t>-1&&(T=t)}else T=0},H.proposedLanguage=function(){return r},H.storage=function(){return x},H.use=function(e){if(!e)return o;var t=v.defer();l.$emit("$translateChangeStart",{language:e});var n=O(e);return n&&(e=n),h[e]||!d||V[e]?(t.resolve(e),R(e)):(r=e,V[e]=j(e).then(function(n){return M(n.key,n.table),t.resolve(n.key),R(n.key),r===e&&(r=void 0),n},function(e){r===e&&(r=void 0),l.$emit("$translateChangeError",{language:e}),t.reject(e),l.$emit("$translateChangeEnd",{language:e})})),t.promise},H.storageKey=function(){return L()},H.isPostCompilingEnabled=function(){return k},H.refresh=function(e){function t(){i.resolve(),l.$emit("$translateRefreshEnd",{language:e})}function n(){i.reject(),l.$emit("$translateRefreshEnd",{language:e})}if(!d)throw new Error("Couldn't refresh translation table, no loader registered!");var i=v.defer();if(l.$emit("$translateRefreshStart",{language:e}),e)h[e]?j(e).then(function(n){M(n.key,n.table),e===o&&R(o),t()},n):n();else{var r=[],s={};if(a&&a.length)for(var c=0,u=a.length;u>c;c++)r.push(j(a[c])),s[a[c]]=!0;o&&!s[o]&&r.push(j(o)),v.all(r).then(function(e){angular.forEach(e,function(e){h[e.key]&&delete h[e.key],M(e.key,e.table)}),o&&R(o),t()})}return i.promise},H.instant=function(e,n,i){if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var r={},s=0,l=e.length;l>s;s++)r[e[s]]=H.instant(e[s],n,i);return r}if(angular.isString(e)&&e.length<1)return e;e&&(e=E.apply(e));var u,d=[];t&&d.push(t),o&&d.push(o),a&&a.length&&(d=d.concat(a));for(var p=0,f=d.length;f>p;p++){var m=d[p];if(h[m]&&"undefined"!=typeof h[m][e]&&(u=X(e,n,i)),"undefined"!=typeof u)break}return u||""===u||(u=F.interpolate(e,n),c&&!N&&(u=W(e))),u},H.versionInfo=function(){return C},H.loaderCache=function(){return g},d&&(angular.equals(h,{})&&H.use(H.use()),a&&a.length))for(var Z=function(e){return M(e.key,e.table),l.$emit("$translateChangeEnd",{language:e.key}),e},et=0,tt=a.length;tt>et;et++)V[a[et]]=j(a[et]).then(Z);return H}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(e){var t,n={},a="default",i=null,o={escaped:function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=angular.element("<div></div>").text(e[n]).html());return t}},r=function(e){var t;return t=angular.isFunction(o[i])?o[i](e):e};return n.setLocale=function(e){t=e},n.getInterpolationIdentifier=function(){return a},n.useSanitizeValueStrategy=function(e){return i=e,this},n.interpolate=function(t,n){return i&&(n=r(n)),e(t)(n||{})},n}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(e,t,n,a,i,o){return{restrict:"AE",scope:!0,compile:function(t,r){var s=r.translateValues?r.translateValues:void 0,l=r.translateInterpolation?r.translateInterpolation:void 0,c=t[0].outerHTML.match(/translate-value-+/i),u="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",d="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,p,f){t.interpolateParams={},t.preText="",t.postText="";var m={},g=function(e){if(angular.equals(e,"")||!angular.isDefined(e)){var a=p.text().match(u);angular.isArray(a)?(t.preText=a[1],t.postText=a[3],m.translate=n(a[2])(t.$parent),watcherMatches=p.text().match(d),angular.isArray(watcherMatches)&&watcherMatches[2]&&watcherMatches[2].length&&t.$watch(watcherMatches[2],function(e){m.translate=e,$()})):m.translate=p.text().replace(/^\s+|\s+$/g,"")}else m.translate=e;$()},h=function(e){f.$observe(e,function(t){m[e]=t,$()})};f.$observe("translate",function(e){g(e)});for(var v in f)f.hasOwnProperty(v)&&"translateAttr"===v.substr(0,13)&&h(v);if(f.$observe("translateDefault",function(e){t.defaultText=e}),s&&f.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,i(e)(t.$parent))})}),c){var b=function(e){f.$observe(e,function(n){var a=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[a]=n})};for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&"translateValue"===y.substr(0,14)&&"translateValues"!==y&&b(y)}var $=function(){for(var e in m)m.hasOwnProperty(e)&&m[e]&&w(e,m[e],t,t.interpolateParams)},w=function(t,n,a,i){e(n,i,l).then(function(e){k(e,a,!0,t)},function(e){k(e,a,!1,t)})},k=function(t,n,i,o){if("translate"===o){i||"undefined"==typeof n.defaultText||(t=n.defaultText),p.html(n.preText+t+n.postText);var s=e.isPostCompilingEnabled(),l="undefined"!=typeof r.translateCompile,c=l&&"false"!==r.translateCompile;(s&&!l||c)&&a(p.contents())(n)}else{i||"undefined"==typeof n.defaultText||(t=n.defaultText);var u=f.$attr[o].substr(15);p.attr(u,t)}};t.$watch("interpolateParams",$,!0);var x=o.$on("$translateChangeSuccess",$);p.text().length&&g(""),$(),t.$on("$destroy",x)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(e,t){return{compile:function(n){var a=function(){n.addClass(t.cloakClassName())},i=function(){n.removeClass(t.cloakClassName())},o=e.$on("$translateChangeEnd",function(){i(),o(),o=null});return a(),function(e,n,o){o.translateCloak&&o.translateCloak.length&&o.$observe("translateCloak",function(e){t(e).then(i,a)})}}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(e,t){var n=function(n,a,i){return angular.isObject(a)||(a=e(a)(this)),t.instant(n,a,i)};return n.$stateful=!0,n}]),function(){"use strict";angular.module("angularLoad",[]).service("angularLoad",["$document","$q","$timeout",function(e,t,n){function a(e){var a={};return function(i){if("undefined"==typeof a[i]){var o=t.defer(),r=e(i);r.onload=r.onreadystatechange=function(e){r.readyState&&"complete"!==r.readyState&&"loaded"!==r.readyState||n(function(){o.resolve(e)})},r.onerror=function(e){n(function(){o.reject(e)})},a[i]=o.promise}return a[i]}}var i=e[0];this.loadScript=a(function(e){var t=i.createElement("script");return t.src=e,i.body.appendChild(t),t}),this.loadCSS=a(function(e){var t=i.createElement("link");return t.rel="stylesheet",t.type="text/css",t.href=e,i.head.appendChild(t),t})}])}(),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(e,t){return function(n){if(!n||!angular.isString(n.prefix)||!angular.isString(n.suffix))throw new Error("Couldn't load static files, no prefix or suffix specified!");var a=e.defer();return t(angular.extend({url:[n.prefix,n.key,n.suffix].join(""),method:"GET",params:""},n.$http)).success(function(e){a.resolve(e)}).error(function(){a.reject(n.key)}),a.promise}}]),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(e,t){function n(e,a){t(angular.extend({url:[e.prefix,e.key.toLowerCase(),e.suffix].join(""),method:"GET",params:""},e.$http)).success(function(e){a.resolve(e)}).error(function(){if(e.key.indexOf("_")>=0){var t=e.key.substr(0,e.key.lastIndexOf("_")),i=angular.extend({},e,{key:t});n(i,a)}else a.resolve("{}")})}return function(t){if(!t||!angular.isString(t.prefix)||!angular.isString(t.suffix))throw new Error('Couldn"t load static files, no prefix or suffix specified!');var a=e.defer();return n(t,a),a.promise}}]),angular.module("risevision.common.i18n",["pascalprecht.translate","risevision.common.i18n.config"]).config(["$translateProvider","LOCALES_PREFIX","LOCALES_SUFIX",function(e,t,n){e.useStaticFilesLoader({prefix:t,suffix:n}),e.determinePreferredLanguage().fallbackLanguage("en")}]),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.affix"),o="object"==typeof t&&t;i||a.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,a){this.options=e.extend({},n.DEFAULTS,a),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),a=this.$target.scrollTop(),i=this.$element.offset(),o=this.options.offset,r=o.top,s=o.bottom;"object"!=typeof o&&(s=r=o),"function"==typeof r&&(r=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var l=null!=this.unpin&&a+this.unpin<=i.top?!1:null!=s&&i.top+this.$element.height()>=t-s?"bottom":null!=r&&r>=a?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=e.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(e.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:t-this.$element.height()-s}))}}};var a=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=a,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),a=n.data();a.offset=a.offset||{},a.offsetBottom&&(a.offset.bottom=a.offsetBottom),a.offsetTop&&(a.offset.top=a.offsetTop),t.call(n,a)})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new a(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',a=function(t){e(t).on("click",n,this.close)};a.VERSION="3.2.0",a.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var a=e(this),i=a.attr("data-target");i||(i=a.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var o=e(i);t&&t.preventDefault(),o.length||(o=a.hasClass("alert")?a:a.parent()),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=a,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,a.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.button"),o="object"==typeof t&&t;i||a.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,a){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,a),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",a=this.$element,i=a.is("input")?"val":"html",o=a.data();t+="Text",null==o.resetText&&a.data("resetText",a[i]()),a[i](null==o[t]?this.options[t]:o[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,a.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,a.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var a=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=a,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var a=e(n.target);a.hasClass("btn")||(a=a.closest(".btn")),t.call(a,"toggle"),n.preventDefault()})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.carousel"),o=e.extend({},n.DEFAULTS,a.data(),"object"==typeof t&&t),r="string"==typeof t?t:o.slide;i||a.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):r?i[r]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var n=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):a==t?this.pause().cycle():this.slide(t>a?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,n){var a=this.$element.find(".item.active"),i=n||a[t](),o=this.interval,r="next"==t?"left":"right",s="next"==t?"first":"last",l=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[s]()}if(i.hasClass("active"))return this.sliding=!1;var c=i[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(i)]);d&&d.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,a.addClass(r),i.addClass(r),a.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),a.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(1e3*a.css("transition-duration").slice(0,-1))):(a.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(p)),o&&this.cycle(),this}};var a=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=a,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var a,i=e(this),o=e(i.attr("data-target")||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var r=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(r.interval=!1),t.call(o,r),s&&o.data("bs.carousel").to(s),n.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.collapse"),o=e.extend({},n.DEFAULTS,a.data(),"object"==typeof t&&t);!i&&o.toggle&&"show"==t&&(t=!t),i||a.data("bs.collapse",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,a){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,a),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var a=this.$parent&&this.$parent.find("> .panel > .in");if(a&&a.length){var i=a.data("bs.collapse");if(i&&i.transitioning)return;t.call(a,"hide"),i||a.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var s=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?(this.$element[n](0).one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(350),void 0):a.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var a=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=a,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var a,i=e(this),o=i.attr("data-target")||n.preventDefault()||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""),r=e(o),s=r.data("bs.collapse"),l=s?"toggle":i.data(),c=i.attr("data-parent"),u=c&&e(c);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(r,l)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(o).each(function(){var a=n(e(this)),i={relatedTarget:this};a.hasClass("open")&&(a.trigger(t=e.Event("hide.bs.dropdown",i)),t.isDefaultPrevented()||a.removeClass("open").trigger("hidden.bs.dropdown",i))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var a=n&&e(n);return a&&a.length?a:t.parent()}function a(t){return this.each(function(){var n=e(this),a=n.data("bs.dropdown");a||n.data("bs.dropdown",a=new r(this)),"string"==typeof t&&a[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.2.0",r.prototype.toggle=function(a){var i=e(this);if(!i.is(".disabled, :disabled")){var o=n(i),r=o.hasClass("open");if(t(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(a=e.Event("show.bs.dropdown",s)),a.isDefaultPrevented())return;i.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},r.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var a=e(this);if(t.preventDefault(),t.stopPropagation(),!a.is(".disabled, :disabled")){var i=n(a),r=i.hasClass("open");if(!r||r&&27==t.keyCode)return 27==t.which&&i.find(o).trigger("focus"),a.trigger("click");var s=" li:not(.divider):visible a",l=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=a,e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.tab");i||a.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),a=t.data("target");if(a||(a=t.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],o=e.Event("show.bs.tab",{relatedTarget:i});if(t.trigger(o),!o.isDefaultPrevented()){var r=e(a);this.activate(t.closest("li"),n),this.activate(r,r.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(t,n,a){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),a&&a()}var o=n.find("> .active"),r=a&&e.support.transition&&o.hasClass("fade");r?o.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),o.removeClass("in")};var a=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=a,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,a=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(a).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(n,a){var i=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(n).is("body")?e(window):e(n),this.options=e.extend({},t.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var a=e(this),i=a.data("bs.scrollspy"),o="object"==typeof n&&n;i||a.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var a=this;this.$body.find(this.selector).map(function(){var a=e(this),i=a.data("target")||a.attr("href"),o=/^#./.test(i)&&e(i);
return o&&o.length&&o.is(":visible")&&[[o[t]().top+n,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),a=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=a)return r!=(e=o[o.length-1])&&this.activate(e);if(r&&t<=i[0])return r!=(e=o[0])&&this.activate(e);for(e=i.length;e--;)r!=o[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',a=e(n).parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")};var a=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=a,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t,a){return this.each(function(){var i=e(this),o=i.data("bs.modal"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,r)),"string"==typeof t?o[t](a):r.show&&o.show(a)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var n=this,a=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var a=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),a&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});a?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var n=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&a;if(this.$backdrop=e('<div class="modal-backdrop '+a+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var a=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=a,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var a=e(this),i=a.attr("href"),o=e(a.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),a.data());a.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),t.call(o,r,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.tooltip"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||a.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,a){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(a),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,a){n[e]!=a&&(t[e]=a)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var a=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(r);l&&(r=r.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var c=this.getPosition(),u=i[0].offsetWidth,d=i[0].offsetHeight;if(l){var p=r,f=this.$element.parent(),m=this.getPosition(f);r="bottom"==r&&c.top+c.height+d-m.scroll>m.height?"top":"top"==r&&c.top-m.scroll-d<0?"bottom":"right"==r&&c.right+u>m.width?"left":"left"==r&&c.left-u<m.left?"right":r,i.removeClass(p).addClass(r)}var g=this.getCalculatedOffset(r,c,u,d);this.applyPlacement(g,r);var h=function(){a.$element.trigger("shown.bs."+a.type),a.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",h).emulateTransitionEnd(150):h()}},n.prototype.applyPlacement=function(t,n){var a=this.tip(),i=a[0].offsetWidth,o=a[0].offsetHeight,r=parseInt(a.css("margin-top"),10),s=parseInt(a.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top=t.top+r,t.left=t.left+s,e.offset.setOffset(a[0],e.extend({using:function(e){a.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),a.addClass("in");var l=a[0].offsetWidth,c=a[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=u.left?2*u.left-i+l:2*u.top-o+c,p=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";a.offset(t),this.replaceArrow(d,a[0][f],p)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=n.hoverState&&a.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,a=this.tip(),i=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(a.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],a="BODY"==n.tagName;return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:a?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:a?e(window).width():t.outerWidth(),height:a?e(window).height():t.outerHeight()},a?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,n,a){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-a,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-a/2,left:t.left-n}:{top:t.top+t.height/2-a/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,a){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-r.scroll,l=t.top+o-r.scroll+a;s<r.top?i.top=r.top-s:l>r.top+r.height&&(i.top=r.top+r.height-l)}else{var c=t.left-o,u=t.left+o+n;c<r.left?i.left=r.left-c:u>r.width&&(i.left=r.left+r.width-u)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=a,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.popover"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||a.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var a=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=a,this}}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,a){function i(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(o)}function o(){n.removeClass("collapsing"),n.css({height:"auto"})}function r(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e.removeClass(n,"in",{to:{height:"0"}}).then(s),void 0):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(a.collapse,function(e){e?r():i()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,a){a.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,n),n&&a.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,a,i){a.setHeading(i(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,a){e.$watch(function(){return a[n.accordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable=!!t.close,this.close=e.close}]).directive("alert",function(){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,a,i){e(function(){i.close()},parseInt(a.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(e,t){return function(n,a,i){t||e.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),a.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),n.$watch(i.bindHtmlUnsafe,function(e){a.html(e||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(e,t,n,a){var i=a[0],o=a[1];t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){if(!n.disabled){var a=t.hasClass(i.activeClass);(!a||angular.isDefined(n.uncheckable))&&e.$apply(function(){o.$setViewValue(a?null:e.$eval(n.btnRadio)),o.$render()})}})}}}).directive("btnCheckbox",["$document",function(e){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(t,n,a,i){function o(){return s(a.btnCheckboxTrue,!0)}function r(){return s(a.btnCheckboxFalse,!1)}function s(e,n){var a=t.$eval(e);return angular.isDefined(a)?a:n}var l=i[0],c=i[1];n.find("input").css({display:"none"}),c.$render=function(){n.toggleClass(l.activeClass,angular.equals(c.$modelValue,o()))},n.bind(l.toggleEvent,function(){a.disabled||t.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?r():o()),c.$render()})}),n.on("keypress",function(i){a.disabled||32!==i.which||e[0].activeElement!==n[0]||t.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?r():o()),c.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(e,t,n,a){function i(t,n,i){v||(angular.extend(t,{direction:i,active:!0}),angular.extend(d.currentSlide||{},{direction:i,active:!1}),a.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&d.slides.length>1&&(t.$element.data(g,t.direction),d.currentSlide&&d.currentSlide.$element&&d.currentSlide.$element.data(g,t.direction),e.$currentTransition=!0,f?a.on("addClass",t.$element,function(t,n){"close"===n&&(e.$currentTransition=null,a.off("addClass",t))}):t.$element.one("$animate:close",function(){e.$currentTransition=null})),d.currentSlide=t,h=n,r())}function o(e){if(angular.isUndefined(p[e].index))return p[e];{var t;p.length}for(t=0;t<p.length;++t)if(p[t].index==e)return p[t]}function r(){s();var t=+e.interval;!isNaN(t)&&t>0&&(c=n(l,t))}function s(){c&&(n.cancel(c),c=null)}function l(){var t=+e.interval;u&&!isNaN(t)&&t>0&&p.length?e.next():e.pause()}var c,u,d=this,p=d.slides=e.slides=[],f=angular.version.minor>=4,m="uib-noTransition",g="uib-slideDirection",h=-1;d.currentSlide=null;var v=!1;d.select=e.select=function(t,n){var a=e.indexOfSlide(t);void 0===n&&(n=a>d.getCurrentIndex()?"next":"prev"),t&&t!==d.currentSlide&&!e.$currentTransition&&i(t,a,n)},e.$on("$destroy",function(){v=!0}),d.getCurrentIndex=function(){return d.currentSlide&&angular.isDefined(d.currentSlide.index)?+d.currentSlide.index:h},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:p.indexOf(e)},e.next=function(){var t=(d.getCurrentIndex()+1)%p.length;return 0===t&&e.noWrap()?(e.pause(),void 0):d.select(o(t),"next")},e.prev=function(){var t=d.getCurrentIndex()-1<0?p.length-1:d.getCurrentIndex()-1;return e.noWrap()&&t===p.length-1?(e.pause(),void 0):d.select(o(t),"prev")},e.isActive=function(e){return d.currentSlide===e},e.$watch("interval",r),e.$on("$destroy",s),e.play=function(){u||(u=!0,r())},e.pause=function(){e.noPause||(u=!1,s())},d.addSlide=function(t,n){t.$element=n,p.push(t),1===p.length||t.active?(d.select(p[p.length-1]),1==p.length&&e.play()):t.active=!1},d.removeSlide=function(e){angular.isDefined(e.index)&&p.sort(function(e,t){return+e.index>+t.index});var t=p.indexOf(e);p.splice(t,1),p.length>0&&e.active?t>=p.length?d.select(p[t-1]):d.select(p[t]):h>t&&h--,0===p.length&&(d.currentSlide=null)},e.$watch("noTransition",function(e){t.data(m,e)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,a){a.addSlide(e,t),e.$on("$destroy",function(){a.removeSlide(e)}),e.$watch("active",function(t){t&&a.select(e)})}}}).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var a="uib-noTransition",i="uib-slideDirection",o=null;return e.has("$animateCss")&&(o=e.get("$animateCss")),{beforeAddClass:function(e,r,s){if("active"==r&&e.parent()&&!e.parent().data(a)){var l=!1,c=e.data(i),u="next"==c?"left":"right",d=n.bind(this,e,u+" "+c,s);return e.addClass(c),o?o(e,{addClass:u}).start().done(d):t.addClass(e,u).then(function(){l||d(),s()}),function(){l=!0}}s()},beforeRemoveClass:function(e,r,s){if("active"===r&&e.parent()&&!e.parent().data(a)){var l=!1,c=e.data(i),u="next"==c?"left":"right",d=n.bind(this,e,u,s);return o?o(e,{addClass:u}).start().done(d):t.addClass(e,u).then(function(){l||d(),s()}),function(){l=!0}}s()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(e,t,n){function a(e){var t=[],a=e.split("");return angular.forEach(r,function(n,i){var o=e.indexOf(i);if(o>-1){e=e.split(""),a[o]="("+n.regex+")",e[o]="$";for(var r=o+1,s=o+i.length;s>r;r++)a[r]="",e[r]="$";e=e.join(""),t.push({index:o,apply:n.apply})}}),{regex:new RegExp("^"+a.join("")+"$"),map:n(t,"index")}}function i(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}};this.parse=function(n,r,s){if(!angular.isString(n)||!r)return n;r=t.DATETIME_FORMATS[r]||r,r=r.replace(o,"\\$&"),this.parsers[r]||(this.parsers[r]=a(r));var l=this.parsers[r],c=l.regex,u=l.map,d=n.match(c);if(d&&d.length){var p,f;angular.isDate(s)&&!isNaN(s.getTime())?p={year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:(s&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var m=1,g=d.length;g>m;m++){var h=u[m-1];h.apply&&h.apply.call(p,d[m])}return i(p.year,p.month,p.date)&&(f=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),f}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function a(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),a={top:0,left:0},o=i(t[0]);o!=e[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop-o.scrollTop,a.left+=o.clientLeft-o.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,a){var i,o,r,s,l=n.split("-"),c=l[0],u=l[1]||"center";i=a?this.offset(e):this.position(e),o=t.prop("offsetWidth"),r=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-r/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:p[u](),left:d[c]()};break;case"left":s={top:p[u](),left:i.left-o};break;case"bottom":s={top:p[c](),left:d[u]()};break;default:s={top:i.top-r,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(e,t,n,a,i,o,r,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,i){l[n]=angular.isDefined(t[n])?6>i?a(t[n])(e.$parent):e.$parent.$eval(t[n]):r[n]}),angular.forEach(["minDate","maxDate"],function(a){t[a]?e.$parent.$watch(n(t[a]),function(e){l[a]=e?new Date(e):null,l.refreshView()}):l[a]=r[a]?new Date(r[a]):null}),angular.forEach(["minMode","maxMode"],function(a){t[a]?e.$parent.$watch(n(t[a]),function(n){l[a]=angular.isDefined(n)?n:t[a],e[a]=l[a],("minMode"==a&&l.modes.indexOf(e.datepickerMode)<l.modes.indexOf(l[a])||"maxMode"==a&&l.modes.indexOf(e.datepickerMode)>l.modes.indexOf(l[a]))&&(e.datepickerMode=l[a])}):(l[a]=r[a]||null,e[a]=l[a])}),e.datepickerMode=e.datepickerMode||r.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=e,l.refreshView())
})):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===l.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){l.element[0].focus()};e.$on("datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),u()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,a,i){function o(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function r(e,t){for(var n,a=new Array(t),o=new Date(e),r=0;t>r;)n=new Date(o),i.fixTimeZone(n),a[r++]=n,o.setDate(o.getDate()+1);return a}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),a=i.activeDate.getMonth(),o=new Date(n,a,1),l=i.startingDay-o.getDay(),c=l>0?7-l:-l,u=new Date(o);c>0&&u.setDate(-c+1);for(var d=r(u,42),p=0;42>p;p++)d[p]=angular.extend(i.createDateObject(d[p],i.formatDay),{secondary:d[p].getMonth()!==a,uid:t.uniqueId+"-"+p});t.labels=new Array(7);for(var f=0;7>f;f++)t.labels[f]={abbr:e(d[f].date,i.formatDayHeader),full:e(d[f].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(d,7),t.showWeeks){t.weekNumbers=[];for(var m=(11-i.startingDay)%7,g=t.rows.length,h=0;g>h;h++)t.weekNumbers.push(s(t.rows[h][m].date))}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e){var t=i.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(n,1),t=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(t)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,a,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n,a=new Array(12),o=i.activeDate.getFullYear(),r=0;12>r;r++)n=new Date(o,r,1),i.fixTimeZone(n),a[r]=angular.extend(i.createDateObject(n,i.formatMonth),{uid:t.uniqueId+"-"+r});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(a,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e){var t=i.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);i.activeDate.setMonth(t)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,a){function i(e){return parseInt((e-1)/o,10)*o+1}var o=a.yearRange;a.step={years:o},a.element=t,a._refreshView=function(){for(var t,n=new Array(o),r=0,s=i(a.activeDate.getFullYear());o>r;r++)t=new Date(s+r,0,1),a.fixTimeZone(t),n[r]=angular.extend(a.createDateObject(t,a.formatYear),{uid:e.uniqueId+"-"+r});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=a.split(n,5)},a.compare=function(e,t){return e.getFullYear()-t.getFullYear()},a.handleKeyDown=function(e){var t=a.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*a.step.years:"home"===e?t=i(a.activeDate.getFullYear()):"end"===e&&(t=i(a.activeDate.getFullYear())+o-1),a.activeDate.setFullYear(t)},a.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(e,t,n,a,i,o,r,s,l){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(c,u,d,p){function f(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function m(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=r.parse(e,h,c.date);return isNaN(t)?void 0:t}return void 0}return null}function g(e,t){var n=e||t;if(!d.ngRequired&&!n)return!0;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var a=r.parse(n,h);return!isNaN(a)}return!1}return!0}var h,v=angular.isDefined(d.closeOnDateSelection)?c.$parent.$eval(d.closeOnDateSelection):s.closeOnDateSelection,b=angular.isDefined(d.datepickerAppendToBody)?c.$parent.$eval(d.datepickerAppendToBody):s.appendToBody,y=angular.isDefined(d.onOpenFocus)?c.$parent.$eval(d.onOpenFocus):s.onOpenFocus,$=angular.isDefined(d.datepickerPopupTemplateUrl)?d.datepickerPopupTemplateUrl:s.datepickerPopupTemplateUrl,w=angular.isDefined(d.datepickerTemplateUrl)?d.datepickerTemplateUrl:s.datepickerTemplateUrl,k={};c.showButtonBar=angular.isDefined(d.showButtonBar)?c.$parent.$eval(d.showButtonBar):s.showButtonBar,c.getText=function(e){return c[e+"Text"]||s[e+"Text"]},c.isDisabled=function(e){return"today"===e&&(e=new Date),c.watchData.minDate&&c.compare(e,k.minDate)<0||c.watchData.maxDate&&c.compare(e,k.maxDate)>0},c.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};var x=!1;if(s.html5Types[d.type]?(h=s.html5Types[d.type],x=!0):(h=d.datepickerPopup||s.datepickerPopup,d.$observe("datepickerPopup",function(e){var t=e||s.datepickerPopup;if(t!==h&&(h=t,p.$modelValue=null,!h))throw new Error("datepickerPopup must have a date format specified.")})),!h)throw new Error("datepickerPopup must have a date format specified.");if(x&&d.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var C=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");C.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":$});var D=angular.element(C.children()[0]);if(D.attr("template-url",w),x&&"month"===d.type&&(D.attr("datepicker-mode",'"month"'),D.attr("min-mode","month")),d.datepickerOptions){var T=c.$parent.$eval(d.datepickerOptions);T&&T.initDate&&(c.initDate=T.initDate,D.attr("init-date","initDate"),delete T.initDate),angular.forEach(T,function(e,t){D.attr(f(t),e)})}c.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(d[e]){var n=t(d[e]);if(c.$parent.$watch(n,function(t){c.watchData[e]=t,("minDate"===e||"maxDate"===e)&&(k[e]=new Date(t))}),D.attr(f(e),"watchData."+e),"datepickerMode"===e){var a=n.assign;c.$watch("watchData."+e,function(e,t){angular.isFunction(a)&&e!==t&&a(c.$parent,e)})}}}),d.dateDisabled&&D.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),d.showWeeks&&D.attr("show-weeks",d.showWeeks),d.customClass&&D.attr("custom-class","customClass({ date: date, mode: mode })"),x?p.$formatters.push(function(e){return c.date=e,e}):(p.$$parserName="date",p.$validators.date=g,p.$parsers.unshift(m),p.$formatters.push(function(e){return c.date=e,p.$isEmpty(e)?e:o(e,h)})),c.dateSelection=function(e){angular.isDefined(e)&&(c.date=e);var t=c.date?o(c.date,h):null;u.val(t),p.$setViewValue(t),v&&(c.isOpen=!1,u[0].focus())},p.$viewChangeListeners.push(function(){c.date=r.parse(p.$viewValue,h,c.date)});var S=function(e){!c.isOpen||u[0].contains(e.target)||C[0].contains(e.target)||c.$apply(function(){c.isOpen=!1})},E=function(e){27===e.which&&c.isOpen?(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!1}),u[0].focus()):40!==e.which||c.isOpen||(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!0}))};u.bind("keydown",E),c.keydown=function(e){27===e.which&&(c.isOpen=!1,u[0].focus())},c.$watch("isOpen",function(e){e?(c.position=b?i.offset(u):i.position(u),c.position.top=c.position.top+u.prop("offsetHeight"),l(function(){y&&c.$broadcast("datepicker.focus"),n.bind("click",S)},0,!1)):n.unbind("click",S)}),c.select=function(e){if("today"===e){var t=new Date;angular.isDate(c.date)?(e=new Date(c.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}c.dateSelection(e)},c.close=function(){c.isOpen=!1,u[0].focus()};var O=e(C)(c);C.remove(),b?n.find("body").append(O):u.after(O),c.$on("$destroy",function(){c.isOpen===!0&&(a.$$phase||c.$apply(function(){c.isOpen=!1})),O.remove(),u.unbind("keydown",E),n.unbind("click",S)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",a),e.bind("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",a),e.unbind("keydown",i))};var a=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var a=n.getToggleElement();if(!(e&&a&&a[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which?(n.focusToggleElement(),a()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(e,t,n,a,i,o,r,s,l,c){var u,d,p=this,f=e.$new(),m=a.openClass,g=angular.noop,h=t.onToggle?n(t.onToggle):angular.noop,v=!1,b=!1,y=s.find("body");this.init=function(a){p.$element=a,t.isOpen&&(d=n(t.isOpen),g=d.assign,e.$watch(d,function(e){f.isOpen=!!e})),v=angular.isDefined(t.dropdownAppendToBody),b=angular.isDefined(t.keyboardNav),v&&p.dropdownMenu&&(y.append(p.dropdownMenu),y.addClass("dropdown"),a.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return p.toggleElement},f.getAutoClose=function(){return t.autoClose||"always"},f.getElement=function(){return p.$element},f.isKeynavEnabled=function(){return b},f.focusDropdownEntry=function(e){var t=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(p.$element).find("ul").eq(0).find("a");switch(e){case 40:p.selectedOption=angular.isNumber(p.selectedOption)?p.selectedOption===t.length-1?p.selectedOption:p.selectedOption+1:0;break;case 38:p.selectedOption=angular.isNumber(p.selectedOption)?0===p.selectedOption?0:p.selectedOption-1:t.length-1}t[p.selectedOption].focus()},f.getDropdownElement=function(){return p.dropdownMenu},f.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},f.$watch("isOpen",function(t,n){if(v&&p.dropdownMenu){var a=r.positionElements(p.$element,p.dropdownMenu,"bottom-left",!0),s={top:a.top+"px",display:t?"block":"none"},d=p.dropdownMenu.hasClass("dropdown-menu-right");d?(s.left="auto",s.right=window.innerWidth-(a.left+p.$element.prop("offsetWidth"))+"px"):(s.left=a.left+"px",s.right="auto"),p.dropdownMenu.css(s)}var b=v?y:p.$element;if(o[t?"addClass":"removeClass"](b,m).then(function(){angular.isDefined(t)&&t!==n&&h(e,{open:!!t})}),t)p.dropdownMenuTemplateUrl&&c(p.dropdownMenuTemplateUrl).then(function(e){u=f.$new(),l(e.trim())(u,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),f.focusToggleElement(),i.open(f);else{if(p.dropdownMenuTemplateUrl){u&&u.$destroy();var $=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith($),p.dropdownMenu=$}i.close(f),p.selectedOption=null}angular.isFunction(g)&&g(e,t)}),e.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)});var $=e.$on("$destroy",function(){f.$destroy()});f.$on("$destroy",$)}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,a){a.init(t),t.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,a){if(a){var i=n.templateUrl;i&&(a.dropdownMenuTemplateUrl=i),a.dropdownMenu||(a.dropdownMenu=t)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(e,t,n,a){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=a.dropdownMenu.find("a");switch(e.which){case 40:a.selectedOption=angular.isNumber(a.selectedOption)?a.selectedOption===t.length-1?a.selectedOption:a.selectedOption+1:0;break;case 38:a.selectedOption=angular.isNumber(a.selectedOption)?0===a.selectedOption?0:a.selectedOption-1:t.length-1}t[a.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,a){if(a){t.addClass("dropdown-toggle"),a.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){a.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t==e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var a=e[t];if(a){var i=a.indexOf(n);-1!==i&&a.splice(i,1),a.length||delete e[t]}}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(e,t,n){function a(t,a,o){o.modalInClass&&(i?i(a,{addClass:o.modalInClass}).start():e.addClass(a,o.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var r=n();i?i(a,{removeClass:o.modalInClass}).start().then(r):e.removeClass(a,o.modalInClass).then(r)}))}var i=null;return t.has("$animateCss")&&(i=t.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),a}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(e,t,n,a){var i=null;return a.has("$animateCss")&&(i=a.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(a,o,r){o.addClass(r.windowClass||""),a.size=r.size,a.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},a.$isRendered=!0;var s=t.defer();r.$observe("modalRender",function(e){"true"==e&&s.resolve()}),s.promise.then(function(){var s=null;r.modalInClass&&(s=i?i(o,{addClass:r.modalInClass}).start():n.addClass(o,r.modalInClass),a.$on(e.NOW_CLOSING_EVENT,function(e,t){var a=t();i?i(o,{removeClass:r.modalInClass}).start().then(a):n.removeClass(o,r.modalInClass).then(a)})),t.when(s).then(function(){var e=o[0].querySelectorAll("[autofocus]");e.length?e[0].focus():o[0].focus()});var l=e.getTop();l&&e.modalRendered(l.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,a,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,a,i,o,r,s,l){function c(){for(var e=-1,t=y.keys(),n=0;n<t.length;n++)y.get(t[n]).value.backdrop&&(e=n);return e}function u(e,t){var a=n.find("body").eq(0),i=y.get(e).value;y.remove(e),p(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||b;$.remove(t,e),a.toggleClass(t,$.hasKey(t))}),d(),t&&t.focus?t.focus():a.focus()}function d(){if(g&&-1==c()){var e=h;p(g,h,function(){e=null}),g=void 0,h=void 0}}function p(t,n,a){function i(){i.done||(i.done=!0,m?m(t,{event:"leave"}).start().then(function(){t.remove()}):e.leave(t),n.$destroy(),a&&a())}var r,s=null,l=function(){return r||(r=o.defer(),s=r.promise),function(){r.resolve()}};return n.$broadcast(w.NOW_CLOSING_EVENT,l),o.when(s).then(i)}function f(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var m=null;r.has("$animateCss")&&(m=r.get("$animateCss"));var g,h,v,b="modal-open",y=l.createNew(),$=s.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},k=0,x="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return i.$watch(c,function(e){h&&(h.index=e)}),n.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=y.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),i.$apply(function(){w.dismiss(t.key,"escape key press")});break;case 9:w.loadFocusElementList(t);var n=!1;e.shiftKey?w.isFocusInFirstItem(e)&&(n=w.focusLastFocusableElement()):w.isFocusInLastItem(e)&&(n=w.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),w.open=function(e,t){var o=n[0].activeElement,r=t.openedClass||b;y.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass}),$.put(r,e);var s=n.find("body").eq(0),l=c();if(l>=0&&!g){h=i.$new(!0),h.index=l;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",t.backdropClass),t.animation&&u.attr("modal-animation","true"),g=a(u)(h),s.append(g)}var d=angular.element('<div modal-window="modal-window"></div>');d.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:y.length()-1,animate:"animate"}).html(t.content),t.animation&&d.attr("modal-animation","true");var p=a(d)(t.scope);y.top().value.modalDomEl=p,y.top().value.modalOpener=o,s.append(p),s.addClass(r),w.clearFocusListCache()},w.close=function(e,t){var n=y.get(e);return n&&f(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),u(e,n.value.modalOpener),!0):!n},w.dismiss=function(e,t){var n=y.get(e);return n&&f(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),u(e,n.value.modalOpener),!0):!n},w.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},w.getTop=function(){return y.top()},w.modalRendered=function(e){var t=y.get(e);t&&t.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return v.length>0?(v[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return v.length>0?(v[v.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(e){return v.length>0?(e.target||e.srcElement)==v[0]:!1},w.isFocusInLastItem=function(e){return v.length>0?(e.target||e.srcElement)==v[v.length-1]:!1},w.clearFocusListCache=function(){v=[],k=0},w.loadFocusElementList=function(e){if((void 0===v||!v.length0)&&e){var t=e.value.modalDomEl;t&&t.length&&(v=t[0].querySelectorAll(x))}},w}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,a,i,o,r){function s(e){return e.template?a.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function l(e){var n=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?n.push(a.when(t.invoke(e))):angular.isString(e)?n.push(a.when(t.get(e))):n.push(a.when(e))}),n}var c={},u=null;return c.getPromiseChain=function(){return u},c.open=function(t){var i=a.defer(),c=a.defer(),d=a.defer(),p={result:i.promise,opened:c.promise,rendered:d.promise,close:function(e){return r.close(p,e)},dismiss:function(e){return r.dismiss(p,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var f,m=a.all([s(t)].concat(l(t.resolve)));return f=u=a.all([u]).then(function(){return m},function(){return m}).then(function(e){var a=(t.scope||n).$new();a.$close=p.close,a.$dismiss=p.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var s,l={},u=1;t.controller&&(l.$scope=a,l.$modalInstance=p,angular.forEach(t.resolve,function(t,n){l[n]=e[u++]}),s=o(t.controller,l),t.controllerAs&&(t.bindToController&&angular.extend(s,a),a[t.controllerAs]=s)),r.open(p,{scope:a,deferred:i,renderDeferred:d,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),c.resolve(!0)},function(e){c.reject(e),i.reject(e)}).finally(function(){u===f&&(u=null)}),p},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var a=this,i={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(r,s){i=r,this.config=s,i.$render=function(){a.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var a=!e.ngDisabled||!n;a&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||a.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,a,i,o){function r(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],a=1,i=t,o=angular.isDefined(u)&&t>u;o&&(d?(a=Math.max(e-Math.floor(u/2),1),i=a+u-1,i>t&&(i=t,a=i-u+1)):(a=(Math.ceil(e/u)-1)*u+1,i=Math.min(a+u-1,t)));for(var s=a;i>=s;s++){var l=r(s,s,s===e);n.push(l)}if(o&&!d){if(a>1){var c=r(a-1,"...",!1);n.unshift(c)}if(t>i){var p=r(i+1,"...",!1);n.push(p)}}return n}var l=o[0],c=o[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,l.init(c,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){u=parseInt(e,10),l.render()});var p=l.render;l.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,a,i){var o=i[0],r=i[1];r&&(t.align=angular.isDefined(a.align)?t.$parent.$eval(a.align):e.align,o.init(r,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope","$parse",function(i,o,r,s,l,c,u,d){return function(i,p,f,m){function g(e){var t=(e||m.trigger||f).split(" "),a=t.map(function(e){return n[e]||e});return{show:t,hide:a}}m=angular.extend({},t,a,m);var h=e(i),v=c.startSymbol(),b=c.endSymbol(),y="<div "+h+'-popup title="'+v+"title"+b+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'placement="'+v+"placement"+b+'" popup-class="'+v+"popupClass"+b+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var e=o(y);return function(t,n,a){function o(){I.isOpen?f():c()}function c(){(!P||t.$eval(a[p+"Enable"]))&&($(),I.popupDelay?E||(E=r(h,I.popupDelay,!1)):h())}function f(){v(),u.$$phase||u.$digest()}function h(){return E=null,S&&(r.cancel(S),S=null),(m.useContentExp?I.contentExp():I.content)?(b(),I.isOpen=!0,F&&F.assign(I.origScope,I.isOpen),u.$$phase||I.$apply(),D.css({display:"block"}),N(),void 0):angular.noop}function v(){I.isOpen=!1,F&&F.assign(I.origScope,I.isOpen),r.cancel(E),E=null,r.cancel(O),O=null,I.animation?S||(S=r(y,500)):y()}function b(){D&&y(),T=I.$new(),D=e(T,function(e){M?s.find("body").append(e):n.after(e)}),m.useContentExp&&(T.$watch("contentExp()",function(e){!e&&I.isOpen&&v()}),T.$watch(function(){L||(L=!0,T.$$postDigest(function(){L=!1,I.isOpen&&N()}))}))}function y(){S=null,D&&(D.remove(),D=null),T&&(T.$destroy(),T=null)}function $(){w(),k(),x()}function w(){I.popupClass=a[p+"Class"]}function k(){var e=a[p+"Placement"];I.placement=angular.isDefined(e)?e:m.placement}function x(){var e=a[p+"PopupDelay"],t=parseInt(e,10);I.popupDelay=isNaN(t)?m.popupDelay:t}function C(){var e=a[p+"Trigger"];U(),A=g(e),"none"!==A.show&&A.show.forEach(function(e,t){e===A.hide[t]?n[0].addEventListener(e,o):e&&(n[0].addEventListener(e,c),n[0].addEventListener(A.hide[t],f))})}var D,T,S,E,O,M=angular.isDefined(m.appendToBody)?m.appendToBody:!1,A=g(void 0),P=angular.isDefined(a[p+"Enable"]),I=t.$new(!0),L=!1,F=angular.isDefined(a[p+"IsOpen"])?d(a[p+"IsOpen"]):!1,N=function(){D&&(O||(O=r(function(){D.css({top:0,left:0,width:"auto",height:"auto"});var e=l.position(D),t=l.positionElements(n,D,I.placement,M);t.top+="px",t.left+="px",t.width=e.width+"px",t.height=e.height+"px",D.css(t),O=null},0,!1)))};I.origScope=t,I.isOpen=!1,I.contentExp=function(){return t.$eval(a[i])},m.useContentExp||a.$observe(i,function(e){I.content=e,!e&&I.isOpen?v():N()}),a.$observe("disabled",function(e){E&&e&&(r.cancel(E),E=null),e&&I.isOpen&&v()}),a.$observe(p+"Title",function(e){I.title=e,N()}),a.$observe(p+"Placement",function(){I.isOpen&&(k(),N())}),F&&t.$watch(F,function(e){e!==I.isOpen&&o()});var U=function(){A.show.forEach(function(e){n.unbind(e,c)}),A.hide.forEach(function(e){n.unbind(e,f)})};C();var V=t.$eval(a[p+"Animation"]);I.animation=angular.isDefined(V)?!!V:m.animation;var H=t.$eval(a[p+"AppendToBody"]);M=angular.isDefined(H)?H:M,M&&t.$on("$locationChangeSuccess",function(){I.isOpen&&v()}),t.$on("$destroy",function(){r.cancel(S),r.cancel(E),r.cancel(O),U(),y(),I=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,a){return{link:function(i,o,r){var s,l,c,u=i.$eval(r.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null
}),l=c,c=null)};i.$watch(t.parseAsResourceUrl(r.tooltipTemplateTransclude),function(t){var r=++d;t?(a(t,!0).then(function(a){if(r===d){var i=u.$new(),l=a,f=n(l)(i,function(t){p(),e.enter(t,o)});s=i,c=f,s.$emit("$includeContentLoaded",t)}},function(){r===d&&(p(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):p()}),i.$on("$destroy",p)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var a=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.$watch("value",function(){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=a.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,a.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(){a.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html",link:function(){t&&e.warn("progress is now deprecated. Use uib-progress instead")}}}]).directive("uibBar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t)}}}).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,a,i,o){t&&e.warn("bar is now deprecated. Use uib-bar instead"),o.addBar(n,a)}}}]).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var a={$setViewValue:angular.noop};this.init=function(i){a=i,a.$render=this.render,a.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(a.$setViewValue(a.$viewValue===t?0:t),a.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=a.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1&&!a){var o=i==n.length-1?i-1:i+1;t.select(n[o])}n.splice(i,1)};var a;e.$on("$destroy",function(){a=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(n,a,i,o,r){n.$watch("active",function(e){e&&o.select(n)}),n.disabled=!1,i.disable&&n.$parent.$watch(e(i.disable),function(e){n.disabled=!!e}),i.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(i.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},o.addTab(n),n.$on("$destroy",function(){o.removeTab(n)}),n.$transcludeFn=r}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,a){var i=t.$eval(a.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,a,i,o){function r(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===h[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function c(e){u(),g.$setViewValue(new Date(m)),d(e)}function u(){g.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=m.getHours(),a=m.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),"m"!==t&&(e.minutes=l(a)),e.meridian=m.getHours()<12?h[0]:h[1]}function p(e,t){var n=new Date(e.getTime()+6e4*t),a=new Date(e);return a.setHours(n.getHours(),n.getMinutes()),a}function f(e){m=p(m,e),c()}var m=new Date,g={$setViewValue:angular.noop},h=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,a){g=n,g.$render=this.render,g.$formatters.unshift(function(e){return e?new Date(e):null});var i=a.eq(0),r=a.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,r);var l=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):o.arrowkeys;l&&this.setupArrowkeyEvents(i,r),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(i,r)};var v=o.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){v=parseInt(e,10)});var b=o.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){b=parseInt(e,10)});var y;e.$parent.$watch(n(t.min),function(e){var t=new Date(e);y=isNaN(t)?void 0:t});var $;e.$parent.$watch(n(t.max),function(e){var t=new Date(e);$=isNaN(t)?void 0:t}),e.noIncrementHours=function(){var e=p(m,60*v);return e>$||m>e&&y>e},e.noDecrementHours=function(){var e=p(m,60*-v);return y>e||e>m&&e>$},e.noIncrementMinutes=function(){var e=p(m,b);return e>$||m>e&&y>e},e.noDecrementMinutes=function(){var e=p(m,-b);return y>e||e>m&&e>$},e.noToggleMeridian=function(){return m.getHours()<13?p(m,720)>$:p(m,-720)<y},e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,g.$error.time){var n=r(),a=s();angular.isDefined(n)&&angular.isDefined(a)&&(m.setHours(n),c())}else d()}),this.setupMousewheelEvents=function(t,n){var a=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void 0;var a=function(t,n){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=r(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(m.setHours(e),y>m||m>$?a(!0):c("h")):a(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=s(),t=r();angular.isDefined(e)&&angular.isDefined(t)?(m.setMinutes(e),y>m||m>$?a(void 0,!0):c("m")):a(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var t=g.$viewValue;isNaN(t)?(g.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(m=t),y>m||m>$?(g.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):u(),d())},e.showSpinners=angular.isDefined(t.showSpinners)?e.$parent.$eval(t.showSpinners):o.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*v)},e.decrementHours=function(){e.noDecrementHours()||f(60*-v)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(b)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(-b)},e.toggleMeridian=function(){e.noToggleMeridian()||f(720*(m.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,a){var i=a[0],o=a[1];o&&i.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,a,i){function o(e){for(var t in e)if(void 0!==s.style[t])return e[t]}i||a.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var r=function(a,i,o){o=o||{};var s=e.defer(),l=r[o.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){a.unbind(l,c),s.resolve(a)})};return l&&a.bind(l,c),t(function(){angular.isString(i)?a.addClass(i):angular.isFunction(i)?i(a):angular.isObject(i)&&a.css(i),l||s.resolve(a)}),s.promise.cancel=function(){l&&a.unbind(l,c),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=o(l),r.animationEndEventName=o(c),r}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(e,t,n,a,i,o,r,s,l){var c=[9,13,27,38,40],u=200;return{require:["ngModel","^?ngModelOptions"],link:function(d,p,f,m){function g(){N.moveInProgress||(N.moveInProgress=!0,N.$digest()),q&&a.cancel(q),q=a(function(){N.matches.length&&h(),N.moveInProgress=!1,N.$digest()},u)}function h(){N.position=O?s.offset(p):s.position(p),N.position.top+=p.prop("offsetHeight")}var v=m[0],b=m[1],y=d.$eval(f.typeaheadMinLength);y||0===y||(y=1);var $,w,k=d.$eval(f.typeaheadWaitMs)||0,x=d.$eval(f.typeaheadEditable)!==!1,C=t(f.typeaheadLoading).assign||angular.noop,D=t(f.typeaheadOnSelect),T=angular.isDefined(f.typeaheadSelectOnBlur)?d.$eval(f.typeaheadSelectOnBlur):!1,S=t(f.typeaheadNoResults).assign||angular.noop,E=f.typeaheadInputFormatter?t(f.typeaheadInputFormatter):void 0,O=f.typeaheadAppendToBody?d.$eval(f.typeaheadAppendToBody):!1,M=d.$eval(f.typeaheadFocusFirst)!==!1,A=f.typeaheadSelectOnExact?d.$eval(f.typeaheadSelectOnExact):!1,P=t(f.ngModel),I=t(f.ngModel+"($$$p)"),L=function(e,t){return angular.isFunction(P(d))&&b&&b.$options&&b.$options.getterSetter?I(e,{$$$p:t}):P.assign(e,t)},F=l.parse(f.typeahead),N=d.$new(),U=d.$on("$destroy",function(){N.$destroy()});N.$on("$destroy",U);var V="typeahead-"+N.$id+"-"+Math.floor(1e4*Math.random());p.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":V});var H=angular.element("<div typeahead-popup></div>");H.attr({id:V,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(f.typeaheadTemplateUrl)&&H.attr("template-url",f.typeaheadTemplateUrl),angular.isDefined(f.typeaheadPopupTemplateUrl)&&H.attr("popup-template-url",f.typeaheadPopupTemplateUrl);var _=function(){N.matches=[],N.activeIdx=-1,p.attr("aria-expanded",!1)},R=function(e){return V+"-option-"+e};N.$watch("activeIdx",function(e){0>e?p.removeAttr("aria-activedescendant"):p.attr("aria-activedescendant",R(e))});var j=function(e,t){return N.matches.length>t&&e?e.toUpperCase()===N.matches[t].label.toUpperCase():!1},z=function(e){var t={$viewValue:e};C(d,!0),S(d,!1),n.when(F.source(d,t)).then(function(n){var a=e===v.$viewValue;if(a&&$)if(n&&n.length>0){N.activeIdx=M?0:-1,S(d,!1),N.matches.length=0;for(var i=0;i<n.length;i++)t[F.itemName]=n[i],N.matches.push({id:R(i),label:F.viewMapper(N,t),model:n[i]});N.query=e,h(),p.attr("aria-expanded",!0),A&&1===N.matches.length&&j(e,0)&&N.select(0)}else _(),S(d,!0);a&&C(d,!1)},function(){_(),C(d,!1),S(d,!0)})};O&&(angular.element(o).bind("resize",g),i.find("body").bind("scroll",g));var q;N.moveInProgress=!1,_(),N.query=void 0;var B,W=function(e){B=a(function(){z(e)},k)},G=function(){B&&a.cancel(B)};v.$parsers.unshift(function(e){return $=!0,0===y||e&&e.length>=y?k>0?(G(),W(e)):z(e):(C(d,!1),G(),_()),x?e:e?(v.$setValidity("editable",!1),void 0):(v.$setValidity("editable",!0),null)}),v.$formatters.push(function(e){var t,n,a={};return x||v.$setValidity("editable",!0),E?(a.$model=e,E(d,a)):(a[F.itemName]=e,t=F.viewMapper(d,a),a[F.itemName]=void 0,n=F.viewMapper(d,a),t!==n?t:e)}),N.select=function(e){var t,n,i={};w=!0,i[F.itemName]=n=N.matches[e].model,t=F.modelMapper(d,i),L(d,t),v.$setValidity("editable",!0),v.$setValidity("parse",!0),D(d,{$item:n,$model:t,$label:F.viewMapper(d,i)}),_(),N.$eval(f.typeaheadFocusOnSelect)!==!1&&a(function(){p[0].focus()},0,!1)},p.bind("keydown",function(e){if(0!==N.matches.length&&-1!==c.indexOf(e.which)){if(-1===N.activeIdx&&(9===e.which||13===e.which))return _(),N.$digest(),void 0;e.preventDefault(),40===e.which?(N.activeIdx=(N.activeIdx+1)%N.matches.length,N.$digest()):38===e.which?(N.activeIdx=(N.activeIdx>0?N.activeIdx:N.matches.length)-1,N.$digest()):13===e.which||9===e.which?N.$apply(function(){N.select(N.activeIdx)}):27===e.which&&(e.stopPropagation(),_(),N.$digest())}}),p.bind("blur",function(){T&&N.matches.length&&-1!==N.activeIdx&&!w&&(w=!0,N.$apply(function(){N.select(N.activeIdx)})),$=!1,w=!1});var Y=function(e){p[0]!==e.target&&3!==e.which&&0!==N.matches.length&&(_(),r.$$phase||N.$digest())};i.bind("click",Y),d.$on("$destroy",function(){i.unbind("click",Y),O&&K.remove(),H.remove()});var K=e(H)(N);O?i.find("body").append(K):p.after(K)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(a,i,o){var r=n(o.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";e(r).then(function(e){t(e.trim())(a,function(e){i.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function a(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,r){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(a(r),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')
}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(){"use strict";angular.module("risevision.widget.common.widget-button-toolbar",["risevision.common.i18n"]).directive("widgetButtonToolbar",["$templateCache",function(e){return{restrict:"E",scope:{save:"&",cancel:"&",disableSave:"&"},template:e.get("_angular/widget-button-toolbar/widget-button-toolbar.html")}}])}(),function(e){try{e=angular.module("risevision.widget.common.widget-button-toolbar")}catch(t){e=angular.module("risevision.widget.common.widget-button-toolbar",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/widget-button-toolbar/widget-button-toolbar.html",'<div class="pull-right">\n  <button id="save" class="btn btn-primary btn-fixed-width" type="button" ng-click="save()" ng-disabled="disableSave()">\n    <span>{{"common.save" | translate}}</span>\n    <i class="fa fa-white fa-check icon-right"></i>\n  </button>\n  <button id="cancel" class="btn btn-default btn-fixed-width" type="button" ng-click="cancel()">\n    <span>{{"common.cancel" | translate}}</span>\n    <i class="fa fa-white fa-times icon-right"></i>\n  </button>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.tooltip",["ui.bootstrap"]).directive("rvTooltip",[function(){return{restrict:"A",link:function(e,t){t.addClass("fa"),t.addClass("fa-question-circle"),t.addClass("fa-lg")}}}])}(),function(e){"use strict";e.module("risevision.widget.common.google-drive-picker",["risevision.common.i18n"]).directive("googleDrivePicker",["$window","$document","$log","$templateCache","apiAuth","apiGooglePicker",function(e,t,n,a,i,o){return{restrict:"E",scope:{viewId:"@"},template:a.get("google-drive-picker-template.html"),link:function(a,r,s){function l(e){o.get().then(function(t){e[t.picker.Response.ACTION]===t.picker.Action.PICKED?(n.debug("Files picked",e[t.picker.Response.DOCUMENTS]),a.$emit("picked",e[t.picker.Response.DOCUMENTS])):e[t.picker.Response.ACTION]===t.picker.Action.CANCEL&&(n.debug("File pick cancelled"),a.$emit("cancel"))})}function c(t){var n,a,o=u.createElement("a");u.referrer?"localhost"===u.location.hostname?n=e.location.protocol+"//"+e.location.host:(o.href=u.referrer,n=o.protocol+"//"+o.hostname):n=e.location.protocol+"//"+e.location.host,a=(new t.picker.PickerBuilder).setOrigin(n).addView(d).setOAuthToken(i.getAuthToken()).setCallback(l).build(),a.setVisible(!0)}var u=t[0],d=s.viewId||"docs";r.on("click",function(){i.getAuthToken()?o.get().then(c):i.getAuthToken()||i.authorize(!1).then(function(e){e&&!e.error&&o.get().then(c)})}),i.authorize(!0).then(null,function(e){n.warn(e)})}}}])}(angular),function(e){try{e=angular.module("risevision.widget.common.google-drive-picker")}catch(t){e=angular.module("risevision.widget.common.google-drive-picker",[])}e.run(["$templateCache",function(e){"use strict";e.put("google-drive-picker-template.html",'<div class="google-drive-picker">\n  <button type="button" class="btn btn-default">\n    {{"google-drive-picker.select" | translate }}\n    <img class="icon-right" src="//s3.amazonaws.com/Rise-Images/Icons/drive.svg">\n  </button>\n</div>\n')}])}();var isClientJS=!1;if(function(e){"use strict";e.module("risevision.widget.common.google-drive-picker").factory("oauthAPILoader",["$q","$log","gapiLoader",function(e,t,n){var a,i=e.defer(),o={get:function(){return a||(a=i.promise,n.get().then(function(e){e.load("auth",function(){t.info("auth API is loaded"),i.resolve(e)})})),a}};return o}]).factory("gapiLoader",["$q","$window",function(e,t){var n={get:function(){var n,a=e.defer();return t.isClientJS?a.resolve(t.gapi):(n=function(){a.resolve(t.gapi),t.removeEventListener("gapi.loaded",n,!1)},t.addEventListener("gapi.loaded",n,!1)),a.promise}};return n}]).factory("pickerLoader",["$q","$window","$log","gapiLoader",function(e,t,n,a){var i={get:function(){var t,i=e.defer();return t||(t=i.promise,a.get().then(function(e){e.load("picker",function(){n.info("picker API is loaded"),i.resolve(e)})})),t}};return i}])}(angular),function(e){"use strict";e.module("risevision.widget.common.google-drive-picker").value("CLIENT_ID","614513768474.apps.googleusercontent.com").value("SCOPE",["https://www.googleapis.com/auth/drive"]).factory("apiAuth",["$q","$http","$log","gapiLoader","oauthAPILoader","CLIENT_ID","SCOPE",function(e,t,n,a,i,o,r){var s=null,l={};return l.authorize=function(t){var a=e.defer(),l={client_id:o,scope:r,immediate:t};return i.get().then(function(e){e.auth.authorize(l,function(e){e&&!e.error?(s=e.access_token,a.resolve(e)):(a.reject("Authentication Error: "+e.error),n.debug("authorize result",e))})}),a.promise},l.getAuthToken=function(){return s},l}])}(angular),function(e){"use strict";e.module("risevision.widget.common.google-drive-picker").factory("apiGooglePicker",["$q","$window","$log","pickerLoader",function(e,t,n,a){var i,o=e.defer(),r={get:function(){return i||(i=o.promise,a.get().then(function(){o.resolve(t.google)})),i}};return r}])}(angular),angular.module("colorpicker.module",[]).factory("Helper",function(){"use strict";return{closestSlider:function(e){var t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return t.bind(e)("I")?e.parentNode:e},getOffset:function(e,t){for(var n=0,a=0,i=e.getBoundingClientRect();e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t||"BODY"!==e.tagName?(n+=e.scrollLeft,a+=e.scrollTop):(n+=document.documentElement.scrollLeft||e.scrollLeft,a+=document.documentElement.scrollTop||e.scrollTop),e=e.offsetParent;return{top:i.top+window.pageYOffset,left:i.left+window.pageXOffset,scrollX:n,scrollY:a}},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}]}}).factory("Color",["Helper",function(e){"use strict";return{value:{h:1,s:1,b:1,a:1},rgb:function(){var e=this.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")"},rgba:function(){var e=this.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},hex:function(){return this.toHex()},RGBtoHSB:function(e,t,n,a){e/=255,t/=255,n/=255;var i,o,r,s;return r=Math.max(e,t,n),s=r-Math.min(e,t,n),i=0===s?null:r===e?(t-n)/s:r===t?(n-e)/s+2:(e-t)/s+4,i=(i+360)%6*60/360,o=0===s?0:s/r,{h:i||1,s:o,b:r,a:a||1}},setColor:function(t){t=t?t.toLowerCase():t;for(var n in e.stringParsers)if(e.stringParsers.hasOwnProperty(n)){var a=e.stringParsers[n],i=a.re.exec(t),o=i&&a.parse(i);if(o)return this.value=this.RGBtoHSB.apply(null,o),!1}},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setLightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,t,n,a){e||(e=this.value.h,t=this.value.s,n=this.value.b),e*=360;var i,o,r,s,l;return e=e%360/60,l=n*t,s=l*(1-Math.abs(e%2-1)),i=o=r=n-l,e=~~e,i+=[l,s,0,0,s,l][e],o+=[s,l,l,s,0,0][e],r+=[0,0,s,l,l,s][e],{r:Math.round(255*i),g:Math.round(255*o),b:Math.round(255*r),a:a||this.value.a}},toHex:function(e,t,n,a){var i=this.toRGB(e,t,n,a);return"#"+(1<<24|parseInt(i.r,10)<<16|parseInt(i.g,10)<<8|parseInt(i.b,10)).toString(16).substr(1)}}}]).factory("Slider",["Helper",function(e){"use strict";var t={maxLeft:0,maxTop:0,callLeft:null,callTop:null,knob:{top:0,left:0}},n={};return{getSlider:function(){return t},getLeftPosition:function(e){return Math.max(0,Math.min(t.maxLeft,t.left+((e.pageX||n.left)-n.left)))},getTopPosition:function(e){return Math.max(0,Math.min(t.maxTop,t.top+((e.pageY||n.top)-n.top)))},setSlider:function(a,i){var o=e.closestSlider(a.target),r=e.getOffset(o,i),s=o.getBoundingClientRect(),l=a.clientX-s.left,c=a.clientY-s.top;t.knob=o.children[0].style,t.left=a.pageX-r.left-window.pageXOffset+r.scrollX,t.top=a.pageY-r.top-window.pageYOffset+r.scrollY,n={left:a.pageX-(l-t.left),top:a.pageY-(c-t.top)}},setSaturation:function(e,n){t={maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setLightness"},this.setSlider(e,n)},setHue:function(e,n){t={maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},this.setSlider(e,n)},setAlpha:function(e,n){t={maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"},this.setSlider(e,n)},setKnob:function(e,n){t.knob.top=e+"px",t.knob.left=n+"px"}}}]).directive("colorpicker",["$document","$compile","Color","Slider","Helper",function(e,t,n,a,i){"use strict";return{require:"?ngModel",restrict:"A",link:function(o,r,s,l){function c(){e.on("mousemove",d),e.on("mouseup",p)}function u(){try{L.css("backgroundColor",A[$]())}catch(e){L.css("backgroundColor",A.toHex())}I.css("backgroundColor",A.toHex(A.value.h,1,1,1)),"rgba"===$&&(y.css.backgroundColor=A.toHex())}function d(e){var t=a.getLeftPosition(e),n=a.getTopPosition(e),i=a.getSlider();a.setKnob(n,t),i.callLeft&&A[i.callLeft].call(A,t/100),i.callTop&&A[i.callTop].call(A,n/100),u();var s=A[$]();return r.val(s),l&&o.$apply(l.$setViewValue(s)),T&&N.val(s),!1}function p(){v("colorpicker-selected"),e.off("mousemove",d),e.off("mouseup",p)}function f(e){A.setColor(r.val()),T&&!e&&N.val(r.val()),F.eq(0).css({left:100*A.value.s+"px",top:100-100*A.value.b+"px"}),F.eq(1).css("top",100*(1-A.value.h)+"px"),F.eq(2).css("top",100*(1-A.value.a)+"px"),u()}function m(){var e,t=i.getOffset(r[0]);return angular.isDefined(s.colorpickerParent)&&(t.left=0,t.top=0),"top"===k?e={top:t.top-147,left:t.left}:"right"===k?e={top:t.top,left:t.left+126}:"bottom"===k?e={top:t.top+r[0].offsetHeight+2,left:t.left}:"left"===k&&(e={top:t.top,left:t.left-150}),{top:e.top+"px",left:e.left+"px"}}function g(){b()}function h(){M.hasClass("colorpicker-visible")||(f(),M.addClass("colorpicker-visible").css(m()),v("colorpicker-shown"),x===!1&&e.on("mousedown",g),s.colorpickerIsOpen&&(o[s.colorpickerIsOpen]=!0,o.$$phase||o.$digest()))}function v(e){l&&o.$emit(e,{name:s.ngModel,value:l.$modelValue})}function b(){M.hasClass("colorpicker-visible")&&(M.removeClass("colorpicker-visible"),v("colorpicker-closed"),e.off("mousedown",g),s.colorpickerIsOpen&&(o[s.colorpickerIsOpen]=!1,o.$$phase||o.$digest()))}var y,$=s.colorpicker?s.colorpicker:"hex",w=angular.isDefined(s.backgroundSetting)?!0:!1,k=angular.isDefined(s.colorpickerPosition)?s.colorpickerPosition:"bottom",x=angular.isDefined(s.colorpickerInline)?s.colorpickerInline:!1,C=angular.isDefined(s.colorpickerFixedPosition)?s.colorpickerFixedPosition:!1,D=angular.isDefined(s.colorpickerParent)?r.parent():angular.element(document.body),T=angular.isDefined(s.colorpickerWithInput)?s.colorpickerWithInput:!1,S=T?'<input type="text" name="colorpicker-input" spellcheck="false">':"",E=x?"":'<button type="button" class="close close-colorpicker">&times;</button>',O=w?'<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha>'+S+"</div></div>":'<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha><colorpicker-preview></colorpicker-preview>'+S+E+"</div></div>",M=angular.element(O),A=n,P=M.find("colorpicker-hue"),I=M.find("colorpicker-saturation"),L=M.find("colorpicker-preview"),F=M.find("i");if(t(M)(o),T){var N=M.find("input");N.on("mousedown",function(e){e.stopPropagation()}).on("keyup",function(){var e=this.value;r.val(e),l&&l.$modelValue!==e&&(o.$apply(l.$setViewValue(e)),f(!0))})}"rgba"===$&&(M.addClass("alpha"),y=M.find("colorpicker-alpha"),y.on("click",function(e){a.setAlpha(e,C),d(e)}).on("mousedown",function(e){a.setAlpha(e,C),c()}).on("mouseup",function(){v("colorpicker-selected-alpha")})),P.on("click",function(e){a.setHue(e,C),d(e)}).on("mousedown",function(e){a.setHue(e,C),c()}).on("mouseup",function(){v("colorpicker-selected-hue")}),I.on("click",function(e){a.setSaturation(e,C),d(e),angular.isDefined(s.colorpickerCloseOnSelect)&&b()}).on("mousedown",function(e){a.setSaturation(e,C),c()}).on("mouseup",function(){v("colorpicker-selected-saturation")}),C&&M.addClass("colorpicker-fixed-position"),M.addClass("colorpicker-position-"+k),"true"===x&&M.addClass("colorpicker-inline"),D.append(M),l&&(l.$render=function(){r.val(l.$viewValue),f()}),r.on("blur keyup change",function(){f()}),r.on("$destroy",function(){M.remove()}),x===!1?r.on("click",h):h(),M.on("mousedown",function(e){e.stopPropagation(),e.preventDefault()}),M.find("button").on("click",function(){b()}),s.colorpickerIsOpen&&o.$watch(s.colorpickerIsOpen,function(e){e===!0?h():e===!1&&b()})}}}]),"undefined"==typeof TEMPLATES)var TEMPLATES={};TEMPLATES["alignment.html"]='<div class="btn-group alignment">\n  <button type="button" class="btn btn-default btn-sm btn-alignment dropdown-toggle"\n    data-toggle="dropdown" data-wysihtml5-command-value="left">\n    <i class="fa fa-align-left"></i>\n    <span class="caret"></span>\n  </button>\n  <div class="dropdown-menu" role="menu">\n    <div class="btn-group">\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="left" tabindex="-1">\n        <i class="fa fa-align-left"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="center" tabindex="-1">\n        <i class="fa fa-align-center"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="right" tabindex="-1">\n        <i class="fa fa-align-right"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="justify" tabindex="-1">\n        <i class="fa fa-align-justify"></i>\n      </button>\n    </div>\n  </div>\n</div>\n',function(e,t,n,a){"use strict";function i(t,n){function i(){l.append(a["alignment.html"]),c=l.find(".btn-alignment"),r(n.align),l.find(".dropdown-menu button").on("click",function(){var t=e(this).data("wysihtml5-command-value");r(t),l.trigger("alignmentChanged",t)})}function o(){return c.data("wysihtml5-command-value")}function r(e){var t=l.find(".btn-alignment .fa"),n=t.attr("class").match(/fa-align-[a-z]+/g),a="fa-align-"+e;n&&n.length>0&&t.removeClass(n[0]),t.addClass(a),c.data("wysihtml5-command-value",e)}function s(){r(u)}var l=e(t),c=null,u="left";return n=e.extend({},{align:u},n),i(),{getAlignment:o,setAlignment:r,reset:s}}var o="alignment";e.fn.alignment=function(t){return this.each(function(){e.data(this,"plugin_"+o)||e.data(this,"plugin_"+o,new i(this,t))})}}(jQuery,window,document,TEMPLATES);var WIDGET_SETTINGS_UI_CONFIG={families:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats;",sizes:"8px 9px 10px 11px 12px 14px 18px 24px 30px 36px 48px 60px 72px 96px"};if(function(){"use strict";angular.module("risevision.widget.common.url-field",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("urlField",["$templateCache","$log",function(e,t){return{restrict:"E",require:"?ngModel",scope:{url:"=",hideLabel:"@",fileType:"@"},template:e.get("_angular/url-field/url-field.html"),link:function(e,n,a,i){function o(e,t){var n,a=e.toLowerCase();switch(t){case"image":n=[".jpg",".jpeg",".png",".bmp",".svg",".gif"];break;case"video":n=[".webm",".mp4",".ogv",".ogg"];break;default:n=[]}for(var i=0,o=n.length;o>i;i++)if(-1!==a.indexOf(n[i]))return!0;return!1}function r(){if("undefined"!==e.fileType&&"undefined"!==e.url&&"image"===e.fileType){var t=new Image;t.onload=function(){e.valid=!0,e.$apply()},t.onerror=function(){e.valid=!1,e.invalidType=e.fileType,e.$apply()},t.src=e.url}}function s(t){var n,a;return n=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,-1===t.indexOf("://")&&(t="http://"+t),a=n.test(t),a&&"undefined"!=typeof e.fileType?(a=o(t,e.fileType),a||(e.invalidType=e.fileType)):e.invalidType="url",a&&r(),a}e.doValidation=!0,e.forcedValid=!1,e.valid=!0,e.invalidType="url",e.allowInitEmpty="undefined"!=typeof a.initEmpty,e.blur=function(){e.$emit("urlFieldBlur")},e.$watch("url",function(t){"undefined"!=typeof t&&null!==t&&(""!==t&&e.allowInitEmpty&&(e.allowInitEmpty=!1),e.doValidation&&!e.allowInitEmpty&&(e.valid=s(e.url)))}),e.$watch("valid",function(e){i&&(t.info("Calling $setValidity() on parent controller"),i.$setValidity("valid",e))}),e.$watch("doValidation",function(t){"undefined"!=typeof e.url&&(t?(e.forcedValid=!1,e.allowInitEmpty||(e.valid=s(e.url))):(e.forcedValid=!0,e.valid=!0))})}}}])}(),function(e){try{e=angular.module("risevision.widget.common.url-field")}catch(t){e=angular.module("risevision.widget.common.url-field",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/url-field/url-field.html",'<div class="form-group" >\n  <label ng-if="!hideLabel">{{ "url.label" | translate }}</label>\n  <div>\n    <input name="url" type="text" ng-model="url" ng-blur="blur()" class="form-control" placeholder="http://">\n  </div>\n  <p ng-if="!valid && invalidType === \'url\'" class="text-danger">{{ "url.errors.url" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'image\'" class="text-danger">{{ "url.errors.image" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'video\'" class="text-danger">{{ "url.errors.video" | translate }}</p>\n  <div class="checkbox" ng-show="forcedValid || !valid">\n    <label>\n      <input name="validate-url" ng-click="doValidation = !doValidation" type="checkbox"\n             value="validate-url"> {{"url.validate.label" | translate}}\n    </label>\n  </div>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.font-setting",["angularLoad","ui.tinymce","risevision.common.i18n","risevision.widget.common.url-field"]).directive("fontSetting",["$templateCache","$log","$window","googleFontLoader",function(e,t,n,a){return{restrict:"AE",scope:{fontData:"=",previewText:"@",verticalAlign:"@"},template:e.get("_angular/font-setting/font-setting.html"),transclude:!1,link:function(e,t){function i(){e.tinymceOptions={font_formats:"Use Custom Font=custom;"+WIDGET_SETTINGS_UI_CONFIG.families+e.googleFontList,fontsize_formats:"Custom "+(""!==e.fontData.customSize?e.fontData.customSize+" ":"")+WIDGET_SETTINGS_UI_CONFIG.sizes,menubar:!1,plugins:"textcolor colorpicker",skin_url:"//s3.amazonaws.com/rise-common/styles/tinymce/rise",statusbar:!1,toolbar:"fontselect fontsizeselect | alignleft aligncenter alignright alignjustify"+(e.verticalAlign?" aligntop alignmiddle alignbottom":"")+" | forecolor backcolor | bold italic underline",setup:function(t){e.verticalAlign&&p(t),t.on("init",function(){o(t),v=!1}),t.on("ExecCommand",function(e){r(t,e)})},init_instance_callback:function(e){var t=e.formatter.apply,n=e.formatter.remove;e.formatter.apply=function(n,a,i){var o={command:n,value:a.value};t(n,a,i),e.fire("ExecCommand",o)},e.formatter.remove=function(t,a,i){var o={command:t,value:a&&a.value?a.value:null};n(t,a,i),e.fire("ExecCommand",o)}}}}function o(t){if(e.fontData){switch("custom"===e.fontData.font.type&&e.fontData.font.url?t.execCommand("FontName",!1,"custom"):t.execCommand("FontName",!1,e.fontData.font.family),t.execCommand("FontSize",!1,e.fontData.size),e.fontData.align){case"left":t.execCommand("JustifyLeft",!1);break;case"center":t.execCommand("JustifyCenter",!1);break;case"right":t.execCommand("JustifyRight",!1);break;case"justify":t.execCommand("JustifyFull",!1)}e.verticalAlign&&t.execCommand("mceToggleVertical",!1,e.fontData.verticalAlign),m.find(".mce-colorbutton[aria-label='Text color'] span").css("background-color",e.fontData.forecolor),m.find(".mce-colorbutton[aria-label='Background color'] span").css("background-color",e.fontData.backcolor),e.fontData.bold&&s(m.find(".mce-btn[aria-label='Bold']")),e.fontData.italic&&s(m.find(".mce-btn[aria-label='Italic']")),e.fontData.underline&&s(m.find(".mce-btn[aria-label='Underline']"))}}function r(t,n){switch(n.command){case"FontName":if(v)return;if("custom"===n.value)return g.modal("show"),void 0;e.fontData.font.family=n.value,e.fontData.font.type=c(n.value);break;case"FontSize":if(v)return;if("Custom"===n.value)return h.modal("show"),void 0;e.fontData.size=n.value;break;case"JustifyLeft":e.fontData.align="left";break;case"JustifyCenter":e.fontData.align="center";break;case"JustifyRight":e.fontData.align="right";break;case"JustifyFull":e.fontData.align="justify";break;case"mceToggleVertical":n.value?(f(n.value),e.fontData.verticalAlign!==n.value&&f(e.fontData.verticalAlign)):f(e.defaultFont.verticalAlign),e.fontData.verticalAlign=n.value?n.value:e.defaultFont.verticalAlign;break;case"forecolor":e.fontData.forecolor=n.value?n.value:e.defaultFont.forecolor;break;case"hilitecolor":e.fontData.backcolor=n.value?n.value:e.defaultFont.backcolor;break;case"mceToggleFormat":"bold"===n.value?(e.fontData.bold=!e.fontData.bold,s(m.find(".mce-btn[aria-label='Bold']"))):"italic"===n.value?(e.fontData.italic=!e.fontData.italic,s(m.find(".mce-btn[aria-label='Italic']"))):"underline"===n.value&&(e.fontData.underline=!e.fontData.underline,s(m.find(".mce-btn[aria-label='Underline']")))}l(e.fontData)}function s(e){e.toggleClass("mce-active")}function l(t){var n=m.find(".text-container"),a=m.find(".text");e.previewText&&t&&(a.css("fontFamily",t.font.family),a.css("fontSize",t.size),a.css("fontWeight",t.bold?"bold":"normal"),a.css("fontStyle",t.italic?"italic":"normal"),a.css("textDecoration",t.underline?"underline":"none"),a.css("color",t.forecolor),a.css("backgroundColor",t.backcolor),n.css("textAlign",t.align))}function c(t){return-1!==WIDGET_SETTINGS_UI_CONFIG.families.indexOf(t)?"standard":-1!==e.googleFontList.indexOf(t)?"google":"custom"}function u(){return e.fontData.font.url?e.fontData.font.url.split("/").pop().split(".")[0]:null}function d(t){var n=null,a=$.trim(e.fontData.font.url),i="font-family: "+t+"; src: url('"+a+"');";n=document.styleSheets[0],null!==n&&n.addRule("@font-face",i)}function p(e){e.addButton("aligntop",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-top.svg",tooltip:"Align Top",onclick:function(){e.execCommand("mceToggleVertical",!1,"top")}}),e.addButton("alignmiddle",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-vertical-middle.svg",tooltip:"Align Middle",onclick:function(){e.execCommand("mceToggleVertical",!1,"middle")
}}),e.addButton("alignbottom",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-bottom.svg",tooltip:"Align Bottom",onclick:function(){e.execCommand("mceToggleVertical",!1,"bottom")}}),e.addCommand("mceToggleVertical",function(){})}function f(e){switch(e){case"top":s(m.find(".mce-btn[aria-label='Align Top']"));break;case"middle":s(m.find(".mce-btn[aria-label='Align Middle']"));break;case"bottom":s(m.find(".mce-btn[aria-label='Align Bottom']"))}}var m=$(t),g=m.find(".custom-font"),h=m.find(".custom-font-size"),v=!0;e.googleFontList="",e.defaultFont={font:{family:"verdana,geneva,sans-serif",type:"standard",url:""},size:"24px",customSize:"",align:"left",verticalAlign:"middle",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"},a.getFonts().then(function(t){e.googleFontList=t}),e.customFontSize=null,e.applyCustomFont=function(){var t=u();null!==t&&(d(t),e.fontData.font.family=t,e.fontData.font.type="custom",l(e.fontData)),g.modal("hide")},e.applyCustomFontSize=function(){h.modal("hide"),null!==e.customFontSize&&e.customFontSize>=8&&e.customFontSize+"px"!==e.fontData.size&&(e.fontData.size=e.customFontSize+"px",-1!==WIDGET_SETTINGS_UI_CONFIG.sizes.indexOf(e.fontData.size)||e.fontData.customSize===e.fontData.size?n.tinymce.activeEditor.execCommand("FontSize",!1,e.fontData.size):(e.fontData.customSize=e.customFontSize+"px",e.tinymceOptions.fontsize_formats="Custom "+(""!==e.fontData.customSize?e.fontData.customSize+" ":"")+WIDGET_SETTINGS_UI_CONFIG.sizes)),e.customFontSize=null},e.defaults=function(e){if(e)for(var t=1,n=arguments.length;n>t;t++){var a=arguments[t];for(var i in a)void 0===e[i]&&(e[i]=a[i])}return e};var b=e.$watchGroup(["fontData","googleFontList"],function(t){var n=null,a=t[0],o=t[1];a&&o&&(e.defaults(a,e.defaultFont),e.fontData.font.url&&(n=u(),null!==n&&d(n)),l(a),i(),b(),e.previewText&&e.$watch("fontData",l,!0))});e.$watch("tinymceOptions.fontsize_formats",function(t){"undefined"==typeof t||v||e.$broadcast("$tinymce:refresh")})}}}])}(),function(){"use strict";angular.module("risevision.widget.common.font-setting").factory("googleFontLoader",["$http","angularLoad",function(e,t){var n="https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY",a="//fonts.googleapis.com/css?family=",i=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],o=",sans-serif;",r={};return r.getFonts=function(){return e.get(n,{cache:!0}).then(function(e){var n="",r="",s=!1;if(e.data&&e.data.items)for(var l=0;l<e.data.items.length;l++)n=e.data.items[l].family,-1===i.indexOf(n)&&(t.loadCSS(a+n).then(function(){}),/\s/.test(n)&&(s=!0),r+=s?n+"='"+n+"'"+o:n+"="+n+o);return r})},r}])}(),function(e){try{e=angular.module("risevision.widget.common.font-setting")}catch(t){e=angular.module("risevision.widget.common.font-setting",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/font-setting/font-setting.html",'<div class="font-setting">\n  <div class="row">\n    <div class="col-md-12">\n      <div ng-class="{\'form-group\': !previewText}">\n        <textarea ui-tinymce="tinymceOptions" ng-model="tinymceModel" ng-if="tinymceOptions"></textarea>\n      </div>\n    </div>\n  </div>\n  <div class="row" ng-if="previewText">\n    <div class="col-md-12">\n      <div class="text-container form-group">\n        <span class="text">{{previewText}}</span>\n      </div>\n    </div>\n  </div>\n\n  <!-- Custom Font -->\n  <div class="custom-font modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="false">\n    <div class="modal-dialog">\n      <div class="modal-content">\n\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal">\n            <i class="fa fa-times half-top"></i>\n          </button>\n          <h2 class="modal-title">{{"font-setting.custom-font" | translate}}</h2>\n        </div>\n\n        <form role="form" name="customFontForm">\n          <div class="modal-body">\n            <url-field url="fontData.font.url" ng-model="customFont" init-empty></url-field>\n          </div>\n\n          <div class="modal-footer">\n            <button type="button" class="select btn btn-primary btn-fixed-width" ng-click="applyCustomFont()" ng-disabled="customFontForm.$invalid">\n              <span>{{"common.select" | translate}}</span>\n              <i class="fa fa-white fa-check icon-right"></i>\n            </button>\n            <button type="button" class="cancel btn btn-default btn-fixed-width" data-dismiss="modal">\n              <span>{{"common.cancel" | translate}}</span>\n              <i class="fa fa-white fa-times icon-right"></i>\n            </button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  </div>\n\n  <!-- Custom Font Size -->\n  <div class="custom-font-size modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="false">\n    <div class="modal-dialog">\n      <div class="modal-content">\n\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal">\n            <i class="fa fa-times half-top"></i>\n          </button>\n          <h2 class="modal-title">{{"font-setting.custom-font-size" | translate}}</h2>\n        </div>\n\n        <form role="form" name="customFontSizeForm">\n          <div class="modal-body">\n            <div class="row">\n              <div class="col-md-3">\n                <div class="input-group">\n                  <input type="number" ng-model="customFontSize" class="form-control" />\n                  <span class="input-group-addon">{{\'common.units.pixels\' | translate}}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class="modal-footer">\n            <button type="button" class="select btn btn-primary btn-fixed-width" ng-click="applyCustomFontSize()" ng-disabled="customFontSizeForm.$invalid">\n              <span>{{"common.select" | translate}}</span>\n              <i class="fa fa-white fa-check icon-right"></i>\n            </button>\n            <button type="button" class="cancel btn btn-default btn-fixed-width" data-dismiss="modal">\n              <span>{{"common.cancel" | translate}}</span>\n              <i class="fa fa-white fa-times icon-right"></i>\n            </button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig",function(e,t,n,a,i,o){o=o||{};var r=0,s="ui-tinymce";return o.baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],link:function(l,c,u,d){function p(e){e?(f(),g&&g.getBody().setAttribute("contenteditable",!1)):(f(),g&&!g.settings.readonly&&g.getBody().setAttribute("contenteditable",!0))}function f(){g||(g=tinymce.get(u.id))}if(a.tinymce){var m,g,h=d[0],v=d[1]||null,b={},y=function(t){var n=t.getContent({format:b.format}).trim();n=i.trustAsHtml(n),h.$setViewValue(n),e.$$phase||l.$apply()};u.$set("id",s+"-"+r++),m={},angular.extend(m,l.$eval(u.uiTinymce));var $={setup:function(e){e.on("init",function(){h.$render(),h.$setPristine(),v&&v.$setPristine()}),e.on("ExecCommand",function(){e.save(),y(e)}),e.on("change NodeChange",function(){e.save(),y(e)}),e.on("blur",function(){c[0].blur()}),e.on("ObjectResized",function(){e.save(),y(e)}),e.on("remove",function(){c.remove()}),m.setup&&m.setup(e,{updateView:y})},format:m.format||"html",selector:"#"+u.id};angular.extend(b,o,m,$),n(function(){b.baseURL&&(tinymce.baseURL=b.baseURL),tinymce.init(b),p(l.$eval(u.ngDisabled))}),h.$formatters.unshift(function(e){return e?i.trustAsHtml(e):""}),h.$parsers.unshift(function(e){return e?i.getTrustedHtml(e):""}),h.$render=function(){f();var e=h.$viewValue?i.getTrustedHtml(h.$viewValue):"";g&&g.getDoc()&&(g.setContent(e),g.fire("change"))},u.$observe("disabled",p),l.$on("$tinymce:refresh",function(e,n){var a=u.id;if(angular.isUndefined(n)||n===a){var i=c.parent(),o=c.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,a),i.append(t(o)(l))}}),l.$on("$destroy",function(){f(),g&&(g.remove(),g=null)})}}}}]),"undefined"==typeof TEMPLATES)var TEMPLATES={};TEMPLATES["alignment.html"]='<div class="btn-group alignment">\n  <button type="button" class="btn btn-default btn-sm btn-alignment dropdown-toggle"\n    data-toggle="dropdown" data-wysihtml5-command-value="left">\n    <i class="fa fa-align-left"></i>\n    <span class="caret"></span>\n  </button>\n  <div class="dropdown-menu" role="menu">\n    <div class="btn-group">\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="left" tabindex="-1">\n        <i class="fa fa-align-left"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="center" tabindex="-1">\n        <i class="fa fa-align-center"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="right" tabindex="-1">\n        <i class="fa fa-align-right"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="justify" tabindex="-1">\n        <i class="fa fa-align-justify"></i>\n      </button>\n    </div>\n  </div>\n</div>\n',function(e,t,n,a){"use strict";function i(t,n){function i(){l.append(a["alignment.html"]),c=l.find(".btn-alignment"),r(n.align),l.find(".dropdown-menu button").on("click",function(){var t=e(this).data("wysihtml5-command-value");r(t),l.trigger("alignmentChanged",t)})}function o(){return c.data("wysihtml5-command-value")}function r(e){var t=l.find(".btn-alignment .fa"),n=t.attr("class").match(/fa-align-[a-z]+/g),a="fa-align-"+e;n&&n.length>0&&t.removeClass(n[0]),t.addClass(a),c.data("wysihtml5-command-value",e)}function s(){r(u)}var l=e(t),c=null,u="left";return n=e.extend({},{align:u},n),i(),{getAlignment:o,setAlignment:r,reset:s}}var o="alignment";e.fn.alignment=function(t){return this.each(function(){e.data(this,"plugin_"+o)||e.data(this,"plugin_"+o,new i(this,t))})}}(jQuery,window,document,TEMPLATES);var WIDGET_SETTINGS_UI_CONFIG={families:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats;",sizes:"8px 9px 10px 11px 12px 14px 18px 24px 30px 36px 48px 60px 72px 96px"};!function(){"use strict";angular.module("risevision.widget.common.alignment",[]).directive("alignment",function(){return{restrict:"E",scope:{align:"="},transclude:!1,link:function(e,t){var n=$(t);e.$watch("align",function(e){e&&(n.data("plugin_alignment")?n.data("plugin_alignment").setAlignment(e):n.alignment({align:e}))}),n.on("alignmentChanged",function(t,n){e.$apply(function(){e.align=n})})}}})}(),function(){"use strict";angular.module("risevision.widget.common.column-setting",["risevision.common.i18n","risevision.widget.common.font-setting"]).directive("columnSetting",["$templateCache",function(e){return{restrict:"E",scope:{column:"=",expand:"="},template:e.get("_angular/column-setting/column-setting.html"),transclude:!1,link:function(e){var t={fontStyle:{font:{family:"verdana,geneva,sans-serif",type:"standard",url:""},size:"18px",customSize:"",align:"left",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"},headerText:"",width:100,colorCondition:"none"};e.defaults=function(e){if(e)for(var t=1,n=arguments.length;n>t;t++){var a=arguments[t];for(var i in a)void 0===e[i]&&(e[i]=a[i])}return e},e.$watch("column.numeric",function(n){t.type="undefined"!=typeof n&&""!==n?n?"int":"string":"string",e.defaults(e.column,t)}),e.remove=function(){e.$parent.remove(e.column)}}}}])}(),function(e){try{e=angular.module("risevision.widget.common.column-setting")}catch(t){e=angular.module("risevision.widget.common.column-setting",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/column-setting/column-setting.html",'<div class="panel panel-default">\n  <div class="collapse-panel panel-heading">\n    <a href="" ondragstart="return false;"\n    ng-class="{\'panel-heading\':true, collapsed:!collapse}" ng-click="collapse=!collapse">\n       {{column.name | translate}}\n    </a>\n    <a href="" ondragstart="return false;" class="fa fa-minus-circle fa-lg remove-column-button" ng-click="remove()"></a>\n  </div>\n  <div ng-class="{\'panel-collapse\':true, collapse:true, in:collapse}">\n    <div class="panel-body">\n\n      <!-- Numeric data column -->\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" ng-model="column.numeric">{{\'column.numeric\' | translate}}\n        </label>\n        <span class="text-danger" style="float:right">\n          {{\'column.note\' | translate}}\n        </span>\n      </div>\n\n      <font-setting font-data="column.fontStyle">\n      </font-setting>\n\n      <div class="row">\n\n        <!-- Header Text -->\n        <div class="col-sm-6 col-xs-12">\n          <div class="form-group">\n            <label for="column-header-text">\n              {{\'column.header-text.label\' | translate}}\n            </label>\n            <input type="text" ng-model="column.headerText" class="form-control">\n          </div>\n        </div>\n\n        <!-- Width -->\n        <div class="col-sm-3 col-xs-12">\n          <div class="form-group">\n            <label for="column-width">\n              {{\'column.width\' | translate}}\n            </label>\n            <div class="input-group">\n              <input type="number" ng-model="column.width" class="form-control">\n              <span class="input-group-addon">{{\'common.units.pixels\' | translate}}</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Color Conditions -->\n        <div class="col-sm-3 col-xs-12">\n          <div class="form-group">\n            <label for="column-color-condition">\n                {{\'column.color-condition.label\' | translate}}\n              </label>\n            <select class="form-control" ng-model="column.colorCondition"\n              ng-disabled="!column.numeric">\n              <option value="none">{{\'column.color-condition.none\' | translate}}</option>\n              <option value="change-up">{{\'column.color-condition.change-up\' | translate}}</option>\n              <option value="change-down">{{\'column.color-condition.change-down\' | translate}}</option>\n              <option value="value-positive">{{\'column.color-condition.value-positive\' | translate}}</option>\n              <option value="value-negative">{{\'column.color-condition.value-negative\' | translate}}</option>\n            </select>\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.column-selector",["risevision.widget.common.column-setting","risevision.common.i18n"]).directive("columnSelector",["$templateCache",function(e){return{restrict:"E",require:"?ngModel",scope:{columns:"=",columnNames:"="},template:e.get("_angular/column-selector/column-selector.html"),transclude:!1,link:function(e,t,n,a){function i(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t){e.splice(n,1);break}}function o(){a&&a.$setValidity("required",e.columns.length)}function r(){for(var t=0;t<e.columns.length;t++)for(var n=0;n<e.columnNames.length;n++)e.columns[t].id===e.columnNames[n].id&&(e.columns[t].type=e.columnNames[n].type,e.columns[t].name=e.columnNames[n].name,e.columnNames[n].show=!0)}var s=e.$watch("columns",function(){e.columns&&e.columnNames&&(r(),o(),s())}),l=e.$watch("columnNames",function(t){e.columns&&t&&t.length>0&&(r(),l())});e.show=function(e){return!e.show},e.addColumn=function(){console.log(e.selectedColumn),e.add(e.selectedColumn),e.selectedColumn=null},e.add=function(t){t.show=!0,e.columns.push(t),o()},e.remove=function(t){if(t){i(e.columns,t.id);for(var n=0;n<e.columnNames.length;n++)if(t.id===e.columnNames[n].id){e.columnNames[n].show=!1;break}o()}}}}}])}(),function(e){try{e=angular.module("risevision.widget.common.column-selector")}catch(t){e=angular.module("risevision.widget.common.column-selector",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/column-selector/column-selector.html",'<div class="section">\n	<div class="row">\n		<div class="col-md-12">\n			<div class="form-group">\n				<label for="columns" class="control-label">{{\'column.select-title\' | translate}}</label>\n		    <select id="column-selector" class="form-control" ng-model="selectedColumn"\n				ng-options="column.name | translate for column in columnNames | filter:show track by column.id"\n				ng-change="addColumn()"></select>\n			</div>\n		</div>\n	</div>\n	<div class="row">\n		<div class="col-md-12">\n			<div class="panel-group">\n				<column-setting column="column" ng-repeat="column in columns"></column-setting>\n			</div>\n	</div>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.scroll-setting",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("scrollSetting",["$templateCache",function(e){return{restrict:"E",scope:{scroll:"=",hideDirection:"@"},template:e.get("_angular/scroll-setting/scroll-setting.html"),transclude:!1,link:function(e){e.defaultSetting={by:"none",direction:"up",speed:"medium",pause:5,pud:10},e.defaults=function(e){if(e)for(var t=1,n=arguments.length;n>t;t++){var a=arguments[t];for(var i in a)void 0===e[i]&&(e[i]=a[i])}return e},e.$watch("scroll",function(t){e.defaults(t,e.defaultSetting)})}}}])}(),function(e){try{e=angular.module("risevision.widget.common.scroll-setting")}catch(t){e=angular.module("risevision.widget.common.scroll-setting",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/scroll-setting/scroll-setting.html",'<div class="row">\n  <div class="col-md-2">\n    <div class="form-group">\n      <label class="control-label">{{"scroll.heading" | translate}}</label>\n      <select id="scroll-by" ng-model="scroll.by" class="form-control">\n        <option value="none">{{\'scroll.by.none\' | translate}}</option>\n        <option value="continuous">{{\'scroll.by.continuous\' | translate}}</option>\n        <option value="page">{{\'scroll.by.page\' | translate}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="col-md-2" ng-show="!hideDirection && scroll.by == \'continuous\'">\n    <div class="form-group">\n      <label class="control-label">{{"transition.direction.label" | translate}}</label>\n      <select id="scroll-direction" name="scroll-direction" ng-model="scroll.direction" class="form-control">\n        <option value="up">{{"transition.direction.up" | translate}}</option>\n        <option value="left">{{"transition.direction.left" | translate}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="col-md-2" ng-show="scroll.by != \'none\'">\n    <div class="form-group">\n      <label class="control-label">{{\'scroll.speed.label\' | translate}}</label>\n      <select id="scroll-speed" ng-model="scroll.speed" class="form-control">\n        <option value="slow">{{\'scroll.speed.slow\' | translate}}</option>\n        <option value="medium">{{\'scroll.speed.medium\' | translate}}</option>\n        <option value="fast">{{\'scroll.speed.fast\' | translate}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="col-md-2" ng-show="scroll.by != \'none\' && scroll.direction != \'left\'">\n    <div class="form-group">\n      <label class="control-label">{{\'scroll.pause.label\' | translate}}</label>\n      <div class="input-group">\n        <input id="scroll-pause" type="number" ng-model="scroll.pause" class="form-control" />\n        <span class="input-group-addon">{{\'common.units.seconds\' | translate}}</span>\n      </div>\n    </div>\n  </div>\n  <div class="col-md-2" ng-show="scroll.by != \'none\' && scroll.direction != \'left\'">\n    <div class="form-group">\n      <label class="control-label">{{\'scroll.pud.label\' | translate}}</label>\n      <span popover="{{\'scroll.pud.tooltip\' | translate}}" popover-trigger="click"\n        popover-placement="right" rv-tooltip></span>\n      <div class="input-group">\n        <input id="scroll-pud" type="number" ng-model="scroll.pud" class="form-control" />\n        <span class="input-group-addon">{{\'common.units.seconds\' | translate}}</span>\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json"),angular.module("risevision.widget.googleSpreadsheet.settings",["risevision.common.i18n","risevision.widget.common","risevision.widget.common.tooltip","risevision.widget.common.widget-button-toolbar","risevision.widget.common.column-selector","risevision.widget.common.font-setting","risevision.widget.common.scroll-setting","risevision.widget.common.google-drive-picker","risevision.widget.common.visualization","colorpicker.module"]),angular.module("risevision.widget.common",[]),angular.module("risevision.widget.common").controller("settingsController",["$scope","settingsSaver","settingsGetter","settingsCloser",function(e,t,n,a){e.settings={params:{},additionalParams:{}},e.alerts=[],e.getAdditionalParam=function(t,n){var a=e.settings.additionalParams[t];return angular.isUndefined(a)?n:a},e.setAdditionalParam=function(t,n){e.settings.additionalParams[t]=n},e.loadAdditionalParams=function(){n.getAdditionalParams().then(function(t){e.settings.additionalParams=t,e.$broadcast("loadAdditionalParams",t)},function(e){alert(e)})},e.setAdditionalParams=function(t,n){e.settings.additionalParams[t]=n},e.saveSettings=function(){e.alerts=[],e.$broadcast("collectAdditionalParams"),t.saveSettings(e.settings).then(function(){},function(t){e.alerts=t.alerts})},e.closeSettings=function(){a.closeSettings().then(function(){},function(t){e.alerts=t.alerts})},e.settings.params=n.getParams(),e.loadAdditionalParams()}]).directive("scrollOnAlerts",function(){return{restrict:"A",scope:!1,link:function(e,t){e.$watchCollection("alerts",function(e,n){e.length>0&&0===n.length&&$("body").animate({scrollTop:t.offset().top},"fast")})}}}),angular.module("risevision.widget.common").constant("STORAGE_FILE_URL_BASE","storage.googleapis.com/risemedialibrary-").constant("STORAGE_FOLDER_URL_BASE","googleapis.com/storage/").factory("commonSettings",["$log","STORAGE_FILE_URL_BASE","STORAGE_FOLDER_URL_BASE",function(e,t,n){var a={getStorageUrlData:function(e){function a(e){return-1!==e.indexOf(t)?"file":-1!==e.indexOf(n)?"folder":null}function i(e){var t=e.split("risemedialibrary-");return t[1].slice(0,t[1].indexOf("/"))}var o,r,s,l,c={};if("file"===a(e))o=e.split(t)[1],o=decodeURIComponent(o.slice(o.indexOf("/")+1)),r=o.split("/"),c.companyId=i(e),c.fileName=r.pop(),c.folder=r.length>0?r.join("/"):"",""!==c.folder&&(c.folder+="/");else if("folder"===a(e)){s=e.split("?");for(var u=0;u<s.length;u++)if(l=s[u].split("="),"prefix"===l[0]&&"undefined"!=typeof l[1]&&""!==l[1]){c.companyId=i(e),c.folder=decodeURIComponent(l[1]),c.fileName="";break}}return c}};return a}]),angular.module("risevision.widget.common").factory("gadgetsApi",["$window",function(e){return e.gadgets}]),angular.module("risevision.widget.common").factory("googleFontLoader",["$http","angularLoad",function(e,t){function n(){for(var e="",n="",a="",o=[],r=!1,s=",sans-serif;",l="//fonts.googleapis.com/css?family=",c=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],u=0;u<i.length;u++)e=i[u],-1===c.indexOf(e)&&(a=l+e,t.loadCSS(a),o.push(a),/\s/.test(e)&&(r=!0),n+=r?e+"='"+e+"'"+s:e+"="+e+s);return{fonts:n,urls:o}}var a={},i=[];return a.getGoogleFonts=function(){return 0===i.length?e.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY&sort=alpha",{cache:!0}).then(function(e){var t=null;if(e.data&&e.data.items){for(var a=0,o=e.data.items.length;o>a;a++)t=e.data.items[a],t.subsets&&1===t.subsets.length&&"khmer"===t.subsets[0].toLowerCase()||i.push(t.family);return n()}}):n()},a.getFontsUsed=function(e){var t=[];return angular.forEach(i,function(n){-1!==e.indexOf(n)&&t.push(n)}),t},a}]),angular.module("risevision.widget.common").service("i18nLoader",["$window","$q",function(e,t){var n=t.defer();e.i18n.init({fallbackLng:"en",resGetPath:"locales/__ns_____lng__.json"},function(){n.resolve(e.i18n)}),this.get=function(){return n.promise}}]),angular.module("risevision.widget.common").factory("imageValidator",["$q",function(e){var t={isImage:function(t){var n=e.defer(),a=new Image;return a.onload=function(){n.resolve(!0)},a.onerror=function(){n.resolve(!1)},a.src=t,n.promise}};return t}]),angular.module("risevision.widget.common").service("settingsSaver",["$q","$log","gadgetsApi","settingsParser",function(e,t,n,a){function i(e){var t=angular.copy(e);return delete t.params.id,delete t.params.companyId,delete t.params.rsW,delete t.params.rsH,t}this.saveSettings=function(o,r){var s=e.defer(),l=[],c="";o=i(o),r&&(l=r(o)),l.length>0&&(t.debug("Validation failed.",l),s.reject({alerts:l})),o.params.hasOwnProperty("layoutURL")&&(c+=o.params.layoutURL+"?",delete o.params.layoutURL),c+=a.encodeParams(o.params);var u=a.encodeAdditionalParams(o.additionalParams);return n.rpc.call("","rscmd_saveSettings",function(e){t.debug("encoded settings",JSON.stringify(e)),t.debug("Settings saved. ",o),s.resolve(e)},{params:c,additionalParams:u}),s.promise}}]).service("settingsGetter",["$q","gadgetsApi","$log","settingsParser","$window","defaultSettings",function(e,t,n,a,i,o){this.getAdditionalParams=function(){var i=e.defer(),r=o.additionalParams||{};return t.rpc.call("","rscmd_getAdditionalParams",function(e){e=e?a.parseAdditionalParams(e):{},n.debug("getAdditionalParams returns ",e),i.resolve($.extend(!0,r,e))}),i.promise},this.getParams=function(){var e=o.params||{};return angular.extend(e,a.parseParams(i.location.search))}}]).service("settingsParser",[function(){function e(e){return 0===e.indexOf("up_")?e.slice(3):null}this.parseAdditionalParams=function(e){return e?JSON.parse(e):{}},this.encodeAdditionalParams=function(e){return JSON.stringify(e)},this.encodeParams=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var a;a="object"==typeof e[n]?JSON.stringify(e[n]):e[n],t.push("up_"+encodeURIComponent(n)+"="+encodeURIComponent(a))}return t.join("&")},this.parseParams=function(t){"?"===t[0]&&(t=t.slice(1));for(var n={},a=t.split("&"),i=0;i<a.length;i++){var o=a[i].split("="),r=e(decodeURIComponent(o[0]));if(r)try{n[r]=JSON.parse(decodeURIComponent(o[1]))}catch(s){n[r]=decodeURIComponent(o[1])}}return n}}]).service("settingsCloser",["$q","$log","gadgetsApi",function(e,t,n){this.closeSettings=function(){var t=e.defer();return n.rpc.call("","rscmd_closeSettings",function(){t.resolve(!0)}),t.promise}}]).value("defaultSettings",{}),function(e){"use strict";e.module("risevision.widget.common.visualization",[]).factory("visualizationApi",["$q","$window",function(e,t){var n,a=e.defer(),i={get:function(){return n||(n=a.promise,t.google.visualization?a.resolve(t.google.visualization):t.google.setOnLoadCallback(function(){a.resolve(t.google.visualization)})),n}};return i}])}(angular),angular.module("risevision.widget.googleSpreadsheet.settings").controller("spreadsheetSettingsController",["$scope","$window","$log","googleSheet","columns",function(e,t,n,a,i){function o(t){a.getWorkSheets(t).then(function(t){n.debug("Worksheets",t),e.published=!0,e.sheets=t,e.currentSheet=t[e.settings.additionalParams.spreadsheet.tabId-1]}).then(null,function(){e.published=!1,e.sheets=[],e.currentSheet=null,e.settings.additionalParams.spreadsheet.tabId=1})}e.showPreview=!1,e.sheets=[],e.currentSheet=null,e.columns=[],e.getColumns=function(t){i.getColumns(t).then(function(t){t.length>0&&(e.columns=t)}).then(null,n.error)},e.$watch("currentSheet",function(t){t&&(e.settings.additionalParams.spreadsheet.tabId=t.value)}),e.published=!0,e.$watch("settings.additionalParams.spreadsheet.fileId",function(t){"undefined"!=typeof t&&t?(e.showPreview=!0,e.settingsForm.$setValidity("fileId",!0),"key"===e.settings.additionalParams.spreadsheet.selection&&(e.settings.additionalParams.spreadsheet.url="https://docs.google.com/spreadsheets/d/"+t+"/edit#gid=0"),o(t)):e.settingsForm.$setValidity("fileId",!1)}),e.$watch("settings.additionalParams.spreadsheet.url",function(t,n){"undefined"!=typeof t&&t!==n&&(e.columns=[],"undefined"!=typeof n&&""!==n&&(e.settings.additionalParams.format.columns=[]),""!==t&&e.getColumns(t))}),e.$watch("published",function(t){"undefined"!=typeof t&&e.settings.additionalParams.spreadsheet&&e.settings.additionalParams.spreadsheet.fileId&&""!==e.settings.additionalParams.spreadsheet.fileId&&e.settingsForm.$setValidity("fileId",t)}),e.$on("picked",function(t,n){e.showPreview=!0,e.settings.additionalParams.spreadsheet.selection="drive",e.settings.additionalParams.spreadsheet.docName=n[0].name,e.settings.additionalParams.spreadsheet.url=encodeURI(n[0].url),e.settings.additionalParams.spreadsheet.fileId=n[0].id}),e.setSelection=function(){e.showPreview=!0,e.settings.additionalParams.spreadsheet.selection="key"},e.previewFile=function(){t.open(e.settings.additionalParams.spreadsheet.url,"_blank")},e.retryFile=function(){e.settings.additionalParams.spreadsheet.fileId&&""!==e.settings.additionalParams.spreadsheet.fileId&&(e.published=!0,o(e.settings.additionalParams.spreadsheet.fileId))},e.clearSelection=function(){e.published=!0,"drive"===e.settings.additionalParams.spreadsheet.selection&&(e.settings.additionalParams.spreadsheet.docName=""),e.settings.additionalParams.spreadsheet.url="",e.settings.additionalParams.spreadsheet.fileId=""}}]).value("defaultSettings",{params:{},additionalParams:{format:{body:{fontStyle:{font:{family:"tahoma,arial,helvetica,sans-serif",type:"standard",url:""},size:"18px",customSize:"",align:"left",verticalAlign:"middle",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"}},columns:[],evenRowColor:"",header:{fontStyle:{font:{family:"tahoma,arial,helvetica,sans-serif",type:"standard",url:""},size:"18px",customSize:"",align:"left",verticalAlign:"middle",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"}},oddRowColor:"",rowHeight:50,separator:{color:"rgba(238,238,238, 1)",showColumn:!0,showRow:!0}},scroll:{},spreadsheet:{selection:"drive",docName:"",url:"",fileId:"",cells:"sheet",range:{startCell:"",endCell:""},tabId:1,hasHeader:!1,refresh:5}}}),angular.module("risevision.widget.googleSpreadsheet.settings").constant("SPREADSHEET_API_WORKSHEETS","https://spreadsheets.google.com/feeds/worksheets/").constant("SPREADSHEET_API_SUFFIX","/public/basic").factory("googleSheet",["$http","$log","SPREADSHEET_API_WORKSHEETS","SPREADSHEET_API_SUFFIX",function(e,t,n,a){var i={},o=function(e){var t,n;return n=e.feed.entry.map(function(e,n){return t={},t.label=e.title.$t,t.value=n+1,t})};return i.getWorkSheets=function(t){var i=n+t+a;return e.get(encodeURI(i+"?alt=json")).then(function(e){return e.data}).then(function(e){return o(e)})},i}]),function(){"use strict";angular.module("risevision.widget.googleSpreadsheet.settings").factory("columns",["visualizationApi","$q",function(e,t){function n(e){var t,n,a,i,o,r=e.getDataTable(),s=[],l=[];for(i=0;i<r.getNumberOfColumns();i++)for(o=0;o<r.getNumberOfRows();o++)if(t=r.getValue(o,i),t&&""!==t){l.push(i);
break}for(i=0;i<l.length;i++)n=r.getColumnLabel(l[i]),""===n&&(n=r.getColumnId(l[i])),a=r.getColumnId(l[i])+"_"+r.getColumnType(l[i])+"_"+n,s.push({id:a,name:n,type:r.getColumnType(l[i])});return s}var a={};return a.getColumns=function(a){var i=t.defer();return e.get().then(function(e){var t=new e.Query(a);t.setQuery("select * limit 1"),t.setTimeout(30),t.send(function(e){e?e.isError()?i.reject(e.getMessage()):i.resolve(n(e)):i.reject("No response")})}),i.promise},a}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3NldHRpbmdzLm1pbi5qcyJdLCJuYW1lcyI6WyJoYW5kbGVDbGllbnRKU0xvYWQiLCJpc0NsaWVudEpTIiwiZXZ0IiwiZG9jdW1lbnQiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsIndpbmRvdyIsImRpc3BhdGNoRXZlbnQiLCJhbmd1bGFyIiwibW9kdWxlIiwicnVuIiwiJHRyYW5zbGF0ZSIsImtleSIsInN0b3JhZ2VLZXkiLCJzdG9yYWdlIiwiZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlIiwicHJlZmVycmVkIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJpc1N0cmluZyIsInVzZSIsInB1dCIsImdldCIsInByb3ZpZGVyIiwiJFNUT1JBR0VfS0VZIiwiJHByZWZlcnJlZExhbmd1YWdlIiwiJGxhbmd1YWdlS2V5QWxpYXNlcyIsIiRmYWxsYmFja0xhbmd1YWdlIiwiJGZhbGxiYWNrV2FzU3RyaW5nIiwiJHVzZXMiLCIkbmV4dExhbmciLCIkc3RvcmFnZUZhY3RvcnkiLCIkc3RvcmFnZVByZWZpeCIsIiRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSIsIiRpbnRlcnBvbGF0aW9uRmFjdG9yeSIsIiRsb2FkZXJGYWN0b3J5IiwiJGxvYWRlck9wdGlvbnMiLCIkbm90Rm91bmRJbmRpY2F0b3JMZWZ0IiwiJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJsb2FkZXJDYWNoZSIsIiR0cmFuc2xhdGlvblRhYmxlIiwiJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsIiRzdG9yYWdlS2V5IiwiJGludGVycG9sYXRvckZhY3RvcmllcyIsIiRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kiLCIkY2xvYWtDbGFzc05hbWUiLCIkcG9zdENvbXBpbGluZ0VuYWJsZWQiLCJORVNURURfT0JKRUNUX0RFTElNSVRFUiIsInZlcnNpb24iLCJnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSIsImkiLCJsYW5ndWFnZSIsIm5hdiIsIm5hdmlnYXRvciIsImJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cyIsImlzQXJyYXkiLCJsYW5ndWFnZXMiLCJsZW5ndGgiLCJkaXNwbGF5TmFtZSIsImdldExvY2FsZSIsInNwbGl0Iiwiam9pbiIsImluZGV4T2YiLCJhcnJheSIsInNlYXJjaEVsZW1lbnQiLCJsZW4iLCJ0cmltIiwidGhpcyIsInJlcGxhY2UiLCJuZWdvdGlhdGVMb2NhbGUiLCJhdmFpbCIsImxvY2FsZSIsImxvd2VyY2FzZSIsIm4iLCJwdXNoIiwiYWxpYXMiLCJsYW5nS2V5QWxpYXMiLCJoYXNXaWxkY2FyZEtleSIsImhhc0V4YWN0S2V5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwic2xpY2UiLCJwYXJ0cyIsInRyYW5zbGF0aW9ucyIsImxhbmdLZXkiLCJ0cmFuc2xhdGlvblRhYmxlIiwiaXNPYmplY3QiLCJleHRlbmQiLCJmbGF0T2JqZWN0IiwiY2xvYWtDbGFzc05hbWUiLCJuYW1lIiwiZGF0YSIsInBhdGgiLCJyZXN1bHQiLCJwcmV2S2V5Iiwia2V5V2l0aFBhdGgiLCJrZXlXaXRoU2hvcnRQYXRoIiwidmFsIiwiY29uY2F0IiwiYWRkSW50ZXJwb2xhdGlvbiIsImZhY3RvcnkiLCJ1c2VNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvbiIsInVzZUludGVycG9sYXRpb24iLCJ1c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kiLCJ2YWx1ZSIsInNldHVwUHJlZmVycmVkTGFuZ3VhZ2UiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yIiwiaW5kaWNhdG9yIiwidHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJmYWxsYmFja0xhbmd1YWdlIiwiZmFsbGJhY2tTdGFjayIsIkVycm9yIiwidXNlVXJsTG9hZGVyIiwidXJsIiwib3B0aW9ucyIsInVzZUxvYWRlciIsInVzZVN0YXRpY0ZpbGVzTG9hZGVyIiwibG9hZGVyRmFjdG9yeSIsInVzZUxvY2FsU3RvcmFnZSIsInVzZVN0b3JhZ2UiLCJ1c2VDb29raWVTdG9yYWdlIiwic3RvcmFnZUZhY3RvcnkiLCJzdG9yYWdlUHJlZml4IiwicHJlZml4IiwidXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyIsInVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIiLCJ1c2VQb3N0Q29tcGlsaW5nIiwiZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UiLCJmbiIsImlzRnVuY3Rpb24iLCJyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsImxhbmd1YWdlS2V5cyIsImFsaWFzZXMiLCJ1c2VMb2FkZXJDYWNoZSIsImNhY2hlIiwidW5kZWZpbmVkIiwiJGdldCIsIiRsb2ciLCIkaW5qZWN0b3IiLCIkcm9vdFNjb3BlIiwiJHEiLCJTdG9yYWdlIiwiZmFsbGJhY2tJbmRleCIsInN0YXJ0RmFsbGJhY2tJdGVyYXRpb24iLCJkZWZhdWx0SW50ZXJwb2xhdG9yIiwicGVuZGluZ0xvYWRlciIsImludGVycG9sYXRvckhhc2hNYXAiLCJsYW5nUHJvbWlzZXMiLCJ0cmFuc2xhdGlvbklkIiwiaW50ZXJwb2xhdGVQYXJhbXMiLCJpbnRlcnBvbGF0aW9uSWQiLCJ0cmFuc2xhdGVBbGwiLCJ0cmFuc2xhdGlvbklkcyIsInJlc3VsdHMiLCJwcm9taXNlcyIsInRyYW5zbGF0ZSIsImRlZmVycmVkIiwiZGVmZXIiLCJyZWdhcmRsZXNzIiwicmVzb2x2ZSIsInRoZW4iLCJwcm9taXNlIiwiYyIsImFsbCIsImFwcGx5IiwicHJvbWlzZVRvV2FpdEZvciIsImluZGV4IiwiZGV0ZXJtaW5lVHJhbnNsYXRpb24iLCJyZWplY3QiLCJhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyIsInVzZUxhbmd1YWdlIiwiJGVtaXQiLCJzZXRMb2NhbGUiLCJmb3JFYWNoIiwiaW50ZXJwb2xhdG9yIiwiaWQiLCJsb2FkQXN5bmMiLCJsb2FkZXJPcHRpb25zIiwiJGh0dHAiLCJ0YWJsZSIsImludGVycG9sYXRvckZhY3RvcnkiLCJnZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllciIsImdldFRyYW5zbGF0aW9uVGFibGUiLCJnZXRGYWxsYmFja1RyYW5zbGF0aW9uIiwiSW50ZXJwb2xhdG9yIiwiaW50ZXJwb2xhdGUiLCJnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCIsInRyYW5zbGF0ZUJ5SGFuZGxlciIsInJlc3VsdFN0cmluZyIsInJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlIiwiZmFsbGJhY2tMYW5ndWFnZUluZGV4IiwicmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50IiwiZmFsbGJhY2tUcmFuc2xhdGlvbiIsImZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50IiwidHJhbnNsYXRpb24iLCJzdWJzdHIiLCJtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24iLCJfdHJhbnNsYXRpb25JZCIsImRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCIsInVzZUZhbGxiYWNrTGFuZ3VhZ2UiLCJsYW5nS2V5UG9zaXRpb24iLCJwcm9wb3NlZExhbmd1YWdlIiwiYWxpYXNlZEtleSIsImlzUG9zdENvbXBpbGluZ0VuYWJsZWQiLCJyZWZyZXNoIiwidGFibGVzIiwibG9hZGluZ0tleXMiLCJ0YWJsZURhdGEiLCJpbnN0YW50IiwiaXNVbmRlZmluZWQiLCJwb3NzaWJsZUxhbmdLZXlzIiwiaiIsImQiLCJwb3NzaWJsZUxhbmdLZXkiLCJ2ZXJzaW9uSW5mbyIsImVxdWFscyIsInByb2Nlc3NBc3luY1Jlc3VsdCIsIiRpbnRlcnBvbGF0ZSIsIiRsb2NhbGUiLCIkdHJhbnNsYXRlSW50ZXJwb2xhdG9yIiwiJGlkZW50aWZpZXIiLCIkc2FuaXRpemVWYWx1ZVN0cmF0ZWd5Iiwic2FuaXRpemVWYWx1ZVN0cmF0ZWdpZXMiLCJlc2NhcGVkIiwicGFyYW1zIiwiZWxlbWVudCIsInRleHQiLCJodG1sIiwic2FuaXRpemVQYXJhbXMiLCJzdHJpbmciLCJjb25zdGFudCIsImRpcmVjdGl2ZSIsIiRjb21waWxlIiwiJHBhcnNlIiwicmVzdHJpY3QiLCJzY29wZSIsImNvbXBpbGUiLCJ0RWxlbWVudCIsInRBdHRyIiwidHJhbnNsYXRlVmFsdWVzRXhpc3QiLCJ0cmFuc2xhdGVWYWx1ZXMiLCJ0cmFuc2xhdGVJbnRlcnBvbGF0aW9uIiwidHJhbnNsYXRlVmFsdWVFeGlzdCIsIm91dGVySFRNTCIsIm1hdGNoIiwiaW50ZXJwb2xhdGVSZWdFeHAiLCJzdGFydFN5bWJvbCIsImVuZFN5bWJvbCIsIndhdGNoZXJSZWdFeHAiLCJpRWxlbWVudCIsImlBdHRyIiwicHJlVGV4dCIsInBvc3RUZXh0Iiwib2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbiIsImlzRGVmaW5lZCIsImludGVycG9sYXRlTWF0Y2hlcyIsIiRwYXJlbnQiLCJ3YXRjaGVyTWF0Y2hlcyIsIiR3YXRjaCIsIm5ld1ZhbHVlIiwidXBkYXRlVHJhbnNsYXRpb25zIiwib2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uIiwidHJhbnNsYXRlQXR0ciIsIiRvYnNlcnZlIiwiZGVmYXVsdFRleHQiLCJvYnNlcnZlVmFsdWVBdHRyaWJ1dGUiLCJhdHRyTmFtZSIsImF0dHJpYnV0ZU5hbWUiLCJhdHRyIiwidXBkYXRlVHJhbnNsYXRpb24iLCJhcHBseVRyYW5zbGF0aW9uIiwic3VjY2Vzc2Z1bCIsImdsb2JhbGx5RW5hYmxlZCIsImxvY2FsbHlEZWZpbmVkIiwidHJhbnNsYXRlQ29tcGlsZSIsImxvY2FsbHlFbmFibGVkIiwiY29udGVudHMiLCIkYXR0ciIsInVuYmluZCIsIiRvbiIsImFwcGx5Q2xvYWsiLCJhZGRDbGFzcyIsInJlbW92ZUNsb2FrIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmVMaXN0ZW5lciIsInRyYW5zbGF0ZUNsb2FrIiwiZmlsdGVyIiwidHJhbnNsYXRlRmlsdGVyIiwiaW50ZXJwb2xhdGlvbiIsIiRzdGF0ZWZ1bCIsInNlcnZpY2UiLCIkZG9jdW1lbnQiLCIkdGltZW91dCIsImxvYWRlciIsImNyZWF0ZUVsZW1lbnQiLCJvbmxvYWQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJlIiwicmVhZHlTdGF0ZSIsIm9uZXJyb3IiLCJsb2FkU2NyaXB0Iiwic3JjIiwic2NyaXB0IiwiYm9keSIsImFwcGVuZENoaWxkIiwibG9hZENTUyIsImhyZWYiLCJzdHlsZSIsInJlbCIsInR5cGUiLCJoZWFkIiwic3VmZml4IiwibWV0aG9kIiwic3VjY2VzcyIsImVycm9yIiwibG9hZFRyYW5zbGF0aW9uRmlsZSIsInRvTG93ZXJDYXNlIiwibGFzdEluZGV4T2YiLCJvcHRzIiwiY29uZmlnIiwiJHRyYW5zbGF0ZVByb3ZpZGVyIiwiTE9DQUxFU19QUkVGSVgiLCJMT0NBTEVTX1NVRklYIiwiJCIsIlBsdWdpbiIsIm9wdGlvbiIsImVhY2giLCIkdGhpcyIsIkFmZml4IiwiREVGQVVMVFMiLCIkdGFyZ2V0IiwidGFyZ2V0Iiwib24iLCJwcm94eSIsImNoZWNrUG9zaXRpb24iLCJjaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCIsIiRlbGVtZW50IiwiYWZmaXhlZCIsInVucGluIiwicGlubmVkT2Zmc2V0IiwiVkVSU0lPTiIsIlJFU0VUIiwib2Zmc2V0IiwiZ2V0UGlubmVkT2Zmc2V0Iiwic2Nyb2xsVG9wIiwicG9zaXRpb24iLCJ0b3AiLCJzZXRUaW1lb3V0IiwiaXMiLCJzY3JvbGxIZWlnaHQiLCJoZWlnaHQiLCJvZmZzZXRUb3AiLCJvZmZzZXRCb3R0b20iLCJib3R0b20iLCJhZmZpeCIsImNzcyIsImFmZml4VHlwZSIsIkV2ZW50IiwidHJpZ2dlciIsImlzRGVmYXVsdFByZXZlbnRlZCIsIm9sZCIsIkNvbnN0cnVjdG9yIiwibm9Db25mbGljdCIsIiRzcHkiLCJqUXVlcnkiLCJBbGVydCIsImRpc21pc3MiLCJlbCIsImNsb3NlIiwicmVtb3ZlRWxlbWVudCIsImRldGFjaCIsInJlbW92ZSIsInNlbGVjdG9yIiwicHJldmVudERlZmF1bHQiLCJoYXNDbGFzcyIsInBhcmVudCIsInN1cHBvcnQiLCJ0cmFuc2l0aW9uIiwib25lIiwiZW11bGF0ZVRyYW5zaXRpb25FbmQiLCJhbGVydCIsIkJ1dHRvbiIsInRvZ2dsZSIsInNldFN0YXRlIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJzdGF0ZSIsIiRlbCIsInJlc2V0VGV4dCIsInJlbW92ZUF0dHIiLCJjaGFuZ2VkIiwiY2xvc2VzdCIsIiRpbnB1dCIsImZpbmQiLCJwcm9wIiwidG9nZ2xlQ2xhc3MiLCJidXR0b24iLCIkYnRuIiwiQ2Fyb3VzZWwiLCJhY3Rpb24iLCJzbGlkZSIsInRvIiwiaW50ZXJ2YWwiLCJwYXVzZSIsImN5Y2xlIiwia2V5ZG93biIsIiRpbmRpY2F0b3JzIiwicGF1c2VkIiwic2xpZGluZyIsIiRhY3RpdmUiLCIkaXRlbXMiLCJ3cmFwIiwid2hpY2giLCJwcmV2IiwibmV4dCIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImdldEl0ZW1JbmRleCIsIml0ZW0iLCJjaGlsZHJlbiIsInBvcyIsInRoYXQiLCJhY3RpdmVJbmRleCIsImVuZCIsIiRuZXh0IiwiaXNDeWNsaW5nIiwiZGlyZWN0aW9uIiwiZmFsbGJhY2siLCJyZWxhdGVkVGFyZ2V0Iiwic2xpZGVFdmVudCIsIiRuZXh0SW5kaWNhdG9yIiwic2xpZEV2ZW50Iiwib2Zmc2V0V2lkdGgiLCJjYXJvdXNlbCIsInNsaWRlSW5kZXgiLCIkY2Fyb3VzZWwiLCJDb2xsYXBzZSIsInRyYW5zaXRpb25pbmciLCJkaW1lbnNpb24iLCJoYXNXaWR0aCIsInNob3ciLCJzdGFydEV2ZW50IiwiYWN0aXZlcyIsImhhc0RhdGEiLCJjb21wbGV0ZSIsInNjcm9sbFNpemUiLCJjYW1lbENhc2UiLCJoaWRlIiwib2Zmc2V0SGVpZ2h0IiwiY29sbGFwc2UiLCJub3QiLCJjbGVhck1lbnVzIiwiYmFja2Ryb3AiLCJnZXRQYXJlbnQiLCJ0ZXN0IiwiRHJvcGRvd24iLCJpc0FjdGl2ZSIsImRvY3VtZW50RWxlbWVudCIsImluc2VydEFmdGVyIiwia2V5Q29kZSIsInN0b3BQcm9wYWdhdGlvbiIsImRlc2MiLCJlcSIsImRyb3Bkb3duIiwiVGFiIiwiJHVsIiwicHJldmlvdXMiLCJhY3RpdmF0ZSIsImNvbnRhaW5lciIsImNhbGxiYWNrIiwidGFiIiwidHJhbnNpdGlvbkVuZCIsInRyYW5zRW5kRXZlbnROYW1lcyIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJkdXJhdGlvbiIsImNhbGxlZCIsImV2ZW50Iiwic3BlY2lhbCIsImJzVHJhbnNpdGlvbkVuZCIsImJpbmRUeXBlIiwiZGVsZWdhdGVUeXBlIiwiaGFuZGxlIiwiaGFuZGxlT2JqIiwiaGFuZGxlciIsImFyZ3VtZW50cyIsIlNjcm9sbFNweSIsInByb2Nlc3MiLCIkYm9keSIsIiRzY3JvbGxFbGVtZW50Iiwib2Zmc2V0cyIsInRhcmdldHMiLCJhY3RpdmVUYXJnZXQiLCJnZXRTY3JvbGxIZWlnaHQiLCJNYXRoIiwibWF4Iiwib2Zmc2V0TWV0aG9kIiwib2Zmc2V0QmFzZSIsImlzV2luZG93Iiwic2VsZiIsIm1hcCIsIiRocmVmIiwic29ydCIsImEiLCJiIiwibWF4U2Nyb2xsIiwicGFyZW50c1VudGlsIiwiYWN0aXZlIiwicGFyZW50cyIsInNjcm9sbHNweSIsIl9yZWxhdGVkVGFyZ2V0IiwiTW9kYWwiLCIkYmFja2Ryb3AiLCJpc1Nob3duIiwic2Nyb2xsYmFyV2lkdGgiLCJyZW1vdGUiLCJsb2FkIiwia2V5Ym9hcmQiLCJjaGVja1Njcm9sbGJhciIsInNldFNjcm9sbGJhciIsImVzY2FwZSIsImFwcGVuZFRvIiwiZW5mb3JjZUZvY3VzIiwicmVzZXRTY3JvbGxiYXIiLCJvZmYiLCJoaWRlTW9kYWwiLCJoYXMiLCJyZW1vdmVCYWNrZHJvcCIsImFuaW1hdGUiLCJkb0FuaW1hdGUiLCJjdXJyZW50VGFyZ2V0IiwiZm9jdXMiLCJjYWxsYmFja1JlbW92ZSIsImNsaWVudFdpZHRoIiwiaW5uZXJXaWR0aCIsIm1lYXN1cmVTY3JvbGxiYXIiLCJib2R5UGFkIiwicGFyc2VJbnQiLCJzY3JvbGxEaXYiLCJjbGFzc05hbWUiLCJhcHBlbmQiLCJyZW1vdmVDaGlsZCIsIm1vZGFsIiwic2hvd0V2ZW50IiwiVG9vbHRpcCIsImVuYWJsZWQiLCJ0aW1lb3V0IiwiaG92ZXJTdGF0ZSIsImluaXQiLCJhbmltYXRpb24iLCJwbGFjZW1lbnQiLCJ0ZW1wbGF0ZSIsInRpdGxlIiwiZGVsYXkiLCJ2aWV3cG9ydCIsInBhZGRpbmciLCJnZXRPcHRpb25zIiwiJHZpZXdwb3J0IiwidHJpZ2dlcnMiLCJldmVudEluIiwiZXZlbnRPdXQiLCJlbnRlciIsImxlYXZlIiwiX29wdGlvbnMiLCJmaXhUaXRsZSIsImdldERlZmF1bHRzIiwiZ2V0RGVsZWdhdGVPcHRpb25zIiwiZGVmYXVsdHMiLCJvYmoiLCJjb25zdHJ1Y3RvciIsImNsZWFyVGltZW91dCIsImhhc0NvbnRlbnQiLCJpbkRvbSIsImNvbnRhaW5zIiwiJHRpcCIsInRpcCIsInRpcElkIiwiZ2V0VUlEIiwic2V0Q29udGVudCIsImF1dG9Ub2tlbiIsImF1dG9QbGFjZSIsImxlZnQiLCJkaXNwbGF5IiwiZ2V0UG9zaXRpb24iLCJhY3R1YWxXaWR0aCIsImFjdHVhbEhlaWdodCIsIm9yZ1BsYWNlbWVudCIsInBhcmVudERpbSIsInNjcm9sbCIsInJpZ2h0Iiwid2lkdGgiLCJjYWxjdWxhdGVkT2Zmc2V0IiwiZ2V0Q2FsY3VsYXRlZE9mZnNldCIsImFwcGx5UGxhY2VtZW50IiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsImlzTmFOIiwic2V0T2Zmc2V0IiwidXNpbmciLCJwcm9wcyIsInJvdW5kIiwiZGVsdGEiLCJnZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEiLCJhcnJvd0RlbHRhIiwiYXJyb3dQb3NpdGlvbiIsImFycm93T2Zmc2V0UG9zaXRpb24iLCJyZXBsYWNlQXJyb3ciLCJhcnJvdyIsImdldFRpdGxlIiwiJGUiLCJpc0JvZHkiLCJ0YWdOYW1lIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0Iiwidmlld3BvcnRQYWRkaW5nIiwidmlld3BvcnREaW1lbnNpb25zIiwidG9wRWRnZU9mZnNldCIsImJvdHRvbUVkZ2VPZmZzZXQiLCJsZWZ0RWRnZU9mZnNldCIsInJpZ2h0RWRnZU9mZnNldCIsIm8iLCJyYW5kb20iLCJnZXRFbGVtZW50QnlJZCIsIiRhcnJvdyIsInZhbGlkYXRlIiwicGFyZW50Tm9kZSIsImVuYWJsZSIsImRpc2FibGUiLCJ0b2dnbGVFbmFibGVkIiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJ0b29sdGlwIiwiUG9wb3ZlciIsImNvbnRlbnQiLCJnZXRDb250ZW50IiwiZW1wdHkiLCJwb3BvdmVyIiwiJGFuaW1hdGUiLCJsaW5rIiwiYXR0cnMiLCJleHBhbmQiLCJleHBhbmREb25lIiwiY29sbGFwc2VEb25lIiwic2hvdWxkQ29sbGFwc2UiLCJjbG9zZU90aGVycyIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkYXR0cnMiLCJhY2NvcmRpb25Db25maWciLCJncm91cHMiLCJvcGVuR3JvdXAiLCIkZXZhbCIsImdyb3VwIiwiaXNPcGVuIiwiYWRkR3JvdXAiLCJncm91cFNjb3BlIiwicmVtb3ZlR3JvdXAiLCJzcGxpY2UiLCJjb250cm9sbGVyQXMiLCJ0cmFuc2NsdWRlIiwidGVtcGxhdGVVcmwiLCJyZXF1aXJlIiwiaGVhZGluZyIsImlzRGlzYWJsZWQiLCJzZXRIZWFkaW5nIiwiYWNjb3JkaW9uQ3RybCIsIm9wZW5DbGFzcyIsInBhbmVsQ2xhc3MiLCJ0b2dnbGVPcGVuIiwiJGV2ZW50IiwiYWNjb3JkaW9uR3JvdXBDdHJsIiwibm9vcCIsImFjY29yZGlvblRyYW5zY2x1ZGUiLCJjbG9zZWFibGUiLCJhbGVydEN0cmwiLCJkaXNtaXNzT25UaW1lb3V0IiwiJGJpbmRIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkIiwid2FybiIsImJpbmRIdG1sVW5zYWZlIiwiYWN0aXZlQ2xhc3MiLCJ0b2dnbGVFdmVudCIsImJ1dHRvbkNvbmZpZyIsImN0cmxzIiwiYnV0dG9uc0N0cmwiLCJuZ01vZGVsQ3RybCIsIiRyZW5kZXIiLCIkbW9kZWxWYWx1ZSIsImJ0blJhZGlvIiwiYmluZCIsImRpc2FibGVkIiwidW5jaGVja2FibGUiLCIkYXBwbHkiLCIkc2V0Vmlld1ZhbHVlIiwiZ2V0VHJ1ZVZhbHVlIiwiZ2V0Q2hlY2tib3hWYWx1ZSIsImJ0bkNoZWNrYm94VHJ1ZSIsImdldEZhbHNlVmFsdWUiLCJidG5DaGVja2JveEZhbHNlIiwiYXR0cmlidXRlVmFsdWUiLCJkZWZhdWx0VmFsdWUiLCJhY3RpdmVFbGVtZW50IiwiJGludGVydmFsIiwiZ29OZXh0IiwiZGVzdHJveWVkIiwiY3VycmVudFNsaWRlIiwibm9UcmFuc2l0aW9uIiwiJGN1cnJlbnRUcmFuc2l0aW9uIiwic2xpZGVzIiwiU0xJREVfRElSRUNUSU9OIiwiTkVXX0FOSU1BVEUiLCJwaGFzZSIsImN1cnJlbnRJbmRleCIsInJlc3RhcnRUaW1lciIsImdldFNsaWRlQnlJbmRleCIsInJlc2V0VGltZXIiLCJjdXJyZW50SW50ZXJ2YWwiLCJ0aW1lckZuIiwiY2FuY2VsIiwiaXNQbGF5aW5nIiwibWlub3IiLCJOT19UUkFOU0lUSU9OIiwic2VsZWN0IiwibmV4dFNsaWRlIiwibmV4dEluZGV4IiwiaW5kZXhPZlNsaWRlIiwiZ2V0Q3VycmVudEluZGV4IiwibmV3SW5kZXgiLCJub1dyYXAiLCJwbGF5Iiwibm9QYXVzZSIsImFkZFNsaWRlIiwicmVtb3ZlU2xpZGUiLCJhY3R1YWwiLCJjYXJvdXNlbEN0cmwiLCIkYW5pbWF0ZUNzcyIsImJlZm9yZUFkZENsYXNzIiwiZG9uZSIsInN0b3BwZWQiLCJkaXJlY3Rpb25DbGFzcyIsInJlbW92ZUNsYXNzRm4iLCJzdGFydCIsImJlZm9yZVJlbW92ZUNsYXNzIiwib3JkZXJCeUZpbHRlciIsImNyZWF0ZVBhcnNlciIsImZvcm1hdCIsInJlZ2V4IiwiZm9ybWF0Q29kZVRvUmVnZXgiLCJjb2RlIiwiUmVnRXhwIiwiaXNWYWxpZCIsInllYXIiLCJtb250aCIsImRhdGUiLCJTUEVDSUFMX0NIQVJBQ1RFUlNfUkVHRVhQIiwicGFyc2VycyIsInl5eXkiLCJ5eSIsInkiLCJNTU1NIiwiREFURVRJTUVfRk9STUFUUyIsIk1PTlRIIiwiTU1NIiwiU0hPUlRNT05USCIsIk1NIiwiTSIsImRkIiwiRUVFRSIsIkRBWSIsIkVFRSIsIlNIT1JUREFZIiwiSEgiLCJob3VycyIsImhoIiwiSCIsImgiLCJtbSIsIm1pbnV0ZXMiLCJtIiwic3NzIiwibWlsbGlzZWNvbmRzIiwic3MiLCJzZWNvbmRzIiwicyIsIkFNUE1TIiwicGFyc2UiLCJpbnB1dCIsImJhc2VEYXRlIiwicGFyc2VyIiwiZmllbGRzIiwiZHQiLCJpc0RhdGUiLCJnZXRUaW1lIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZ2V0TWlsbGlzZWNvbmRzIiwibWFwcGVyIiwiRGF0ZSIsIiR3aW5kb3ciLCJnZXRTdHlsZSIsImNzc3Byb3AiLCJjdXJyZW50U3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiaXNTdGF0aWNQb3NpdGlvbmVkIiwicGFyZW50T2Zmc2V0RWwiLCJkb2NEb21FbCIsIm9mZnNldFBhcmVudCIsImVsQkNSIiwib2Zmc2V0UGFyZW50QkNSIiwib2Zmc2V0UGFyZW50RWwiLCJjbGllbnRUb3AiLCJjbGllbnRMZWZ0Iiwic2Nyb2xsTGVmdCIsImJvdW5kaW5nQ2xpZW50UmVjdCIsInBhZ2VZT2Zmc2V0IiwicGFnZVhPZmZzZXQiLCJwb3NpdGlvbkVsZW1lbnRzIiwiaG9zdEVsIiwidGFyZ2V0RWwiLCJwb3NpdGlvblN0ciIsImFwcGVuZFRvQm9keSIsImhvc3RFbFBvcyIsInRhcmdldEVsV2lkdGgiLCJ0YXJnZXRFbEhlaWdodCIsInRhcmdldEVsUG9zIiwicG9zaXRpb25TdHJQYXJ0cyIsInBvczAiLCJwb3MxIiwic2hpZnRXaWR0aCIsImNlbnRlciIsInNoaWZ0SGVpZ2h0IiwiZm9ybWF0RGF5IiwiZm9ybWF0TW9udGgiLCJmb3JtYXRZZWFyIiwiZm9ybWF0RGF5SGVhZGVyIiwiZm9ybWF0RGF5VGl0bGUiLCJmb3JtYXRNb250aFRpdGxlIiwiZGF0ZXBpY2tlck1vZGUiLCJtaW5Nb2RlIiwibWF4TW9kZSIsInNob3dXZWVrcyIsInN0YXJ0aW5nRGF5IiwieWVhclJhbmdlIiwibWluRGF0ZSIsIm1heERhdGUiLCJzaG9ydGN1dFByb3BhZ2F0aW9uIiwiZGF0ZUZpbHRlciIsImRhdGVwaWNrZXJDb25maWciLCIkZGF0ZXBpY2tlclN1cHByZXNzRXJyb3IiLCJtb2RlcyIsInJlZnJlc2hWaWV3IiwidW5pcXVlSWQiLCIkaWQiLCJmbG9vciIsImluaXREYXRlIiwiYWN0aXZlRGF0ZSIsIiRpc0VtcHR5IiwiJGludmFsaWQiLCJkYXRlT2JqZWN0IiwiY29tcGFyZSIsImFjdGl2ZURhdGVJZCIsInVpZCIsIm5nTW9kZWxDdHJsXyIsInJlbmRlciIsIiR2aWV3VmFsdWUiLCJfcmVmcmVzaFZpZXciLCIkc2V0VmFsaWRpdHkiLCJjcmVhdGVEYXRlT2JqZWN0IiwibW9kZWwiLCJsYWJlbCIsInNlbGVjdGVkIiwiY3VycmVudCIsImN1c3RvbUNsYXNzIiwiZGF0ZURpc2FibGVkIiwibW9kZSIsImFyciIsInNpemUiLCJhcnJheXMiLCJmaXhUaW1lWm9uZSIsInNldEhvdXJzIiwic2V0RnVsbFllYXIiLCJtb3ZlIiwic3RlcCIsInllYXJzIiwibW9udGhzIiwidG9nZ2xlTW9kZSIsImtleXMiLDEzLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLCJmb2N1c0VsZW1lbnQiLCJzaGlmdEtleSIsImFsdEtleSIsImN0cmxLZXkiLCJoYW5kbGVLZXlEb3duIiwiZGF0ZXBpY2tlckN0cmwiLCJjdHJsIiwiZ2V0RGF5c0luTW9udGgiLCJEQVlTX0lOX01PTlRIIiwiZ2V0RGF0ZXMiLCJzdGFydERhdGUiLCJkYXRlcyIsIkFycmF5Iiwic2V0RGF0ZSIsImdldElTTzg2MDFXZWVrTnVtYmVyIiwiY2hlY2tEYXRlIiwiZ2V0RGF5IiwidGltZSIsInNldE1vbnRoIiwiZmlyc3REYXlPZk1vbnRoIiwiZGlmZmVyZW5jZSIsIm51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoIiwiZmlyc3REYXRlIiwiZGF5cyIsInNlY29uZGFyeSIsImxhYmVscyIsImFiYnIiLCJmdWxsIiwicm93cyIsIndlZWtOdW1iZXJzIiwidGh1cnNkYXlJbmRleCIsIm51bVdlZWtzIiwiY3VyV2VlayIsImRhdGUxIiwiZGF0ZTIiLCJtaW4iLCJnZXRTdGFydGluZ1llYXIiLCJyYW5nZSIsImRhdGVwaWNrZXJQb3B1cCIsImRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsIiwiZGF0ZXBpY2tlclRlbXBsYXRlVXJsIiwiaHRtbDVUeXBlcyIsImRhdGV0aW1lLWxvY2FsIiwiY3VycmVudFRleHQiLCJjbGVhclRleHQiLCJjbG9zZVRleHQiLCJjbG9zZU9uRGF0ZVNlbGVjdGlvbiIsInNob3dCdXR0b25CYXIiLCJvbk9wZW5Gb2N1cyIsIiRwb3NpdGlvbiIsImRhdGVQYXJzZXIiLCJkYXRlcGlja2VyUG9wdXBDb25maWciLCJuZ01vZGVsIiwiY2FtZWx0b0Rhc2giLCIkMSIsInBhcnNlRGF0ZSIsInZpZXdWYWx1ZSIsImlzTnVtYmVyIiwiZGF0ZUZvcm1hdCIsInZhbGlkYXRvciIsIm1vZGVsVmFsdWUiLCJuZ1JlcXVpcmVkIiwiZGF0ZXBpY2tlckFwcGVuZFRvQm9keSIsImdldFRleHQiLCJ3YXRjaERhdGEiLCJpc0h0bWw1RGF0ZUlucHV0IiwibmV3RGF0ZUZvcm1hdCIsInBvcHVwRWwiLCJuZy1tb2RlbCIsIm5nLWNoYW5nZSIsInRlbXBsYXRlLXVybCIsImRhdGVwaWNrZXJFbCIsImRhdGVwaWNrZXJPcHRpb25zIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiYXNzaWduIiwib2xkdmFsdWUiLCIkZm9ybWF0dGVycyIsIiQkcGFyc2VyTmFtZSIsIiR2YWxpZGF0b3JzIiwiJHBhcnNlcnMiLCJ1bnNoaWZ0IiwiZGF0ZVNlbGVjdGlvbiIsIiR2aWV3Q2hhbmdlTGlzdGVuZXJzIiwiZG9jdW1lbnRDbGlja0JpbmQiLCJpbnB1dEtleWRvd25CaW5kIiwiJGJyb2FkY2FzdCIsInRvZGF5IiwiJHBvcHVwIiwiYWZ0ZXIiLCIkJHBoYXNlIiwib3BlblNjb3BlIiwib3BlbiIsImRyb3Bkb3duU2NvcGUiLCJjbG9zZURyb3Bkb3duIiwia2V5YmluZEZpbHRlciIsImdldEF1dG9DbG9zZSIsInRvZ2dsZUVsZW1lbnQiLCJnZXRUb2dnbGVFbGVtZW50IiwiZHJvcGRvd25FbGVtZW50IiwiZ2V0RHJvcGRvd25FbGVtZW50IiwiZm9jdXNUb2dnbGVFbGVtZW50IiwiaXNLZXluYXZFbmFibGVkIiwiZm9jdXNEcm9wZG93bkVudHJ5IiwiZHJvcGRvd25Db25maWciLCJkcm9wZG93blNlcnZpY2UiLCIkdGVtcGxhdGVSZXF1ZXN0IiwidGVtcGxhdGVTY29wZSIsImdldElzT3BlbiIsIiRuZXciLCJzZXRJc09wZW4iLCJ0b2dnbGVJbnZva2VyIiwib25Ub2dnbGUiLCJrZXluYXZFbmFibGVkIiwiZHJvcGRvd25BcHBlbmRUb0JvZHkiLCJrZXlib2FyZE5hdiIsImRyb3Bkb3duTWVudSIsImF1dG9DbG9zZSIsImdldEVsZW1lbnQiLCJlbGVtcyIsInNlbGVjdGVkT3B0aW9uIiwid2FzT3BlbiIsInJpZ2h0YWxpZ24iLCJvcGVuQ29udGFpbmVyIiwiZHJvcGRvd25NZW51VGVtcGxhdGVVcmwiLCJ0cGxDb250ZW50IiwibmV3RWwiLCJyZXBsYWNlV2l0aCIsIiRkZXN0cm95Iiwib2ZmRGVzdHJveSIsImRyb3Bkb3duQ3RybCIsInRwbFVybCIsInRvZ2dsZURyb3Bkb3duIiwiYXJpYS1oYXNwb3B1cCIsImFyaWEtZXhwYW5kZWQiLCJjcmVhdGVOZXciLCJzdGFjayIsImFkZCIsImlkeCIsInJlbW92ZVRvcCIsImVudHJpZXMiLCJoYXNLZXkiLCJ2YWx1ZXMiLCIkbW9kYWxTdGFjayIsImxpbmtGbiIsIm1vZGFsSW5DbGFzcyIsIk5PV19DTE9TSU5HX0VWRU5UIiwic2V0SXNBc3luYyIsInRBdHRycyIsImJhY2tkcm9wQ2xhc3MiLCJ3aW5kb3dDbGFzcyIsImdldFRvcCIsIiRpc1JlbmRlcmVkIiwibW9kYWxSZW5kZXJEZWZlck9iaiIsImFuaW1hdGlvblByb21pc2UiLCJ3aGVuIiwiaW5wdXRzV2l0aEF1dG9mb2N1cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtb2RhbFJlbmRlcmVkIiwibW9kYWxBbmltYXRpb24iLCJtb2RhbEFuaW1hdGlvbkNsYXNzIiwiJHRyYW5zY2x1ZGUiLCJjbG9uZSIsIiQkbXVsdGlNYXAiLCIkJHN0YWNrZWRNYXAiLCJiYWNrZHJvcEluZGV4IiwidG9wQmFja2Ryb3BJbmRleCIsIm9wZW5lZCIsIm9wZW5lZFdpbmRvd3MiLCJyZW1vdmVNb2RhbFdpbmRvdyIsIm1vZGFsSW5zdGFuY2UiLCJlbGVtZW50VG9SZWNlaXZlRm9jdXMiLCJtb2RhbFdpbmRvdyIsInJlbW92ZUFmdGVyQW5pbWF0ZSIsIm1vZGFsRG9tRWwiLCJtb2RhbFNjb3BlIiwibW9kYWxCb2R5Q2xhc3MiLCJvcGVuZWRDbGFzcyIsIk9QRU5FRF9NT0RBTF9DTEFTUyIsIm9wZW5lZENsYXNzZXMiLCJjaGVja1JlbW92ZUJhY2tkcm9wIiwiYmFja2Ryb3BEb21FbCIsImJhY2tkcm9wU2NvcGVSZWYiLCJiYWNrZHJvcFNjb3BlIiwiZG9tRWwiLCJhZnRlckFuaW1hdGluZyIsImFzeW5jRGVmZXJyZWQiLCJhc3luY1Byb21pc2UiLCJicm9hZGNhc3RDbG9zaW5nIiwicmVzdWx0T3JSZWFzb24iLCJjbG9zaW5nIiwiZGVmYXVsdFByZXZlbnRlZCIsImZvY3VzYWJsZUVsZW1lbnRMaXN0IiwiZm9jdXNJbmRleCIsInRhYmFiYmxlU2VsZWN0b3IiLCJuZXdCYWNrZHJvcEluZGV4IiwibG9hZEZvY3VzRWxlbWVudExpc3QiLCJmb2N1c0NoYW5nZWQiLCJpc0ZvY3VzSW5GaXJzdEl0ZW0iLCJmb2N1c0xhc3RGb2N1c2FibGVFbGVtZW50IiwiaXNGb2N1c0luTGFzdEl0ZW0iLCJmb2N1c0ZpcnN0Rm9jdXNhYmxlRWxlbWVudCIsIm1vZGFsT3BlbmVyIiwicmVuZGVyRGVmZXJyZWQiLCJjdXJyQmFja2Ryb3BJbmRleCIsImFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwiLCJhbmd1bGFyRG9tRWwiLCJ3aW5kb3dUZW1wbGF0ZVVybCIsIndpbmRvdy1jbGFzcyIsImNsZWFyRm9jdXNMaXN0Q2FjaGUiLCIkJHVpYkRlc3RydWN0aW9uU2NoZWR1bGVkIiwicmVhc29uIiwiZGlzbWlzc0FsbCIsInRvcE1vZGFsIiwic3JjRWxlbWVudCIsImxlbmd0aDAiLCJtb2RhbERvbUUxIiwiJG1vZGFsUHJvdmlkZXIiLCIkY29udHJvbGxlciIsImdldFRlbXBsYXRlUHJvbWlzZSIsImdldFJlc29sdmVQcm9taXNlcyIsInJlc29sdmVzIiwicHJvbWlzZXNBcnIiLCJpbnZva2UiLCIkbW9kYWwiLCJwcm9taXNlQ2hhaW4iLCJnZXRQcm9taXNlQ2hhaW4iLCJtb2RhbE9wdGlvbnMiLCJtb2RhbFJlc3VsdERlZmVycmVkIiwibW9kYWxPcGVuZWREZWZlcnJlZCIsIm1vZGFsUmVuZGVyRGVmZXJyZWQiLCJyZW5kZXJlZCIsInNhbWVQcm9taXNlIiwidGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZSIsInRwbEFuZFZhcnMiLCIkY2xvc2UiLCIkZGlzbWlzcyIsImN0cmxJbnN0YW5jZSIsImN0cmxMb2NhbHMiLCJyZXNvbHZlSXRlciIsIiRtb2RhbEluc3RhbmNlIiwiYmluZFRvQ29udHJvbGxlciIsImZpbmFsbHkiLCJzZXROdW1QYWdlcyIsIm51bVBhZ2VzIiwiaXRlbXNQZXJQYWdlIiwidG90YWxQYWdlcyIsImNhbGN1bGF0ZVRvdGFsUGFnZXMiLCJwYWdlIiwic2VsZWN0UGFnZSIsImNlaWwiLCJ0b3RhbEl0ZW1zIiwiY2xpY2tBbGxvd2VkIiwibmdEaXNhYmxlZCIsImJsdXIiLCJub1ByZXZpb3VzIiwibm9OZXh0IiwiYm91bmRhcnlMaW5rcyIsImRpcmVjdGlvbkxpbmtzIiwiZmlyc3RUZXh0IiwicHJldmlvdXNUZXh0IiwibmV4dFRleHQiLCJsYXN0VGV4dCIsInJvdGF0ZSIsInBhZ2luYXRpb25Db25maWciLCJtYWtlUGFnZSIsIm51bWJlciIsImdldFBhZ2VzIiwiY3VycmVudFBhZ2UiLCJwYWdlcyIsInN0YXJ0UGFnZSIsImVuZFBhZ2UiLCJpc01heFNpemVkIiwibWF4U2l6ZSIsInByZXZpb3VzUGFnZVNldCIsIm5leHRQYWdlU2V0IiwicGFnaW5hdGlvbkN0cmwiLCJvcmlnaW5hbFJlbmRlciIsImFsaWduIiwicGFnZXJDb25maWciLCJzbmFrZV9jYXNlIiwicmVnZXhwIiwic2VwYXJhdG9yIiwibGV0dGVyIiwiZGVmYXVsdE9wdGlvbnMiLCJwb3B1cERlbGF5IiwidXNlQ29udGVudEV4cCIsInRyaWdnZXJNYXAiLCJtb3VzZWVudGVyIiwiY2xpY2siLCJub25lIiwiZ2xvYmFsT3B0aW9ucyIsInNldFRyaWdnZXJzIiwiZGVmYXVsdFRyaWdnZXJTaG93IiwiZ2V0VHJpZ2dlcnMiLCJkaXJlY3RpdmVOYW1lIiwic3RhcnRTeW0iLCJlbmRTeW0iLCJ0b29sdGlwTGlua2VyIiwidG9nZ2xlVG9vbHRpcEJpbmQiLCJ0dFNjb3BlIiwiaGlkZVRvb2x0aXBCaW5kIiwic2hvd1Rvb2x0aXBCaW5kIiwiaGFzRW5hYmxlRXhwIiwicHJlcGFyZVRvb2x0aXAiLCJwb3B1cFRpbWVvdXQiLCIkZGlnZXN0IiwidHJhbnNpdGlvblRpbWVvdXQiLCJjb250ZW50RXhwIiwiY3JlYXRlVG9vbHRpcCIsImlzT3BlbkV4cCIsIm9yaWdTY29wZSIsInBvc2l0aW9uVG9vbHRpcCIsInBvc2l0aW9uVGltZW91dCIsInJlbW92ZVRvb2x0aXAiLCJ0b29sdGlwTGlua2VkU2NvcGUiLCJyZXBvc2l0aW9uU2NoZWR1bGVkIiwiJCRwb3N0RGlnZXN0IiwicHJlcFBvcHVwQ2xhc3MiLCJwcmVwUGxhY2VtZW50IiwicHJlcFBvcHVwRGVsYXkiLCJwb3B1cENsYXNzIiwicHJlcFRyaWdnZXJzIiwidW5yZWdpc3RlclRyaWdnZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInR0Qm94IiwidHRDc3MiLCJhcHBlbmRUb0JvZHlWYWwiLCIkc2NlIiwiZWxlbSIsImN1cnJlbnRTY29wZSIsInByZXZpb3VzRWxlbWVudCIsImN1cnJlbnRFbGVtZW50IiwidG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZVNjb3BlIiwiY2hhbmdlQ291bnRlciIsImNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQiLCJwYXJzZUFzUmVzb3VyY2VVcmwiLCJ0b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlIiwidGhpc0NoYW5nZUlkIiwicmVzcG9uc2UiLCJuZXdTY29wZSIsInRvb2x0aXBBbmltYXRpb25DbGFzcyIsIiR0b29sdGlwIiwib3JpZ2luU2NvcGUiLCJ0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCIsInByb2dyZXNzQ29uZmlnIiwiYmFycyIsImFkZEJhciIsImJhciIsInJlY2FsY3VsYXRlUGVyY2VudGFnZSIsInBlcmNlbnQiLCJ0b0ZpeGVkIiwidG90YWxQZXJjZW50YWdlIiwicmVkdWNlIiwidG90YWwiLCJyZW1vdmVCYXIiLCIkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmciLCJwcm9ncmVzc0N0cmwiLCJzdGF0ZU9uIiwic3RhdGVPZmYiLCJ0aXRsZXMiLCJyYXRpbmdDb25maWciLCJ0bXBUaXRsZXMiLCJyYXRpbmdTdGF0ZXMiLCJidWlsZFRlbXBsYXRlT2JqZWN0cyIsInN0YXRlcyIsInJhdGUiLCJyZWFkb25seSIsIm9uSG92ZXIiLCJyZXNldCIsIm9uTGVhdmUiLCJvbktleWRvd24iLCJyYXRpbmdDdHJsIiwidGFicyIsInNlbGVjdGVkVGFiIiwib25EZXNlbGVjdCIsInNlbGVjdENhbGxlZCIsIm9uU2VsZWN0IiwiYWRkVGFiIiwicmVtb3ZlVGFiIiwibmV3QWN0aXZlSW5kZXgiLCJ2ZXJ0aWNhbCIsImp1c3RpZmllZCIsImVsbSIsInRhYnNldEN0cmwiLCIkdHJhbnNjbHVkZUZuIiwiaXNUYWJIZWFkaW5nIiwibm9kZSIsImhhc0F0dHJpYnV0ZSIsInRhYkNvbnRlbnRUcmFuc2NsdWRlIiwiaGVhZGluZ0VsZW1lbnQiLCJob3VyU3RlcCIsIm1pbnV0ZVN0ZXAiLCJzaG93TWVyaWRpYW4iLCJtZXJpZGlhbnMiLCJyZWFkb25seUlucHV0IiwibW91c2V3aGVlbCIsImFycm93a2V5cyIsInNob3dTcGlubmVycyIsInRpbWVwaWNrZXJDb25maWciLCJnZXRIb3Vyc0Zyb21UZW1wbGF0ZSIsInZhbGlkIiwibWVyaWRpYW4iLCJnZXRNaW51dGVzRnJvbVRlbXBsYXRlIiwicGFkIiwidG9TdHJpbmciLCJrZXlib2FyZENoYW5nZSIsIm1ha2VWYWxpZCIsInVwZGF0ZVRlbXBsYXRlIiwiaW52YWxpZEhvdXJzIiwiaW52YWxpZE1pbnV0ZXMiLCJhZGRNaW51dGVzIiwibmV3RGF0ZSIsImFkZE1pbnV0ZXNUb1NlbGVjdGVkIiwiaW5wdXRzIiwiaG91cnNJbnB1dEVsIiwibWludXRlc0lucHV0RWwiLCJzZXR1cE1vdXNld2hlZWxFdmVudHMiLCJzZXR1cEFycm93a2V5RXZlbnRzIiwic2V0dXBJbnB1dEV2ZW50cyIsIm5vSW5jcmVtZW50SG91cnMiLCJpbmNyZW1lbnRlZFNlbGVjdGVkIiwibm9EZWNyZW1lbnRIb3VycyIsImRlY3JlbWVudGVkU2VsZWN0ZWQiLCJub0luY3JlbWVudE1pbnV0ZXMiLCJub0RlY3JlbWVudE1pbnV0ZXMiLCJub1RvZ2dsZU1lcmlkaWFuIiwiJGVycm9yIiwiaXNTY3JvbGxpbmdVcCIsIm9yaWdpbmFsRXZlbnQiLCJ3aGVlbERlbHRhIiwiZGVsdGFZIiwiZGV0YWlsIiwiaW5jcmVtZW50SG91cnMiLCJkZWNyZW1lbnRIb3VycyIsImluY3JlbWVudE1pbnV0ZXMiLCJkZWNyZW1lbnRNaW51dGVzIiwidXBkYXRlSG91cnMiLCJ1cGRhdGVNaW51dGVzIiwiaW52YWxpZGF0ZSIsInNldE1pbnV0ZXMiLCJ0b2dnbGVNZXJpZGlhbiIsInRpbWVwaWNrZXJDdHJsIiwiJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQiLCJmaW5kRW5kRXZlbnROYW1lIiwiZW5kRXZlbnROYW1lcyIsInRyYW5zRWxlbWVudCIsIiR0cmFuc2l0aW9uIiwiZW5kRXZlbnROYW1lIiwidHJhbnNpdGlvbkVuZEhhbmRsZXIiLCJ0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyIsImFuaW1hdGlvbkVuZEV2ZW50TmFtZXMiLCJ0cmFuc2l0aW9uRW5kRXZlbnROYW1lIiwiYW5pbWF0aW9uRW5kRXZlbnROYW1lIiwiVFlQRUFIRUFEX1JFR0VYUCIsIml0ZW1OYW1lIiwic291cmNlIiwidmlld01hcHBlciIsIm1vZGVsTWFwcGVyIiwidHlwZWFoZWFkUGFyc2VyIiwiSE9UX0tFWVMiLCJldmVudERlYm91bmNlVGltZSIsIm9yaWdpbmFsU2NvcGUiLCJmaXJlUmVjYWxjdWxhdGluZyIsIm1vdmVJblByb2dyZXNzIiwidGltZW91dEV2ZW50UHJvbWlzZSIsIm1hdGNoZXMiLCJyZWNhbGN1bGF0ZVBvc2l0aW9uIiwibW9kZWxDdHJsIiwibmdNb2RlbE9wdGlvbnMiLCJtaW5MZW5ndGgiLCJ0eXBlYWhlYWRNaW5MZW5ndGgiLCJoYXNGb2N1cyIsIndhaXRUaW1lIiwidHlwZWFoZWFkV2FpdE1zIiwiaXNFZGl0YWJsZSIsInR5cGVhaGVhZEVkaXRhYmxlIiwiaXNMb2FkaW5nU2V0dGVyIiwidHlwZWFoZWFkTG9hZGluZyIsIm9uU2VsZWN0Q2FsbGJhY2siLCJ0eXBlYWhlYWRPblNlbGVjdCIsImlzU2VsZWN0T25CbHVyIiwidHlwZWFoZWFkU2VsZWN0T25CbHVyIiwiaXNOb1Jlc3VsdHNTZXR0ZXIiLCJ0eXBlYWhlYWROb1Jlc3VsdHMiLCJpbnB1dEZvcm1hdHRlciIsInR5cGVhaGVhZElucHV0Rm9ybWF0dGVyIiwidHlwZWFoZWFkQXBwZW5kVG9Cb2R5IiwiZm9jdXNGaXJzdCIsInR5cGVhaGVhZEZvY3VzRmlyc3QiLCJzZWxlY3RPbkV4YWN0IiwidHlwZWFoZWFkU2VsZWN0T25FeGFjdCIsInBhcnNlZE1vZGVsIiwiaW52b2tlTW9kZWxTZXR0ZXIiLCIkc2V0TW9kZWxWYWx1ZSIsIiRvcHRpb25zIiwiZ2V0dGVyU2V0dGVyIiwiJCQkcCIsInBhcnNlclJlc3VsdCIsInR5cGVhaGVhZCIsInBvcHVwSWQiLCJhcmlhLWF1dG9jb21wbGV0ZSIsImFyaWEtb3ducyIsInBvcFVwRWwiLCJtb3ZlLWluLXByb2dyZXNzIiwicXVlcnkiLCJ0eXBlYWhlYWRUZW1wbGF0ZVVybCIsInR5cGVhaGVhZFBvcHVwVGVtcGxhdGVVcmwiLCJyZXNldE1hdGNoZXMiLCJhY3RpdmVJZHgiLCJnZXRNYXRjaElkIiwiaW5wdXRJc0V4YWN0TWF0Y2giLCJpbnB1dFZhbHVlIiwidG9VcHBlckNhc2UiLCJnZXRNYXRjaGVzQXN5bmMiLCJsb2NhbHMiLCJvbkN1cnJlbnRSZXF1ZXN0IiwidGltZW91dFByb21pc2UiLCJzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0IiwiY2FuY2VsUHJldmlvdXNUaW1lb3V0IiwiY2FuZGlkYXRlVmlld1ZhbHVlIiwiZW1wdHlWaWV3VmFsdWUiLCIkbW9kZWwiLCIkaXRlbSIsIiRsYWJlbCIsInR5cGVhaGVhZEZvY3VzT25TZWxlY3QiLCJkaXNtaXNzQ2xpY2tIYW5kbGVyIiwicG9wdXBUZW1wbGF0ZVVybCIsIm1hdGNoSWR4Iiwic2VsZWN0QWN0aXZlIiwic2VsZWN0TWF0Y2giLCJjbG9uZWRFbGVtZW50IiwiZXNjYXBlUmVnZXhwIiwicXVlcnlUb0VzY2FwZSIsImNvbnRhaW5zSHRtbCIsIm1hdGNoSXRlbSIsImlzU2FuaXRpemVQcmVzZW50IiwidHJ1c3RBc0h0bWwiLCIkdGVtcGxhdGVDYWNoZSIsIiQkY3NwIiwicHJlcGVuZCIsInNhdmUiLCJkaXNhYmxlU2F2ZSIsImVyciIsImFwaUF1dGgiLCJhcGlHb29nbGVQaWNrZXIiLCJ2aWV3SWQiLCJvblBpY2tlckFjdGlvbiIsImdvb2dsZSIsInBpY2tlciIsIlJlc3BvbnNlIiwiQUNUSU9OIiwiQWN0aW9uIiwiUElDS0VEIiwiZGVidWciLCJET0NVTUVOVFMiLCJDQU5DRUwiLCJjcmVhdGVQaWNrZXIiLCJvcmlnaW4iLCJyZWZlcnJlciIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJwcm90b2NvbCIsImhvc3QiLCJQaWNrZXJCdWlsZGVyIiwic2V0T3JpZ2luIiwiYWRkVmlldyIsInNldE9BdXRoVG9rZW4iLCJnZXRBdXRoVG9rZW4iLCJzZXRDYWxsYmFjayIsImJ1aWxkIiwic2V0VmlzaWJsZSIsImF1dGhvcml6ZSIsImF1dGhSZXN1bHQiLCJnYXBpTG9hZGVyIiwiZ0FwaSIsImluZm8iLCJnYXBpTG9hZGVkIiwiZ2FwaSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvYXV0aEFQSUxvYWRlciIsIkNMSUVOVF9JRCIsIlNDT1BFIiwib2F1dGhUb2tlbiIsImF0dGVtcHRJbW1lZGlhdGUiLCJhdXRob3JpemVEZWZlcnJlZCIsImNsaWVudF9pZCIsImltbWVkaWF0ZSIsImF1dGgiLCJhY2Nlc3NfdG9rZW4iLCJwaWNrZXJMb2FkZXIiLCJjbG9zZXN0U2xpZGVyIiwibWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJnZXRPZmZzZXQiLCJmaXhlZFBvc2l0aW9uIiwic2Nyb2xsWCIsInNjcm9sbFkiLCJyZWN0Iiwib2Zmc2V0TGVmdCIsInN0cmluZ1BhcnNlcnMiLCJyZSIsImV4ZWNSZXN1bHQiLCJIZWxwZXIiLCJyZ2IiLCJ0b1JHQiIsInIiLCJnIiwicmdiYSIsImhleCIsInRvSGV4IiwiUkdCdG9IU0IiLCJTIiwiViIsIkMiLCJzZXRDb2xvciIsImV4ZWMiLCJzZXRIdWUiLCJzZXRTYXR1cmF0aW9uIiwic2V0TGlnaHRuZXNzIiwic2V0QWxwaGEiLCJSIiwiRyIsIkIiLCJYIiwiYWJzIiwic2xpZGVyIiwibWF4TGVmdCIsIm1heFRvcCIsImNhbGxMZWZ0IiwiY2FsbFRvcCIsImtub2IiLCJwb2ludGVyIiwiZ2V0U2xpZGVyIiwiZ2V0TGVmdFBvc2l0aW9uIiwicGFnZVgiLCJnZXRUb3BQb3NpdGlvbiIsInBhZ2VZIiwic2V0U2xpZGVyIiwidGFyZ2V0T2Zmc2V0Iiwib2Zmc2V0WCIsImNsaWVudFgiLCJvZmZzZXRZIiwiY2xpZW50WSIsInNldEtub2IiLCJDb2xvciIsIlNsaWRlciIsImJpbmRNb3VzZUV2ZW50cyIsIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJwcmV2aWV3Q29sb3IiLCJjb2xvcnBpY2tlclByZXZpZXciLCJwaWNrZXJDb2xvciIsInRoaXNGb3JtYXQiLCJzbGlkZXJTYXR1cmF0aW9uIiwic2xpZGVyQWxwaGEiLCJiYWNrZ3JvdW5kQ29sb3IiLCJuZXdDb2xvciIsIndpdGhJbnB1dCIsInBpY2tlckNvbG9ySW5wdXQiLCJlbWl0RXZlbnQiLCJ1cGRhdGUiLCJvbWl0SW5uZXJJbnB1dCIsInBpY2tlckNvbG9yUG9pbnRlcnMiLCJnZXRDb2xvcnBpY2tlclRlbXBsYXRlUG9zaXRpb24iLCJwb3NpdGlvblZhbHVlIiwicG9zaXRpb25PZmZzZXQiLCJjb2xvcnBpY2tlclBhcmVudCIsImRvY3VtZW50TW91c2Vkb3duSGFuZGxlciIsImhpZGVDb2xvcnBpY2tlclRlbXBsYXRlIiwic2hvd0NvbG9ycGlja2VyVGVtcGxhdGUiLCJjb2xvcnBpY2tlclRlbXBsYXRlIiwiaW5saW5lIiwiY29sb3JwaWNrZXJJc09wZW4iLCJjb2xvcnBpY2tlciIsImlzQmFja2dyb3VuZFNldHRpbmciLCJiYWNrZ3JvdW5kU2V0dGluZyIsImNvbG9ycGlja2VyUG9zaXRpb24iLCJjb2xvcnBpY2tlcklubGluZSIsImNvbG9ycGlja2VyRml4ZWRQb3NpdGlvbiIsImNvbG9ycGlja2VyV2l0aElucHV0IiwiaW5wdXRUZW1wbGF0ZSIsImNsb3NlQnV0dG9uIiwic2xpZGVySHVlIiwiY29sb3JwaWNrZXJDbG9zZU9uU2VsZWN0Iiwic2hvdWxkQmVPcGVuIiwiVEVNUExBVEVTIiwiX2luaXQiLCIkYnRuQWxpZ25tZW50Iiwic2V0QWxpZ25tZW50IiwiYWxpZ25tZW50IiwiZ2V0QWxpZ25tZW50IiwiJHByaW1hcnlJY29uIiwiY3VycmVudENsYXNzIiwibmV3Q2xhc3MiLCJkZWZhdWx0QWxpZ25tZW50IiwiX3BsdWdpbk5hbWUiLCJXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHIiwiZmFtaWxpZXMiLCJzaXplcyIsImhpZGVMYWJlbCIsImZpbGVUeXBlIiwiaGFzVmFsaWRFeHRlbnNpb24iLCJleHRlbnNpb25zIiwidGVzdFVybCIsInRlc3RJbWFnZSIsImltYWdlIiwiSW1hZ2UiLCJpbnZhbGlkVHlwZSIsInVybFJlZ0V4cCIsImRvVmFsaWRhdGlvbiIsImZvcmNlZFZhbGlkIiwiYWxsb3dJbml0RW1wdHkiLCJpbml0RW1wdHkiLCJnb29nbGVGb250TG9hZGVyIiwiZm9udERhdGEiLCJwcmV2aWV3VGV4dCIsInZlcnRpY2FsQWxpZ24iLCJpbml0VGlueU1DRSIsInRpbnltY2VPcHRpb25zIiwiZm9udF9mb3JtYXRzIiwiZ29vZ2xlRm9udExpc3QiLCJmb250c2l6ZV9mb3JtYXRzIiwiY3VzdG9tU2l6ZSIsIm1lbnViYXIiLCJwbHVnaW5zIiwic2tpbl91cmwiLCJzdGF0dXNiYXIiLCJ0b29sYmFyIiwic2V0dXAiLCJlZGl0b3IiLCJhZGRWZXJ0aWNhbEFsaWduQnV0dG9ucyIsImluaXRUb29sYmFyIiwiX2lzTG9hZGluZyIsImFyZ3MiLCJpbml0Q29tbWFuZHMiLCJpbml0X2luc3RhbmNlX2NhbGxiYWNrIiwib2xkQXBwbHkiLCJmb3JtYXR0ZXIiLCJvbGRSZW1vdmUiLCJ2YXJzIiwiY29tbWFuZCIsImZpcmUiLCJmb250IiwiZXhlY0NvbW1hbmQiLCJmYW1pbHkiLCJmb3JlY29sb3IiLCJiYWNrY29sb3IiLCJib2xkIiwidG9nZ2xlQnV0dG9uIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiJGN1c3RvbUZvbnQiLCJnZXRGb250VHlwZSIsIiRjdXN0b21Gb250U2l6ZSIsInRvZ2dsZVZlcnRpY2FsQnV0dG9ucyIsImRlZmF1bHRGb250IiwidXBkYXRlUHJldmlldyIsIiR0ZXh0Q29udGFpbmVyIiwiJHRleHQiLCJnZXRDdXN0b21Gb250RmFtaWx5IiwicG9wIiwibG9hZEN1c3RvbUZvbnQiLCJzaGVldCIsInJ1bGUiLCJzdHlsZVNoZWV0cyIsImFkZFJ1bGUiLCJhZGRCdXR0b24iLCJvbmNsaWNrIiwiYWRkQ29tbWFuZCIsImdldEZvbnRzIiwiZm9udHMiLCJjdXN0b21Gb250U2l6ZSIsImFwcGx5Q3VzdG9tRm9udCIsImFwcGx5Q3VzdG9tRm9udFNpemUiLCJ0aW55bWNlIiwiYWN0aXZlRWRpdG9yIiwid2F0Y2giLCIkd2F0Y2hHcm91cCIsIm5ld1ZhbHVlcyIsImFuZ3VsYXJMb2FkIiwiZm9udHNBcGkiLCJmb250QmFzZVVybCIsImV4Y2x1ZGUiLCJzcGFjZXMiLCJpdGVtcyIsInVpVGlueW1jZUNvbmZpZyIsImdlbmVyYXRlZElkcyIsIklEX0FUVFIiLCJiYXNlVXJsIiwiYmFzZVVSTCIsInRvZ2dsZURpc2FibGUiLCJlbnN1cmVJbnN0YW5jZSIsInRpbnlJbnN0YW5jZSIsImdldEJvZHkiLCJzZXR0aW5ncyIsImV4cHJlc3Npb24iLCJmb3JtIiwidXBkYXRlVmlldyIsIiRzZXQiLCJ1aVRpbnltY2UiLCJzZXR1cE9wdGlvbnMiLCJlZCIsIiRzZXRQcmlzdGluZSIsImdldFRydXN0ZWRIdG1sIiwiZ2V0RG9jIiwiZWlkIiwicGFyZW50RWxlbWVudCIsImNvbHVtbiIsImRlZmF1bHRTZXR0aW5ncyIsImZvbnRTdHlsZSIsImhlYWRlclRleHQiLCJjb2xvckNvbmRpdGlvbiIsImNvbHVtbnMiLCJjb2x1bW5OYW1lcyIsInJlbW92ZUNvbHVtbiIsImNvbHVtbnNMaXN0Iiwic2V0VmFsaWRpdHkiLCJ1cGRhdGVDb2x1bW5zIiwiY29sdW1uc1dhdGNoZXIiLCJjb2x1bW5OYW1lc1dhdGNoZXIiLCJ2IiwiYWRkQ29sdW1uIiwiY29uc29sZSIsImxvZyIsInNlbGVjdGVkQ29sdW1uIiwiaGlkZURpcmVjdGlvbiIsImRlZmF1bHRTZXR0aW5nIiwiYnkiLCJzcGVlZCIsInB1ZCIsInNldHRpbmdzU2F2ZXIiLCJzZXR0aW5nc0dldHRlciIsInNldHRpbmdzQ2xvc2VyIiwiYWRkaXRpb25hbFBhcmFtcyIsImFsZXJ0cyIsImdldEFkZGl0aW9uYWxQYXJhbSIsImRlZmF1bHRWYWwiLCJzZXRBZGRpdGlvbmFsUGFyYW0iLCJsb2FkQWRkaXRpb25hbFBhcmFtcyIsImdldEFkZGl0aW9uYWxQYXJhbXMiLCJzZXRBZGRpdGlvbmFsUGFyYW1zIiwic2F2ZVNldHRpbmdzIiwiY2xvc2VTZXR0aW5ncyIsImdldFBhcmFtcyIsIiRlbG0iLCIkd2F0Y2hDb2xsZWN0aW9uIiwibmV3QWxlcnRzIiwib2xkQWxlcnRzIiwiU1RPUkFHRV9GSUxFX1VSTF9CQVNFIiwiU1RPUkFHRV9GT0xERVJfVVJMX0JBU0UiLCJnZXRTdG9yYWdlVXJsRGF0YSIsImdldFN0b3JhZ2VUeXBlIiwic3RvcmFnZVVybCIsImdldENvbXBhbnlJZCIsInAiLCJzdHIiLCJwYWlyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiY29tcGFueUlkIiwiZmlsZU5hbWUiLCJmb2xkZXIiLCJnYWRnZXRzIiwibG9hZEZvbnRzIiwidXJscyIsImFsbEZvbnRzIiwiZ2V0R29vZ2xlRm9udHMiLCJyZXNwIiwic3Vic2V0cyIsImdldEZvbnRzVXNlZCIsImZhbWlseUxpc3QiLCJmb250c1VzZWQiLCJpMThuIiwiZmFsbGJhY2tMbmciLCJyZXNHZXRQYXRoIiwiaXNJbWFnZSIsImdhZGdldHNBcGkiLCJzZXR0aW5nc1BhcnNlciIsInByb2Nlc3NTZXR0aW5ncyIsIm5ld1NldHRpbmdzIiwiY29weSIsInJzVyIsInJzSCIsImxheW91dFVSTCIsImVuY29kZVBhcmFtcyIsImFkZGl0aW9uYWxQYXJhbXNTdHIiLCJlbmNvZGVBZGRpdGlvbmFsUGFyYW1zIiwicnBjIiwiSlNPTiIsInN0cmluZ2lmeSIsImRlZmF1bHRBZGRpdGlvbmFsUGFyYW1zIiwicGFyc2VBZGRpdGlvbmFsUGFyYW1zIiwiZGVmYXVsdFBhcmFtcyIsInBhcnNlUGFyYW1zIiwic2VhcmNoIiwic3RyaXBQcmVmaXgiLCJlbmNvZGVVUklDb21wb25lbnQiLCJwYXJhbXNTdHIiLCJ2aXN1YWxpemF0aW9uIiwic2V0T25Mb2FkQ2FsbGJhY2siLCJnb29nbGVTaGVldCIsImdldFdvcmtTaGVldHMiLCJmaWxlSWQiLCJzaGVldHMiLCJwdWJsaXNoZWQiLCJjdXJyZW50U2hlZXQiLCJzcHJlYWRzaGVldCIsInRhYklkIiwic2hvd1ByZXZpZXciLCJnZXRDb2x1bW5zIiwic2V0dGluZ3NGb3JtIiwic2VsZWN0aW9uIiwibmV3VXJsIiwib2xkVXJsIiwiZG9jTmFtZSIsImVuY29kZVVSSSIsInNldFNlbGVjdGlvbiIsInByZXZpZXdGaWxlIiwicmV0cnlGaWxlIiwiY2xlYXJTZWxlY3Rpb24iLCJldmVuUm93Q29sb3IiLCJoZWFkZXIiLCJvZGRSb3dDb2xvciIsInJvd0hlaWdodCIsImNvbG9yIiwic2hvd0NvbHVtbiIsInNob3dSb3ciLCJjZWxscyIsInN0YXJ0Q2VsbCIsImVuZENlbGwiLCJoYXNIZWFkZXIiLCJTUFJFQURTSEVFVF9BUElfV09SS1NIRUVUUyIsIlNQUkVBRFNIRUVUX0FQSV9TVUZGSVgiLCJmaWx0ZXJTaGVldHMiLCJmZWVkIiwiZW50cnkiLCIkdCIsImFwaSIsInZpc3VhbGl6YXRpb25BcGkiLCJjb25maWd1cmVDb2x1bW5zIiwiY2VsbFZhbHVlIiwiY29sdW1uTGFiZWwiLCJjb2x1bW5JZCIsImRhdGFUYWJsZSIsImdldERhdGFUYWJsZSIsImNvbHVtbkluZGV4ZXMiLCJnZXROdW1iZXJPZkNvbHVtbnMiLCJnZXROdW1iZXJPZlJvd3MiLCJnZXRWYWx1ZSIsImdldENvbHVtbkxhYmVsIiwiZ2V0Q29sdW1uSWQiLCJnZXRDb2x1bW5UeXBlIiwidml6IiwiUXVlcnkiLCJzZXRRdWVyeSIsInNlbmQiLCJpc0Vycm9yIiwiZ2V0TWVzc2FnZSJdLCJtYXBwaW5ncyI6IkFBNHlVQSxRQUFTQSxzQkFDUEMsWUFBYSxDQUViLElBQUlDLEdBQU1DLFNBQVNDLFlBQVksU0FDL0JGLEdBQUlHLFVBQVUsZUFBZSxHQUFNLEdBRW5DQyxPQUFPQyxjQUFjTCxHQXR5VXZCTSxRQUFRQyxPQUFPLDBCQUEyQixPQUV6Q0MsS0FBSyxhQUFjLFNBQVVDLEdBRTVCLEdBQUlDLEdBQU1ELEVBQVdFLGFBQ2pCQyxFQUFVSCxFQUFXRyxVQUVyQkMsRUFBb0MsV0FD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QnpxRCxFQUFTRyxRQUFRb3BELEVBQWlCMWxCLElBTmxDN2pDLEVBQVNZLE9BQU8sbUJBWWZaLEVBQVNLLFNBR1g5RCIsImZpbGUiOiJqcy9zZXR0aW5ncy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGFuZ3VsYXItdHJhbnNsYXRlIC0gdjIuNS4yIC0gMjAxNC0xMi0xMFxuICogaHR0cDovL2dpdGh1Yi5jb20vYW5ndWxhci10cmFuc2xhdGUvYW5ndWxhci10cmFuc2xhdGVcbiAqIENvcHlyaWdodCAoYykgMjAxNCA7IExpY2Vuc2VkIE1JVFxuICovXG4vKipcbiAqIEBuZ2RvYyBvdmVydmlld1xuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG1haW4gbW9kdWxlIHdoaWNoIGhvbGRzIGV2ZXJ5dGhpbmcgdG9nZXRoZXIuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJywgWyduZyddKVxuXG4ucnVuKFsnJHRyYW5zbGF0ZScsIGZ1bmN0aW9uICgkdHJhbnNsYXRlKSB7XG5cbiAgdmFyIGtleSA9ICR0cmFuc2xhdGUuc3RvcmFnZUtleSgpLFxuICAgICAgc3RvcmFnZSA9ICR0cmFuc2xhdGUuc3RvcmFnZSgpO1xuXG4gIHZhciBmYWxsYmFja0Zyb21JbmNvcnJlY3RTdG9yYWdlVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcHJlZmVycmVkID0gJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSgpO1xuICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHByZWZlcnJlZCkpIHtcbiAgICAgICR0cmFuc2xhdGUudXNlKHByZWZlcnJlZCk7XG4gICAgICAvLyAkdHJhbnNsYXRlLnVzZSgpIHdpbGwgYWxzbyByZW1lbWJlciB0aGUgbGFuZ3VhZ2UuXG4gICAgICAvLyBTbywgd2UgZG9uJ3QgbmVlZCB0byBjYWxsIHN0b3JhZ2UucHV0KCkgaGVyZS5cbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcmFnZS5wdXQoa2V5LCAkdHJhbnNsYXRlLnVzZSgpKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKHN0b3JhZ2UpIHtcbiAgICBpZiAoIXN0b3JhZ2UuZ2V0KGtleSkpIHtcbiAgICAgIGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdHJhbnNsYXRlLnVzZShzdG9yYWdlLmdldChrZXkpKVsnY2F0Y2gnXShmYWxsYmFja0Zyb21JbmNvcnJlY3RTdG9yYWdlVmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKCR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UoKSkpIHtcbiAgICAkdHJhbnNsYXRlLnVzZSgkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlKCkpO1xuICB9XG59XSk7XG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICR0cmFuc2xhdGVQcm92aWRlciBhbGxvd3MgZGV2ZWxvcGVycyB0byByZWdpc3RlciB0cmFuc2xhdGlvbi10YWJsZXMsIGFzeW5jaHJvbm91cyBsb2FkZXJzXG4gKiBhbmQgc2ltaWxhciB0byBjb25maWd1cmUgdHJhbnNsYXRpb24gYmVoYXZpb3IgZGlyZWN0bHkgaW5zaWRlIG9mIGEgbW9kdWxlLlxuICpcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5wcm92aWRlcignJHRyYW5zbGF0ZScsIFsnJFNUT1JBR0VfS0VZJywgZnVuY3Rpb24gKCRTVE9SQUdFX0tFWSkge1xuXG4gIHZhciAkdHJhbnNsYXRpb25UYWJsZSA9IHt9LFxuICAgICAgJHByZWZlcnJlZExhbmd1YWdlLFxuICAgICAgJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyA9IFtdLFxuICAgICAgJGxhbmd1YWdlS2V5QWxpYXNlcyxcbiAgICAgICRmYWxsYmFja0xhbmd1YWdlLFxuICAgICAgJGZhbGxiYWNrV2FzU3RyaW5nLFxuICAgICAgJHVzZXMsXG4gICAgICAkbmV4dExhbmcsXG4gICAgICAkc3RvcmFnZUZhY3RvcnksXG4gICAgICAkc3RvcmFnZUtleSA9ICRTVE9SQUdFX0tFWSxcbiAgICAgICRzdG9yYWdlUHJlZml4LFxuICAgICAgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5LFxuICAgICAgJGludGVycG9sYXRpb25GYWN0b3J5LFxuICAgICAgJGludGVycG9sYXRvckZhY3RvcmllcyA9IFtdLFxuICAgICAgJGludGVycG9sYXRpb25TYW5pdGl6YXRpb25TdHJhdGVneSA9IGZhbHNlLFxuICAgICAgJGxvYWRlckZhY3RvcnksXG4gICAgICAkY2xvYWtDbGFzc05hbWUgPSAndHJhbnNsYXRlLWNsb2FrJyxcbiAgICAgICRsb2FkZXJPcHRpb25zLFxuICAgICAgJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCxcbiAgICAgICRub3RGb3VuZEluZGljYXRvclJpZ2h0LFxuICAgICAgJHBvc3RDb21waWxpbmdFbmFibGVkID0gZmFsc2UsXG4gICAgICBORVNURURfT0JKRUNUX0RFTElNSVRFUiA9ICcuJyxcbiAgICAgIGxvYWRlckNhY2hlO1xuXG4gIHZhciB2ZXJzaW9uID0gJzIuNS4yJztcblxuICAvLyB0cmllcyB0byBkZXRlcm1pbmUgdGhlIGJyb3dzZXJzIGxhbmd1YWdlXG4gIHZhciBnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbmF2ID0gd2luZG93Lm5hdmlnYXRvcixcbiAgICAgICAgYnJvd3Nlckxhbmd1YWdlUHJvcGVydHlLZXlzID0gWydsYW5ndWFnZScsICdicm93c2VyTGFuZ3VhZ2UnLCAnc3lzdGVtTGFuZ3VhZ2UnLCAndXNlckxhbmd1YWdlJ10sXG4gICAgICAgIGksXG4gICAgICAgIGxhbmd1YWdlO1xuXG4gICAgLy8gc3VwcG9ydCBmb3IgSFRNTCA1LjEgXCJuYXZpZ2F0b3IubGFuZ3VhZ2VzXCJcbiAgICBpZiAoYW5ndWxhci5pc0FycmF5KG5hdi5sYW5ndWFnZXMpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbmF2Lmxhbmd1YWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsYW5ndWFnZSA9IG5hdi5sYW5ndWFnZXNbaV07XG4gICAgICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gbGFuZ3VhZ2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0IGZvciBvdGhlciB3ZWxsIGtub3duIHByb3BlcnRpZXMgaW4gYnJvd3NlcnNcbiAgICBmb3IgKGkgPSAwOyBpIDwgYnJvd3Nlckxhbmd1YWdlUHJvcGVydHlLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsYW5ndWFnZSA9IG5hdlticm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXNbaV1dO1xuICAgICAgaWYgKGxhbmd1YWdlICYmIGxhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbGFuZ3VhZ2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlLmRpc3BsYXlOYW1lID0gJ2FuZ3VsYXItdHJhbnNsYXRlL3NlcnZpY2U6IGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlJztcblxuICAvLyB0cmllcyB0byBkZXRlcm1pbmUgdGhlIGJyb3dzZXJzIGxvY2FsZVxuICB2YXIgZ2V0TG9jYWxlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UoKSB8fCAnJykuc3BsaXQoJy0nKS5qb2luKCdfJyk7XG4gIH07XG4gIGdldExvY2FsZS5kaXNwbGF5TmFtZSA9ICdhbmd1bGFyLXRyYW5zbGF0ZS9zZXJ2aWNlOiBnZXRMb2NhbGUnO1xuXG4gIC8qKlxuICAgKiBAbmFtZSBpbmRleE9mXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBpbmRleE9mIHBvbHlmaWxsLiBLaW5kYSBzb3J0YS5cbiAgICpcbiAgICogQHBhcmFtIHthcnJheX0gYXJyYXkgQXJyYXkgdG8gc2VhcmNoIGluLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoRWxlbWVudCBFbGVtZW50IHRvIHNlYXJjaCBmb3IuXG4gICAqXG4gICAqIEByZXR1cm5zIHtpbnR9IEluZGV4IG9mIHNlYXJjaCBlbGVtZW50LlxuICAgKi9cbiAgdmFyIGluZGV4T2YgPSBmdW5jdGlvbihhcnJheSwgc2VhcmNoRWxlbWVudCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGFycmF5W2ldID09PSBzZWFyY2hFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lIHRyaW1cbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIHRyaW0gcG9seWZpbGxcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHN0cmluZyBzdHJpcHBlZCBvZiB3aGl0ZXNwYWNlIGZyb20gYm90aCBlbmRzXG4gICAqL1xuICB2YXIgdHJpbSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgfTtcblxuICB2YXIgbmVnb3RpYXRlTG9jYWxlID0gZnVuY3Rpb24gKHByZWZlcnJlZCkge1xuXG4gICAgdmFyIGF2YWlsID0gW10sXG4gICAgICAgIGxvY2FsZSA9IGFuZ3VsYXIubG93ZXJjYXNlKHByZWZlcnJlZCksXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBuID0gJGF2YWlsYWJsZUxhbmd1YWdlS2V5cy5sZW5ndGg7XG5cbiAgICBmb3IgKDsgaSA8IG47IGkrKykge1xuICAgICAgYXZhaWwucHVzaChhbmd1bGFyLmxvd2VyY2FzZSgkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzW2ldKSk7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4T2YoYXZhaWwsIGxvY2FsZSkgPiAtMSkge1xuICAgICAgcmV0dXJuIHByZWZlcnJlZDtcbiAgICB9XG5cbiAgICBpZiAoJGxhbmd1YWdlS2V5QWxpYXNlcykge1xuICAgICAgdmFyIGFsaWFzO1xuICAgICAgZm9yICh2YXIgbGFuZ0tleUFsaWFzIGluICRsYW5ndWFnZUtleUFsaWFzZXMpIHtcbiAgICAgICAgdmFyIGhhc1dpbGRjYXJkS2V5ID0gZmFsc2U7XG4gICAgICAgIHZhciBoYXNFeGFjdEtleSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgkbGFuZ3VhZ2VLZXlBbGlhc2VzLCBsYW5nS2V5QWxpYXMpICYmXG4gICAgICAgICAgYW5ndWxhci5sb3dlcmNhc2UobGFuZ0tleUFsaWFzKSA9PT0gYW5ndWxhci5sb3dlcmNhc2UocHJlZmVycmVkKTtcblxuICAgICAgICBpZiAobGFuZ0tleUFsaWFzLnNsaWNlKC0xKSA9PT0gJyonKSB7XG4gICAgICAgICAgaGFzV2lsZGNhcmRLZXkgPSBsYW5nS2V5QWxpYXMuc2xpY2UoMCwgLTEpID09PSBwcmVmZXJyZWQuc2xpY2UoMCwgbGFuZ0tleUFsaWFzLmxlbmd0aC0xKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzRXhhY3RLZXkgfHwgaGFzV2lsZGNhcmRLZXkpIHtcbiAgICAgICAgICBhbGlhcyA9ICRsYW5ndWFnZUtleUFsaWFzZXNbbGFuZ0tleUFsaWFzXTtcbiAgICAgICAgICBpZiAoaW5kZXhPZihhdmFpbCwgYW5ndWxhci5sb3dlcmNhc2UoYWxpYXMpKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gYWxpYXM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHBhcnRzID0gcHJlZmVycmVkLnNwbGl0KCdfJyk7XG5cbiAgICBpZiAocGFydHMubGVuZ3RoID4gMSAmJiBpbmRleE9mKGF2YWlsLCBhbmd1bGFyLmxvd2VyY2FzZShwYXJ0c1swXSkpID4gLTEpIHtcbiAgICAgIHJldHVybiBwYXJ0c1swXTtcbiAgICB9XG5cbiAgICAvLyBJZiBldmVyeXRoaW5nIGZhaWxzLCBqdXN0IHJldHVybiB0aGUgcHJlZmVycmVkLCB1bmNoYW5nZWQuXG4gICAgcmV0dXJuIHByZWZlcnJlZDtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3RyYW5zbGF0aW9uc1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVycyBhIG5ldyB0cmFuc2xhdGlvbiB0YWJsZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2Uga2V5LlxuICAgKlxuICAgKiBUbyByZWdpc3RlciBhIHRyYW5zbGF0aW9uIHRhYmxlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSwgcGFzcyBhIGRlZmluZWQgbGFuZ3VhZ2VcbiAgICoga2V5IGFzIGZpcnN0IHBhcmFtZXRlci5cbiAgICpcbiAgICogPHByZT5cbiAgICogIC8vIHJlZ2lzdGVyIHRyYW5zbGF0aW9uIHRhYmxlIGZvciBsYW5ndWFnZTogJ2RlX0RFJ1xuICAgKiAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZGVfREUnLCB7XG4gICAqICAgICdHUkVFVElORyc6ICdIYWxsbyBXZWx0ISdcbiAgICogIH0pO1xuICAgKlxuICAgKiAgLy8gcmVnaXN0ZXIgYW5vdGhlciBvbmVcbiAgICogICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuX1VTJywge1xuICAgKiAgICAnR1JFRVRJTkcnOiAnSGVsbG8gd29ybGQhJ1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBXaGVuIHJlZ2lzdGVyaW5nIG11bHRpcGxlIHRyYW5zbGF0aW9uIHRhYmxlcyBmb3IgZm9yIHRoZSBzYW1lIGxhbmd1YWdlIGtleSxcbiAgICogdGhlIGFjdHVhbCB0cmFuc2xhdGlvbiB0YWJsZSBnZXRzIGV4dGVuZGVkLiBUaGlzIGFsbG93cyB5b3UgdG8gZGVmaW5lIG1vZHVsZVxuICAgKiBzcGVjaWZpYyB0cmFuc2xhdGlvbiB3aGljaCBvbmx5IGdldCBhZGRlZCwgb25jZSBhIHNwZWNpZmljIG1vZHVsZSBpcyBsb2FkZWQgaW5cbiAgICogeW91ciBhcHAuXG4gICAqXG4gICAqIEludm9raW5nIHRoaXMgbWV0aG9kIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgdGhlIHRyYW5zbGF0aW9uIHRhYmxlIHdoaWNoIHdhc1xuICAgKiByZWdpc3RlcmVkIHdpdGggbm8gbGFuZ3VhZ2Uga2V5LiBJbnZva2luZyBpdCB3aXRoIGEgbGFuZ3VhZ2Uga2V5IHJldHVybnMgdGhlXG4gICAqIHJlbGF0ZWQgdHJhbnNsYXRpb24gdGFibGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSB0cmFuc2xhdGlvblRhYmxlIEEgcGxhaW4gb2xkIEphdmFTY3JpcHQgb2JqZWN0IHRoYXQgcmVwcmVzZW50cyBhIHRyYW5zbGF0aW9uIHRhYmxlLlxuICAgKlxuICAgKi9cbiAgdmFyIHRyYW5zbGF0aW9ucyA9IGZ1bmN0aW9uIChsYW5nS2V5LCB0cmFuc2xhdGlvblRhYmxlKSB7XG5cbiAgICBpZiAoIWxhbmdLZXkgJiYgIXRyYW5zbGF0aW9uVGFibGUpIHtcbiAgICAgIHJldHVybiAkdHJhbnNsYXRpb25UYWJsZTtcbiAgICB9XG5cbiAgICBpZiAobGFuZ0tleSAmJiAhdHJhbnNsYXRpb25UYWJsZSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcobGFuZ0tleSkpIHtcbiAgICAgICAgcmV0dXJuICR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWFuZ3VsYXIuaXNPYmplY3QoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pKSB7XG4gICAgICAgICR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldID0ge307XG4gICAgICB9XG4gICAgICBhbmd1bGFyLmV4dGVuZCgkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSwgZmxhdE9iamVjdCh0cmFuc2xhdGlvblRhYmxlKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHRoaXMudHJhbnNsYXRpb25zID0gdHJhbnNsYXRpb25zO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjY2xvYWtDbGFzc05hbWVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBMZXQncyB5b3UgY2hhbmdlIHRoZSBjbGFzcyBuYW1lIGZvciBgdHJhbnNsYXRlLWNsb2FrYCBkaXJlY3RpdmUuXG4gICAqIERlZmF1bHQgY2xhc3MgbmFtZSBpcyBgdHJhbnNsYXRlLWNsb2FrYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgdHJhbnNsYXRlLWNsb2FrIGNsYXNzIG5hbWVcbiAgICovXG4gIHRoaXMuY2xvYWtDbGFzc05hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIGlmICghbmFtZSkge1xuICAgICAgcmV0dXJuICRjbG9ha0NsYXNzTmFtZTtcbiAgICB9XG4gICAgJGNsb2FrQ2xhc3NOYW1lID0gbmFtZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5hbWUgZmxhdE9iamVjdFxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRmxhdHMgYW4gb2JqZWN0LiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZmxhdHRlbiBnaXZlbiB0cmFuc2xhdGlvbiBkYXRhIHdpdGhcbiAgICogbmFtZXNwYWNlcywgc28gdGhleSBhcmUgbGF0ZXIgYWNjZXNzaWJsZSB2aWEgZG90IG5vdGF0aW9uLlxuICAgKi9cbiAgdmFyIGZsYXRPYmplY3QgPSBmdW5jdGlvbiAoZGF0YSwgcGF0aCwgcmVzdWx0LCBwcmV2S2V5KSB7XG4gICAgdmFyIGtleSwga2V5V2l0aFBhdGgsIGtleVdpdGhTaG9ydFBhdGgsIHZhbDtcblxuICAgIGlmICghcGF0aCkge1xuICAgICAgcGF0aCA9IFtdO1xuICAgIH1cbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0ge307XG4gICAgfVxuICAgIGZvciAoa2V5IGluIGRhdGEpIHtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YWwgPSBkYXRhW2tleV07XG4gICAgICBpZiAoYW5ndWxhci5pc09iamVjdCh2YWwpKSB7XG4gICAgICAgIGZsYXRPYmplY3QodmFsLCBwYXRoLmNvbmNhdChrZXkpLCByZXN1bHQsIGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBrZXlXaXRoUGF0aCA9IHBhdGgubGVuZ3RoID8gKCcnICsgcGF0aC5qb2luKE5FU1RFRF9PQkpFQ1RfREVMSU1JVEVSKSArIE5FU1RFRF9PQkpFQ1RfREVMSU1JVEVSICsga2V5KSA6IGtleTtcbiAgICAgICAgaWYocGF0aC5sZW5ndGggJiYga2V5ID09PSBwcmV2S2V5KXtcbiAgICAgICAgICAvLyBDcmVhdGUgc2hvcnRjdXQgcGF0aCAoZm9vLmJhciA9PSBmb28uYmFyLmJhcilcbiAgICAgICAgICBrZXlXaXRoU2hvcnRQYXRoID0gJycgKyBwYXRoLmpvaW4oTkVTVEVEX09CSkVDVF9ERUxJTUlURVIpO1xuICAgICAgICAgIC8vIExpbmsgaXQgdG8gb3JpZ2luYWwgcGF0aFxuICAgICAgICAgIHJlc3VsdFtrZXlXaXRoU2hvcnRQYXRoXSA9ICdAOicgKyBrZXlXaXRoUGF0aDtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRba2V5V2l0aFBhdGhdID0gdmFsO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjYWRkSW50ZXJwb2xhdGlvblxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEFkZHMgaW50ZXJwb2xhdGlvbiBzZXJ2aWNlcyB0byBhbmd1bGFyLXRyYW5zbGF0ZSwgc28gaXQgY2FuIG1hbmFnZSB0aGVtLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZmFjdG9yeSBJbnRlcnBvbGF0aW9uIHNlcnZpY2UgZmFjdG9yeVxuICAgKi9cbiAgdGhpcy5hZGRJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAkaW50ZXJwb2xhdG9yRmFjdG9yaWVzLnB1c2goZmFjdG9yeSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvblxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uYWxpdHkgb2YgbWVzc2FnZWZvcm1hdC5qcy5cbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiBoYXZpbmcgaGlnaCBsZXZlbCBwbHVyYWxpemF0aW9uIGFuZCBnZW5kZXIgc2VsZWN0aW9uLlxuICAgKi9cbiAgdGhpcy51c2VNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VJbnRlcnBvbGF0aW9uKCckdHJhbnNsYXRlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb24nKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUludGVycG9sYXRpb25cbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB3aGljaCBpbnRlcnBvbGF0aW9uIHN0eWxlIHRvIHVzZSBhcyBkZWZhdWx0LCBhcHBsaWNhdGlvbi13aWRlLlxuICAgKiBTaW1wbHkgcGFzcyBhIGZhY3Rvcnkvc2VydmljZSBuYW1lLiBUaGUgaW50ZXJwb2xhdGlvbiBzZXJ2aWNlIGhhcyB0byBpbXBsZW1lbnRcbiAgICogdGhlIGNvcnJlY3QgaW50ZXJmYWNlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjdG9yeSBJbnRlcnBvbGF0aW9uIHNlcnZpY2UgbmFtZS5cbiAgICovXG4gIHRoaXMudXNlSW50ZXJwb2xhdGlvbiA9IGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgJGludGVycG9sYXRpb25GYWN0b3J5ID0gZmFjdG9yeTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVNhbml0aXplU3RyYXRlZ3lcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTaW1wbHkgc2V0cyBhIHNhbml0YXRpb24gc3RyYXRlZ3kgdHlwZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFN0cmF0ZWd5IHR5cGUuXG4gICAqL1xuICB0aGlzLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kgPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjcHJlZmVycmVkTGFuZ3VhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyB0aGUgbW9kdWxlIHdoaWNoIG9mIHRoZSByZWdpc3RlcmVkIHRyYW5zbGF0aW9uIHRhYmxlcyB0byB1c2UgZm9yIHRyYW5zbGF0aW9uXG4gICAqIGF0IGluaXRpYWwgc3RhcnR1cCBieSBwYXNzaW5nIGEgbGFuZ3VhZ2Uga2V5LiBTaW1pbGFyIHRvIGAkdHJhbnNsYXRlUHJvdmlkZXIjdXNlYFxuICAgKiBvbmx5IHRoYXQgaXQgc2F5cyB3aGljaCBsYW5ndWFnZSB0byAqKnByZWZlcioqLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIGxhbmd1YWdlIGtleS5cbiAgICpcbiAgICovXG4gIHRoaXMucHJlZmVycmVkTGFuZ3VhZ2UgPSBmdW5jdGlvbihsYW5nS2V5KSB7XG4gICAgc2V0dXBQcmVmZXJyZWRMYW5ndWFnZShsYW5nS2V5KTtcbiAgICByZXR1cm4gdGhpcztcblxuICB9O1xuICB2YXIgc2V0dXBQcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgaWYgKGxhbmdLZXkpIHtcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSA9IGxhbmdLZXk7XG4gICAgfVxuICAgIHJldHVybiAkcHJlZmVycmVkTGFuZ3VhZ2U7XG4gIH07XG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kLiBFLmcuIHdoZW5cbiAgICogc2V0dGluZyB0aGUgaW5kaWNhdG9yIGFzICdYJyBhbmQgb25lIHRyaWVzIHRvIHRyYW5zbGF0ZSBhIHRyYW5zbGF0aW9uIGlkXG4gICAqIGNhbGxlZCBgTk9UX0ZPVU5EYCwgdGhpcyB3aWxsIHJlc3VsdCBpbiBgWCBOT1RfRk9VTkQgWGAuXG4gICAqXG4gICAqIEludGVybmFsbHkgdGhpcyBtZXRob2RzIHNldHMgYSBsZWZ0IGluZGljYXRvciBhbmQgYSByaWdodCBpbmRpY2F0b3IgdXNpbmdcbiAgICogYCR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdCgpYCBhbmRcbiAgICogYCR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQoKWAuXG4gICAqXG4gICAqICoqTm90ZSoqOiBUaGVzZSBtZXRob2RzIGF1dG9tYXRpY2FsbHkgYWRkIGEgd2hpdGVzcGFjZSBiZXR3ZWVuIHRoZSBpbmRpY2F0b3JzXG4gICAqIGFuZCB0aGUgdHJhbnNsYXRpb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbmRpY2F0b3IgQW4gaW5kaWNhdG9yLCBjb3VsZCBiZSBhbnkgc3RyaW5nLlxuICAgKi9cbiAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yID0gZnVuY3Rpb24gKGluZGljYXRvcikge1xuICAgIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQoaW5kaWNhdG9yKTtcbiAgICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodChpbmRpY2F0b3IpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kIGxlZnQgdG8gdGhlXG4gICAqIHRyYW5zbGF0aW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5kaWNhdG9yIEFuIGluZGljYXRvci5cbiAgICovXG4gIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQgPSBmdW5jdGlvbiAoaW5kaWNhdG9yKSB7XG4gICAgaWYgKCFpbmRpY2F0b3IpIHtcbiAgICAgIHJldHVybiAkbm90Rm91bmRJbmRpY2F0b3JMZWZ0O1xuICAgIH1cbiAgICAkbm90Rm91bmRJbmRpY2F0b3JMZWZ0ID0gaW5kaWNhdG9yO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kIHJpZ2h0IHRvIHRoZVxuICAgKiB0cmFuc2xhdGlvbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvciBBbiBpbmRpY2F0b3IuXG4gICAqL1xuICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodCA9IGZ1bmN0aW9uIChpbmRpY2F0b3IpIHtcbiAgICBpZiAoIWluZGljYXRvcikge1xuICAgICAgcmV0dXJuICRub3RGb3VuZEluZGljYXRvclJpZ2h0O1xuICAgIH1cbiAgICAkbm90Rm91bmRJbmRpY2F0b3JSaWdodCA9IGluZGljYXRvcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2ZhbGxiYWNrTGFuZ3VhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyB0aGUgbW9kdWxlIHdoaWNoIG9mIHRoZSByZWdpc3RlcmVkIHRyYW5zbGF0aW9uIHRhYmxlcyB0byB1c2Ugd2hlbiBtaXNzaW5nIHRyYW5zbGF0aW9uc1xuICAgKiBhdCBpbml0aWFsIHN0YXJ0dXAgYnkgcGFzc2luZyBhIGxhbmd1YWdlIGtleS4gU2ltaWxhciB0byBgJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZWBcbiAgICogb25seSB0aGF0IGl0IHNheXMgd2hpY2ggbGFuZ3VhZ2UgdG8gKipmYWxsYmFjayoqLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3x8YXJyYXl9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqXG4gICAqL1xuICB0aGlzLmZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGZhbGxiYWNrU3RhY2sobGFuZ0tleSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGZhbGxiYWNrU3RhY2sgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGlmIChsYW5nS2V5KSB7XG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhsYW5nS2V5KSkge1xuICAgICAgICAkZmFsbGJhY2tXYXNTdHJpbmcgPSB0cnVlO1xuICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZSA9IFsgbGFuZ0tleSBdO1xuICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzQXJyYXkobGFuZ0tleSkpIHtcbiAgICAgICAgJGZhbGxiYWNrV2FzU3RyaW5nID0gZmFsc2U7XG4gICAgICAgICRmYWxsYmFja0xhbmd1YWdlID0gbGFuZ0tleTtcbiAgICAgIH1cbiAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKCRwcmVmZXJyZWRMYW5ndWFnZSkgICYmIGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsICRwcmVmZXJyZWRMYW5ndWFnZSkgPCAwKSB7XG4gICAgICAgICRmYWxsYmFja0xhbmd1YWdlLnB1c2goJHByZWZlcnJlZExhbmd1YWdlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgkZmFsbGJhY2tXYXNTdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldCB3aGljaCB0cmFuc2xhdGlvbiB0YWJsZSB0byB1c2UgZm9yIHRyYW5zbGF0aW9uIGJ5IGdpdmVuIGxhbmd1YWdlIGtleS4gV2hlblxuICAgKiB0cnlpbmcgdG8gJ3VzZScgYSBsYW5ndWFnZSB3aGljaCBpc24ndCBwcm92aWRlZCwgaXQnbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAqXG4gICAqIFlvdSBhY3R1YWxseSBkb24ndCBoYXZlIHRvIHVzZSB0aGlzIG1ldGhvZCBzaW5jZSBgJHRyYW5zbGF0ZVByb3ZpZGVyI3ByZWZlcnJlZExhbmd1YWdlYFxuICAgKiBkb2VzIHRoZSBqb2IgdG9vLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIGxhbmd1YWdlIGtleS5cbiAgICovXG4gIHRoaXMudXNlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBpZiAobGFuZ0tleSkge1xuICAgICAgaWYgKCEkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSAmJiAoISRsb2FkZXJGYWN0b3J5KSkge1xuICAgICAgICAvLyBvbmx5IHRocm93IGFuIGVycm9yLCB3aGVuIG5vdCBsb2FkaW5nIHRyYW5zbGF0aW9uIGRhdGEgYXN5bmNocm9ub3VzbHlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJHRyYW5zbGF0ZVByb3ZpZGVyIGNvdWxkbid0IGZpbmQgdHJhbnNsYXRpb25UYWJsZSBmb3IgbGFuZ0tleTogJ1wiICsgbGFuZ0tleSArIFwiJ1wiKTtcbiAgICAgIH1cbiAgICAgICR1c2VzID0gbGFuZ0tleTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gJHVzZXM7XG4gIH07XG5cbiAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3N0b3JhZ2VLZXlcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyB0aGUgbW9kdWxlIHdoaWNoIGtleSBtdXN0IHJlcHJlc2VudCB0aGUgY2hvb3NlZCBsYW5ndWFnZSBieSBhIHVzZXIgaW4gdGhlIHN0b3JhZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgQSBrZXkgZm9yIHRoZSBzdG9yYWdlLlxuICAgKi9cbiAgdmFyIHN0b3JhZ2VLZXkgPSBmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleSkge1xuICAgICAgaWYgKCRzdG9yYWdlUHJlZml4KSB7XG4gICAgICAgIHJldHVybiAkc3RvcmFnZVByZWZpeCArICRzdG9yYWdlS2V5O1xuICAgICAgfVxuICAgICAgcmV0dXJuICRzdG9yYWdlS2V5O1xuICAgIH1cbiAgICAkc3RvcmFnZUtleSA9IGtleTtcbiAgfTtcblxuICB0aGlzLnN0b3JhZ2VLZXkgPSBzdG9yYWdlS2V5O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlVXJsTG9hZGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlVXJsTG9hZGVyYCBleHRlbnNpb24gc2VydmljZSBhcyBsb2FkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVXJsXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgKi9cbiAgdGhpcy51c2VVcmxMb2FkZXIgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlTG9hZGVyKCckdHJhbnNsYXRlVXJsTG9hZGVyJywgYW5ndWxhci5leHRlbmQoeyB1cmw6IHVybCB9LCBvcHRpb25zKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VTdGF0aWNGaWxlc0xvYWRlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyYCBleHRlbnNpb24gc2VydmljZSBhcyBsb2FkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgKi9cbiAgdGhpcy51c2VTdGF0aWNGaWxlc0xvYWRlciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlTG9hZGVyKCckdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXInLCBvcHRpb25zKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvYWRlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBhbnkgb3RoZXIgc2VydmljZSBhcyBsb2FkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb2FkZXJGYWN0b3J5IEZhY3RvcnkgbmFtZSB0byB1c2VcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZUxvYWRlciA9IGZ1bmN0aW9uIChsb2FkZXJGYWN0b3J5LCBvcHRpb25zKSB7XG4gICAgJGxvYWRlckZhY3RvcnkgPSBsb2FkZXJGYWN0b3J5O1xuICAgICRsb2FkZXJPcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvY2FsU3RvcmFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZWAgc2VydmljZSBhcyBzdG9yYWdlIGxheWVyLlxuICAgKlxuICAgKi9cbiAgdGhpcy51c2VMb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlU3RvcmFnZSgnJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlQ29va2llU3RvcmFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VgIHNlcnZpY2UgYXMgc3RvcmFnZSBsYXllci5cbiAgICovXG4gIHRoaXMudXNlQ29va2llU3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VTdG9yYWdlKCckdHJhbnNsYXRlQ29va2llU3RvcmFnZScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlU3RvcmFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBjdXN0b20gc2VydmljZSBhcyBzdG9yYWdlIGxheWVyLlxuICAgKi9cbiAgdGhpcy51c2VTdG9yYWdlID0gZnVuY3Rpb24gKHN0b3JhZ2VGYWN0b3J5KSB7XG4gICAgJHN0b3JhZ2VGYWN0b3J5ID0gc3RvcmFnZUZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNzdG9yYWdlUHJlZml4XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBwcmVmaXggZm9yIHN0b3JhZ2Uga2V5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4IFN0b3JhZ2Uga2V5IHByZWZpeFxuICAgKi9cbiAgdGhpcy5zdG9yYWdlUHJlZml4ID0gZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIGlmICghcHJlZml4KSB7XG4gICAgICByZXR1cm4gcHJlZml4O1xuICAgIH1cbiAgICAkc3RvcmFnZVByZWZpeCA9IHByZWZpeDtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2dcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYnVpbHQtaW4gbG9nIGhhbmRsZXIgd2hlbiB0cnlpbmcgdG8gdHJhbnNsYXRlXG4gICAqIGEgdHJhbnNsYXRpb24gSWQgd2hpY2ggZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogVGhpcyBpcyBhY3R1YWxseSBhIHNob3J0Y3V0IG1ldGhvZCBmb3IgYHVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIoKWAuXG4gICAqXG4gICAqL1xuICB0aGlzLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlcignJHRyYW5zbGF0ZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cnKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBFeHBlY3RzIGEgZmFjdG9yeSBuYW1lIHdoaWNoIGxhdGVyIGdldHMgaW5zdGFudGlhdGVkIHdpdGggYCRpbmplY3RvcmAuXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIHRvIHRlbGwgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGEgY3VzdG9tXG4gICAqIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIuIEp1c3QgYnVpbGQgYSBmYWN0b3J5IHdoaWNoIHJldHVybnMgYSBmdW5jdGlvblxuICAgKiBhbmQgZXhwZWN0cyBhIHRyYW5zbGF0aW9uIGlkIGFzIGFyZ3VtZW50LlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiA8cHJlPlxuICAgKiAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG4gICAqICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyKCdjdXN0b21IYW5kbGVyJyk7XG4gICAqICB9KTtcbiAgICpcbiAgICogIGFwcC5mYWN0b3J5KCdjdXN0b21IYW5kbGVyJywgZnVuY3Rpb24gKGRlcDEsIGRlcDIpIHtcbiAgICogICAgcmV0dXJuIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAqICAgICAgLy8gc29tZXRoaW5nIHdpdGggdHJhbnNsYXRpb25JZCBhbmQgZGVwMSBhbmQgZGVwMlxuICAgKiAgICB9O1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjdG9yeSBGYWN0b3J5IG5hbWVcbiAgICovXG4gIHRoaXMudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlciA9IGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ID0gZmFjdG9yeTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVBvc3RDb21waWxpbmdcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJZiBwb3N0IGNvbXBpbGluZyBpcyBlbmFibGVkLCBhbGwgdHJhbnNsYXRlZCB2YWx1ZXMgd2lsbCBiZSBwcm9jZXNzZWRcbiAgICogYWdhaW4gd2l0aCBBbmd1bGFySlMnICRjb21waWxlLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiA8cHJlPlxuICAgKiAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG4gICAqICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VQb3N0Q29tcGlsaW5nKHRydWUpO1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjdG9yeSBGYWN0b3J5IG5hbWVcbiAgICovXG4gIHRoaXMudXNlUG9zdENvbXBpbGluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICRwb3N0Q29tcGlsaW5nRW5hYmxlZCA9ICEoIXZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2RldGVybWluZVByZWZlcnJlZExhbmd1YWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdHJ5IHRvIGRldGVybWluZSBvbiBpdHMgb3duIHdoaWNoIGxhbmd1YWdlIGtleVxuICAgKiB0byBzZXQgYXMgcHJlZmVycmVkIGxhbmd1YWdlLiBXaGVuIGBmbmAgaXMgZ2l2ZW4sIGFuZ3VsYXItdHJhbnNsYXRlIHVzZXMgaXRcbiAgICogdG8gZGV0ZXJtaW5lIGEgbGFuZ3VhZ2Uga2V5LCBvdGhlcndpc2UgaXQgdXNlcyB0aGUgYnVpbHQtaW4gYGdldExvY2FsZSgpYFxuICAgKiBtZXRob2QuXG4gICAqXG4gICAqIFRoZSBgZ2V0TG9jYWxlKClgIHJldHVybnMgYSBsYW5ndWFnZSBrZXkgaW4gdGhlIGZvcm1hdCBgW2xhbmddX1tjb3VudHJ5XWAgb3JcbiAgICogYFtsYW5nXWAgZGVwZW5kaW5nIG9uIHdoYXQgdGhlIGJyb3dzZXIgcHJvdmlkZXMuXG4gICAqXG4gICAqIFVzZSB0aGlzIG1ldGhvZCBhdCB5b3VyIG93biByaXNrLCBzaW5jZSBub3QgYWxsIGJyb3dzZXJzIHJldHVybiBhIHZhbGlkXG4gICAqIGxvY2FsZS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBmbiBGdW5jdGlvbiB0byBkZXRlcm1pbmUgYSBicm93c2VyJ3MgbG9jYWxlXG4gICAqL1xuICB0aGlzLmRldGVybWluZVByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGZuKSB7XG5cbiAgICB2YXIgbG9jYWxlID0gKGZuICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihmbikpID8gZm4oKSA6IGdldExvY2FsZSgpO1xuXG4gICAgaWYgKCEkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzLmxlbmd0aCkge1xuICAgICAgJHByZWZlcnJlZExhbmd1YWdlID0gbG9jYWxlO1xuICAgIH0gZWxzZSB7XG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UgPSBuZWdvdGlhdGVMb2NhbGUobG9jYWxlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3JlZ2lzdGVyQXZhaWxhYmxlTGFuZ3VhZ2VLZXlzXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgc2V0IG9mIGxhbmd1YWdlIGtleXMgdGhlIGFwcCB3aWxsIHdvcmsgd2l0aC4gVXNlIHRoaXMgbWV0aG9kIGluXG4gICAqIGNvbWJpbmF0aW9uIHdpdGhcbiAgICoge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2RldGVybWluZVByZWZlcnJlZExhbmd1YWdlIGRldGVybWluZVByZWZlcnJlZExhbmd1YWdlfS5cbiAgICogV2hlbiBhdmFpbGFibGUgbGFuZ3VhZ2VzIGtleXMgYXJlIHJlZ2lzdGVyZWQsIGFuZ3VsYXItdHJhbnNsYXRlXG4gICAqIHRyaWVzIHRvIGZpbmQgdGhlIGJlc3QgZml0dGluZyBsYW5ndWFnZSBrZXkgZGVwZW5kaW5nIG9uIHRoZSBicm93c2VycyBsb2NhbGUsXG4gICAqIGNvbnNpZGVyaW5nIHlvdXIgbGFuZ3VhZ2Uga2V5IGNvbnZlbnRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBsYW5ndWFnZUtleXMgQXJyYXkgb2YgbGFuZ3VhZ2Uga2V5cyB0aGUgeW91ciBhcHAgd2lsbCB1c2VcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBhbGlhc2VzIEFsaWFzIG1hcC5cbiAgICovXG4gIHRoaXMucmVnaXN0ZXJBdmFpbGFibGVMYW5ndWFnZUtleXMgPSBmdW5jdGlvbiAobGFuZ3VhZ2VLZXlzLCBhbGlhc2VzKSB7XG4gICAgaWYgKGxhbmd1YWdlS2V5cykge1xuICAgICAgJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyA9IGxhbmd1YWdlS2V5cztcbiAgICAgIGlmIChhbGlhc2VzKSB7XG4gICAgICAgICRsYW5ndWFnZUtleUFsaWFzZXMgPSBhbGlhc2VzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTG9hZGVyQ2FjaGVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlcnMgYSBjYWNoZSBmb3IgaW50ZXJuYWwgJGh0dHAgYmFzZWQgbG9hZGVycy5cbiAgICoge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2RldGVybWluZVByZWZlcnJlZExhbmd1YWdlIGRldGVybWluZVByZWZlcnJlZExhbmd1YWdlfS5cbiAgICogV2hlbiBmYWxzZSB0aGUgY2FjaGUgd2lsbCBiZSBkaXNhYmxlZCAoZGVmYXVsdCkuIFdoZW4gdHJ1ZSBvciB1bmRlZmluZWRcbiAgICogdGhlIGNhY2hlIHdpbGwgYmUgYSBkZWZhdWx0IChzZWUgJGNhY2hlRmFjdG9yeSkuIFdoZW4gYW4gb2JqZWN0IGl0IHdpbGxcbiAgICogYmUgdHJlYXQgYXMgYSBjYWNoZSBvYmplY3QgaXRzZWxmOiB0aGUgdXNhZ2UgaXMgJGh0dHAoe2NhY2hlOiBjYWNoZX0pXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjYWNoZSBib29sZWFuLCBzdHJpbmcgb3IgY2FjaGUtb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZUxvYWRlckNhY2hlID0gZnVuY3Rpb24gKGNhY2hlKSB7XG4gICAgaWYgKGNhY2hlID09PSBmYWxzZSkge1xuICAgICAgLy8gZGlzYWJsZSBjYWNoZVxuICAgICAgbG9hZGVyQ2FjaGUgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChjYWNoZSA9PT0gdHJ1ZSkge1xuICAgICAgLy8gZW5hYmxlIGNhY2hlIHVzaW5nIEFKUyBkZWZhdWx0c1xuICAgICAgbG9hZGVyQ2FjaGUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mKGNhY2hlKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVuYWJsZSBjYWNoZSB1c2luZyBkZWZhdWx0XG4gICAgICBsb2FkZXJDYWNoZSA9ICckdHJhbnNsYXRpb25DYWNoZSc7XG4gICAgfSBlbHNlIGlmIChjYWNoZSkge1xuICAgICAgLy8gZW5hYmxlIGNhY2hlIHVzaW5nIGdpdmVuIG9uZSAoc2VlICRjYWNoZUZhY3RvcnkpXG4gICAgICBsb2FkZXJDYWNoZSA9IGNhY2hlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG9iamVjdFxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICogQHJlcXVpcmVzICRpbnRlcnBvbGF0ZVxuICAgKiBAcmVxdWlyZXMgJGxvZ1xuICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICAgKiBAcmVxdWlyZXMgJHFcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoZSBgJHRyYW5zbGF0ZWAgc2VydmljZSBpcyB0aGUgYWN0dWFsIGNvcmUgb2YgYW5ndWxhci10cmFuc2xhdGUuIEl0IGV4cGVjdHMgYSB0cmFuc2xhdGlvbiBpZFxuICAgKiBhbmQgb3B0aW9uYWwgaW50ZXJwb2xhdGUgcGFyYW1ldGVycyB0byB0cmFuc2xhdGUgY29udGVudHMuXG4gICAqXG4gICAqIDxwcmU+XG4gICAqICAkdHJhbnNsYXRlKCdIRUFETElORV9URVhUJykudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICogICAgJHNjb3BlLnRyYW5zbGF0ZWRUZXh0ID0gdHJhbnNsYXRpb247XG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfGFycmF5fSB0cmFuc2xhdGlvbklkIEEgdG9rZW4gd2hpY2ggcmVwcmVzZW50cyBhIHRyYW5zbGF0aW9uIGlkXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgY2FuIGJlIG9wdGlvbmFsbHkgYW4gYXJyYXkgb2YgdHJhbnNsYXRpb24gaWRzIHdoaWNoXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgdGhhdCB0aGUgZnVuY3Rpb24gcmV0dXJucyBhbiBvYmplY3Qgd2hlcmUgZWFjaCBrZXlcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgdGhlIHRyYW5zbGF0aW9uIGlkIGFuZCB0aGUgdmFsdWUgdGhlIHRyYW5zbGF0aW9uLlxuICAgKiBAcGFyYW0ge29iamVjdD19IGludGVycG9sYXRlUGFyYW1zIEFuIG9iamVjdCBoYXNoIGZvciBkeW5hbWljIHZhbHVlc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gaW50ZXJwb2xhdGlvbklkIFRoZSBpZCBvZiB0aGUgaW50ZXJwb2xhdGlvbiB0byB1c2VcbiAgICogQHJldHVybnMge29iamVjdH0gcHJvbWlzZVxuICAgKi9cbiAgdGhpcy4kZ2V0ID0gW1xuICAgICckbG9nJyxcbiAgICAnJGluamVjdG9yJyxcbiAgICAnJHJvb3RTY29wZScsXG4gICAgJyRxJyxcbiAgICBmdW5jdGlvbiAoJGxvZywgJGluamVjdG9yLCAkcm9vdFNjb3BlLCAkcSkge1xuXG4gICAgICB2YXIgU3RvcmFnZSxcbiAgICAgICAgICBkZWZhdWx0SW50ZXJwb2xhdG9yID0gJGluamVjdG9yLmdldCgkaW50ZXJwb2xhdGlvbkZhY3RvcnkgfHwgJyR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbicpLFxuICAgICAgICAgIHBlbmRpbmdMb2FkZXIgPSBmYWxzZSxcbiAgICAgICAgICBpbnRlcnBvbGF0b3JIYXNoTWFwID0ge30sXG4gICAgICAgICAgbGFuZ1Byb21pc2VzID0ge30sXG4gICAgICAgICAgZmFsbGJhY2tJbmRleCxcbiAgICAgICAgICBzdGFydEZhbGxiYWNrSXRlcmF0aW9uO1xuXG4gICAgICB2YXIgJHRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKSB7XG5cbiAgICAgICAgLy8gRHVjayBkZXRlY3Rpb246IElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhbiBhcnJheSwgYSBidW5jaCBvZiB0cmFuc2xhdGlvbnMgd2FzIHJlcXVlc3RlZC5cbiAgICAgICAgLy8gVGhlIHJlc3VsdCBpcyBhbiBvYmplY3QuXG4gICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICAvLyBJbnNwaXJlZCBieSBRLmFsbFNldHRsZWQgYnkgS3JpcyBLb3dhbFxuICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcS9ibG9iL2IwZmE3Mjk4MDcxN2RjMjAyZmZjM2NiZjAzYjkzNmUxMGViYmI5ZDcvcS5qcyNMMTU1My0xNTYzXG4gICAgICAgICAgLy8gVGhpcyB0cmFuc2Zvcm1zIGFsbCBwcm9taXNlcyByZWdhcmRsZXNzIHJlc29sdmVkIG9yIHJlamVjdGVkXG4gICAgICAgICAgdmFyIHRyYW5zbGF0ZUFsbCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkcykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTsgLy8gc3RvcmluZyB0aGUgYWN0dWFsIHJlc3VsdHNcbiAgICAgICAgICAgIHZhciBwcm9taXNlcyA9IFtdOyAvLyBwcm9taXNlcyB0byB3YWl0IGZvclxuICAgICAgICAgICAgLy8gV3JhcHMgdGhlIHByb21pc2UgYSkgYmVpbmcgYWx3YXlzIHJlc29sdmVkIGFuZCBiKSBzdG9yaW5nIHRoZSBsaW5rIGlkLT52YWx1ZVxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICAgIHZhciByZWdhcmRsZXNzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0c1t0cmFuc2xhdGlvbklkXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoW3RyYW5zbGF0aW9uSWQsIHZhbHVlXSk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIC8vIHdlIGRvbid0IGNhcmUgd2hldGhlciB0aGUgcHJvbWlzZSB3YXMgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQ7IGp1c3Qgc3RvcmUgdGhlIHZhbHVlc1xuICAgICAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpLnRoZW4ocmVnYXJkbGVzcywgcmVnYXJkbGVzcyk7XG4gICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjID0gdHJhbnNsYXRpb25JZHMubGVuZ3RoOyBpIDwgYzsgaSsrKSB7XG4gICAgICAgICAgICAgIHByb21pc2VzLnB1c2godHJhbnNsYXRlKHRyYW5zbGF0aW9uSWRzW2ldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3YWl0IGZvciBhbGwgKGluY2x1ZGluZyBzdG9yaW5nIHRvIHJlc3VsdHMpXG4gICAgICAgICAgICByZXR1cm4gJHEuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSByZXN1bHRzXG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRlQWxsKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAvLyB0cmltIG9mZiBhbnkgd2hpdGVzcGFjZVxuICAgICAgICBpZiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgIHRyYW5zbGF0aW9uSWQgPSB0cmltLmFwcGx5KHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb21pc2VUb1dhaXRGb3IgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBwcm9taXNlID0gJHByZWZlcnJlZExhbmd1YWdlID9cbiAgICAgICAgICAgIGxhbmdQcm9taXNlc1skcHJlZmVycmVkTGFuZ3VhZ2VdIDpcbiAgICAgICAgICAgIGxhbmdQcm9taXNlc1skdXNlc107XG5cbiAgICAgICAgICBmYWxsYmFja0luZGV4ID0gMDtcblxuICAgICAgICAgIGlmICgkc3RvcmFnZUZhY3RvcnkgJiYgIXByb21pc2UpIHtcbiAgICAgICAgICAgIC8vIGxvb2tzIGxpa2UgdGhlcmUncyBubyBwZW5kaW5nIHByb21pc2UgZm9yICRwcmVmZXJyZWRMYW5ndWFnZSBvclxuICAgICAgICAgICAgLy8gJHVzZXMuIE1heWJlIHRoZXJlJ3Mgb25lIHBlbmRpbmcgZm9yIGEgbGFuZ3VhZ2UgdGhhdCBjb21lcyBmcm9tXG4gICAgICAgICAgICAvLyBzdG9yYWdlLlxuICAgICAgICAgICAgdmFyIGxhbmdLZXkgPSBTdG9yYWdlLmdldCgkc3RvcmFnZUtleSk7XG4gICAgICAgICAgICBwcm9taXNlID0gbGFuZ1Byb21pc2VzW2xhbmdLZXldO1xuXG4gICAgICAgICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgbGFuZ0tleSk7XG4gICAgICAgICAgICAgICAgLy8gbWF5YmUgdGhlIGxhbmd1YWdlIGZyb20gc3RvcmFnZSBpcyBhbHNvIGRlZmluZWQgYXMgZmFsbGJhY2sgbGFuZ3VhZ2VcbiAgICAgICAgICAgICAgICAvLyB3ZSBpbmNyZWFzZSB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2UgaW5kZXggdG8gbm90IHNlYXJjaCBpbiB0aGF0IGxhbmd1YWdlXG4gICAgICAgICAgICAgICAgLy8gYXMgZmFsbGJhY2ssIHNpbmNlIGl0J3MgcHJvYmFibHkgdGhlIGZpcnN0IHVzZWQgbGFuZ3VhZ2VcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGF0IGNhc2UgdGhlIGluZGV4IHN0YXJ0cyBhZnRlciB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAgICAgICAgICAgIGZhbGxiYWNrSW5kZXggPSAoaW5kZXggPT09IDApID8gMSA6IDA7XG5cbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgY2FuIG1ha2Ugc3VyZSB0byBBTFdBWVMgZmFsbGJhY2sgdG8gcHJlZmVycmVkIGxhbmd1YWdlIGF0IGxlYXN0XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsICRwcmVmZXJyZWRMYW5ndWFnZSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZS5wdXNoKCRwcmVmZXJyZWRMYW5ndWFnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfSgpKTtcblxuICAgICAgICBpZiAoIXByb21pc2VUb1dhaXRGb3IpIHtcbiAgICAgICAgICAvLyBubyBwcm9taXNlIHRvIHdhaXQgZm9yPyBva2F5LiBUaGVuIHRoZXJlJ3Mgbm8gbG9hZGVyIHJlZ2lzdGVyZWRcbiAgICAgICAgICAvLyBub3IgaXMgYSBvbmUgcGVuZGluZyBmb3IgbGFuZ3VhZ2UgdGhhdCBjb21lcyBmcm9tIHN0b3JhZ2UuXG4gICAgICAgICAgLy8gV2UgY2FuIGp1c3QgdHJhbnNsYXRlLlxuICAgICAgICAgIGRldGVybWluZVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9taXNlVG9XYWl0Rm9yLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGV0ZXJtaW5lVHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICAgIH0sIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQXBwbGllcyBub3QgZm91bnQgaW5kaWNhdG9ycyB0byBnaXZlbiB0cmFuc2xhdGlvbiBpZCwgaWYgbmVlZGVkLlxuICAgICAgICogVGhpcyBmdW5jdGlvbiBnZXRzIG9ubHkgZXhlY3V0ZWQsIGlmIGEgdHJhbnNsYXRpb24gaWQgZG9lc24ndCBleGlzdCxcbiAgICAgICAqIHdoaWNoIGlzIHdoeSBhIHRyYW5zbGF0aW9uIGlkIGlzIGV4cGVjdGVkIGFzIGFyZ3VtZW50LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2xhdGlvbklkIFRyYW5zbGF0aW9uIGlkLlxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gU2FtZSBhcyBnaXZlbiB0cmFuc2xhdGlvbiBpZCBidXQgYXBwbGllZCB3aXRoIG5vdCBmb3VuZFxuICAgICAgICogaW5kaWNhdG9ycy5cbiAgICAgICAqL1xuICAgICAgdmFyIGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgLy8gYXBwbHlpbmcgbm90Rm91bmRJbmRpY2F0b3JzXG4gICAgICAgIGlmICgkbm90Rm91bmRJbmRpY2F0b3JMZWZ0KSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25JZCA9IFskbm90Rm91bmRJbmRpY2F0b3JMZWZ0LCB0cmFuc2xhdGlvbklkXS5qb2luKCcgJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRub3RGb3VuZEluZGljYXRvclJpZ2h0KSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25JZCA9IFt0cmFuc2xhdGlvbklkLCAkbm90Rm91bmRJbmRpY2F0b3JSaWdodF0uam9pbignICcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSB1c2VMYW5ndWFnZVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIE1ha2VzIGFjdHVhbCB1c2Ugb2YgYSBsYW5ndWFnZSBieSBzZXR0aW5nIGEgZ2l2ZW4gbGFuZ3VhZ2Uga2V5IGFzIHVzZWRcbiAgICAgICAqIGxhbmd1YWdlIGFuZCBpbmZvcm1zIHJlZ2lzdGVyZWQgaW50ZXJwb2xhdG9ycyB0byBhbHNvIHVzZSB0aGUgZ2l2ZW5cbiAgICAgICAqIGtleSBhcyBsb2NhbGUuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtrZXl9IExvY2FsZSBrZXkuXG4gICAgICAgKi9cbiAgICAgIHZhciB1c2VMYW5ndWFnZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgJHVzZXMgPSBrZXk7XG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzJywge2xhbmd1YWdlOiBrZXl9KTtcblxuICAgICAgICBpZiAoJHN0b3JhZ2VGYWN0b3J5KSB7XG4gICAgICAgICAgU3RvcmFnZS5wdXQoJHRyYW5zbGF0ZS5zdG9yYWdlS2V5KCksICR1c2VzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbmZvcm0gZGVmYXVsdCBpbnRlcnBvbGF0b3JcbiAgICAgICAgZGVmYXVsdEludGVycG9sYXRvci5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgICAvLyBpbmZvcm0gYWxsIG90aGVycyB0b28hXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChpbnRlcnBvbGF0b3JIYXNoTWFwLCBmdW5jdGlvbiAoaW50ZXJwb2xhdG9yLCBpZCkge1xuICAgICAgICAgIGludGVycG9sYXRvckhhc2hNYXBbaWRdLnNldExvY2FsZSgkdXNlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlRW5kJywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgbG9hZEFzeW5jXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogS2lja3Mgb2YgcmVnaXN0ZXJlZCBhc3luYyBsb2FkZXIgdXNpbmcgYCRpbmplY3RvcmAgYW5kIGFwcGxpZXMgZXhpc3RpbmdcbiAgICAgICAqIGxvYWRlciBvcHRpb25zLiBXaGVuIHJlc29sdmVkLCBpdCB1cGRhdGVzIHRyYW5zbGF0aW9uIHRhYmxlcyBhY2NvcmRpbmdseVxuICAgICAgICogb3IgcmVqZWN0cyB3aXRoIGdpdmVuIGxhbmd1YWdlIGtleS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IExhbmd1YWdlIGtleS5cbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZS5cbiAgICAgICAqL1xuICAgICAgdmFyIGxvYWRBc3luYyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICB0aHJvdyAnTm8gbGFuZ3VhZ2Uga2V5IHNwZWNpZmllZCBmb3IgbG9hZGluZy4nO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ1N0YXJ0Jywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgICAgcGVuZGluZ0xvYWRlciA9IHRydWU7XG5cbiAgICAgICAgdmFyIGNhY2hlID0gbG9hZGVyQ2FjaGU7XG4gICAgICAgIGlmICh0eXBlb2YoY2FjaGUpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIC8vIGdldHRpbmcgb24tZGVtYW5kIGluc3RhbmNlIG9mIGxvYWRlclxuICAgICAgICAgIGNhY2hlID0gJGluamVjdG9yLmdldChjYWNoZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9hZGVyT3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCAkbG9hZGVyT3B0aW9ucywge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICRodHRwOiBhbmd1bGFyLmV4dGVuZCh7fSwge1xuICAgICAgICAgICAgY2FjaGU6IGNhY2hlXG4gICAgICAgICAgfSwgJGxvYWRlck9wdGlvbnMuJGh0dHApXG4gICAgICAgIH0pO1xuXG4gICAgICAgICRpbmplY3Rvci5nZXQoJGxvYWRlckZhY3RvcnkpKGxvYWRlck9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICB2YXIgdHJhbnNsYXRpb25UYWJsZSA9IHt9O1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nU3VjY2VzcycsIHtsYW5ndWFnZToga2V5fSk7XG5cbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YSwgZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHRyYW5zbGF0aW9uVGFibGUsIGZsYXRPYmplY3QodGFibGUpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCh0cmFuc2xhdGlvblRhYmxlLCBmbGF0T2JqZWN0KGRhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGVuZGluZ0xvYWRlciA9IGZhbHNlO1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoe1xuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICB0YWJsZTogdHJhbnNsYXRpb25UYWJsZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nRW5kJywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nRXJyb3InLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChrZXkpO1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nRW5kJywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgaWYgKCRzdG9yYWdlRmFjdG9yeSkge1xuICAgICAgICBTdG9yYWdlID0gJGluamVjdG9yLmdldCgkc3RvcmFnZUZhY3RvcnkpO1xuXG4gICAgICAgIGlmICghU3RvcmFnZS5nZXQgfHwgIVN0b3JhZ2UucHV0KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IHVzZSBzdG9yYWdlIFxcJycgKyAkc3RvcmFnZUZhY3RvcnkgKyAnXFwnLCBtaXNzaW5nIGdldCgpIG9yIHB1dCgpIG1ldGhvZCEnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBhcHBseSBhZGRpdGlvbmFsIHNldHRpbmdzXG4gICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKGRlZmF1bHRJbnRlcnBvbGF0b3IudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KSkge1xuICAgICAgICBkZWZhdWx0SW50ZXJwb2xhdG9yLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSgkaW50ZXJwb2xhdGlvblNhbml0aXphdGlvblN0cmF0ZWd5KTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgd2UgaGF2ZSBhZGRpdGlvbmFsIGludGVycG9sYXRpb25zIHRoYXQgd2VyZSBhZGRlZCB2aWFcbiAgICAgIC8vICR0cmFuc2xhdGVQcm92aWRlci5hZGRJbnRlcnBvbGF0aW9uKCksIHdlIGhhdmUgdG8gbWFwJ2VtXG4gICAgICBpZiAoJGludGVycG9sYXRvckZhY3Rvcmllcy5sZW5ndGgpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRpbnRlcnBvbGF0b3JGYWN0b3JpZXMsIGZ1bmN0aW9uIChpbnRlcnBvbGF0b3JGYWN0b3J5KSB7XG4gICAgICAgICAgdmFyIGludGVycG9sYXRvciA9ICRpbmplY3Rvci5nZXQoaW50ZXJwb2xhdG9yRmFjdG9yeSk7XG4gICAgICAgICAgLy8gc2V0dGluZyBpbml0aWFsIGxvY2FsZSBmb3IgZWFjaCBpbnRlcnBvbGF0aW9uIHNlcnZpY2VcbiAgICAgICAgICBpbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCRwcmVmZXJyZWRMYW5ndWFnZSB8fCAkdXNlcyk7XG4gICAgICAgICAgLy8gYXBwbHkgYWRkaXRpb25hbCBzZXR0aW5nc1xuICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oaW50ZXJwb2xhdG9yLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSkpIHtcbiAgICAgICAgICAgIGludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3koJGludGVycG9sYXRpb25TYW5pdGl6YXRpb25TdHJhdGVneSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIG1ha2UnZW0gcmVjb2duaXphYmxlIHRocm91Z2ggaWRcbiAgICAgICAgICBpbnRlcnBvbGF0b3JIYXNoTWFwW2ludGVycG9sYXRvci5nZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllcigpXSA9IGludGVycG9sYXRvcjtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgZ2V0VHJhbnNsYXRpb25UYWJsZVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zbGF0aW9uIHRhYmxlXG4gICAgICAgKiBvciBpcyByZWplY3RlZCBpZiBhbiBlcnJvciBvY2N1cnJlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gbGFuZ0tleVxuICAgICAgICogQHJldHVybnMge1EucHJvbWlzZX1cbiAgICAgICAqL1xuICAgICAgdmFyIGdldFRyYW5zbGF0aW9uVGFibGUgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCR0cmFuc2xhdGlvblRhYmxlLCBsYW5nS2V5KSkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxhbmdQcm9taXNlc1tsYW5nS2V5XSkge1xuICAgICAgICAgIGxhbmdQcm9taXNlc1tsYW5nS2V5XS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnMoZGF0YS5rZXksIGRhdGEudGFibGUpO1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhLnRhYmxlKTtcbiAgICAgICAgICB9LCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSBnZXRGYWxsYmFja1RyYW5zbGF0aW9uXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgdG8gdGhlIHRyYW5zbGF0aW9uXG4gICAgICAgKiBvciBiZSByZWplY3RlZCBpZiBubyB0cmFuc2xhdGlvbiB3YXMgZm91bmQgZm9yIHRoZSBsYW5ndWFnZS5cbiAgICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY3VycmVudGx5IG9ubHkgdXNlZCBmb3IgZmFsbGJhY2sgbGFuZ3VhZ2UgdHJhbnNsYXRpb24uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGxhbmdLZXkgVGhlIGxhbmd1YWdlIHRvIHRyYW5zbGF0ZSB0by5cbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9XG4gICAgICAgKi9cbiAgICAgIHZhciBnZXRGYWxsYmFja1RyYW5zbGF0aW9uID0gZnVuY3Rpb24gKGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICBnZXRUcmFuc2xhdGlvblRhYmxlKGxhbmdLZXkpLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uVGFibGUpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRyYW5zbGF0aW9uVGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgICBJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKGxhbmdLZXkpO1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSwgaW50ZXJwb2xhdGVQYXJhbXMpKTtcbiAgICAgICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGRlZmVycmVkLnJlamVjdCk7XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyBhIHRyYW5zbGF0aW9uXG4gICAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHVzZWQgZm9yIGZhbGxiYWNrIGxhbmd1YWdlIHRyYW5zbGF0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBsYW5nS2V5IFRoZSBsYW5ndWFnZSB0byB0cmFuc2xhdGUgdG8uXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0cmFuc2xhdGlvblxuICAgICAgICovXG4gICAgICB2YXIgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQgPSBmdW5jdGlvbiAobGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICB2YXIgcmVzdWx0LCB0cmFuc2xhdGlvblRhYmxlID0gJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV07XG5cbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uVGFibGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRyYW5zbGF0aW9uVGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZShsYW5nS2V5KTtcbiAgICAgICAgICByZXN1bHQgPSBJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSwgaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSB0cmFuc2xhdGVCeUhhbmRsZXJcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogVHJhbnNsYXRlIGJ5IG1pc3NpbmcgdHJhbnNsYXRpb24gaGFuZGxlci5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHJldHVybnMgdHJhbnNsYXRpb24gY3JlYXRlZCBieSAkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlciBvciB0cmFuc2xhdGlvbklkIGlzICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyIGlzXG4gICAgICAgKiBhYnNlbnRcbiAgICAgICAqL1xuICAgICAgdmFyIHRyYW5zbGF0ZUJ5SGFuZGxlciA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBoYW5kbGVyIGZhY3RvcnkgLSB3ZSBtaWdodCBhbHNvIGNhbGwgaXQgaGVyZSB0byBkZXRlcm1pbmUgaWYgaXQgcHJvdmlkZXNcbiAgICAgICAgLy8gYSBkZWZhdWx0IHRleHQgZm9yIGEgdHJhbnNsYXRpb25pZCB0aGF0IGNhbid0IGJlIGZvdW5kIGFueXdoZXJlIGluIG91ciB0YWJsZXNcbiAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSkge1xuICAgICAgICAgIHZhciByZXN1bHRTdHJpbmcgPSAkaW5qZWN0b3IuZ2V0KCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSkodHJhbnNsYXRpb25JZCwgJHVzZXMpO1xuICAgICAgICAgIGlmIChyZXN1bHRTdHJpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFN0cmluZztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIFJlY3Vyc2l2ZSBoZWxwZXIgZnVuY3Rpb24gZm9yIGZhbGxiYWNrVHJhbnNsYXRpb24gdGhhdCB3aWxsIHNlcXVlbnRpYWxseSBsb29rXG4gICAgICAgKiBmb3IgYSB0cmFuc2xhdGlvbiBpbiB0aGUgZmFsbGJhY2tMYW5ndWFnZXMgc3RhcnRpbmcgd2l0aCBmYWxsYmFja0xhbmd1YWdlSW5kZXguXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGZhbGxiYWNrTGFuZ3VhZ2VJbmRleFxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAgICogQHJldHVybnMge1EucHJvbWlzZX0gUHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgdHJhbnNsYXRpb24uXG4gICAgICAgKi9cbiAgICAgIHZhciByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZSA9IGZ1bmN0aW9uIChmYWxsYmFja0xhbmd1YWdlSW5kZXgsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICBpZiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4IDwgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGxhbmdLZXkgPSAkZmFsbGJhY2tMYW5ndWFnZVtmYWxsYmFja0xhbmd1YWdlSW5kZXhdO1xuICAgICAgICAgIGdldEZhbGxiYWNrVHJhbnNsYXRpb24obGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikudGhlbihcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vIExvb2sgaW4gdGhlIG5leHQgZmFsbGJhY2sgbGFuZ3VhZ2UgZm9yIGEgdHJhbnNsYXRpb24uXG4gICAgICAgICAgICAgIC8vIEl0IGRlbGF5cyB0aGUgcmVzb2x2aW5nIGJ5IHBhc3NpbmcgYW5vdGhlciBwcm9taXNlIHRvIHJlc29sdmUuXG4gICAgICAgICAgICAgIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCArIDEsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBObyB0cmFuc2xhdGlvbiBmb3VuZCBpbiBhbnkgZmFsbGJhY2sgbGFuZ3VhZ2VcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlSW5zdGFudFxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBSZWN1cnNpdmUgaGVscGVyIGZ1bmN0aW9uIGZvciBmYWxsYmFja1RyYW5zbGF0aW9uIHRoYXQgd2lsbCBzZXF1ZW50aWFsbHkgbG9va1xuICAgICAgICogZm9yIGEgdHJhbnNsYXRpb24gaW4gdGhlIGZhbGxiYWNrTGFuZ3VhZ2VzIHN0YXJ0aW5nIHdpdGggZmFsbGJhY2tMYW5ndWFnZUluZGV4LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBmYWxsYmFja0xhbmd1YWdlSW5kZXhcbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRyYW5zbGF0aW9uXG4gICAgICAgKi9cbiAgICAgIHZhciByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQgPSBmdW5jdGlvbiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgICAgaWYgKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCA8ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBsYW5nS2V5ID0gJGZhbGxiYWNrTGFuZ3VhZ2VbZmFsbGJhY2tMYW5ndWFnZUluZGV4XTtcbiAgICAgICAgICByZXN1bHQgPSBnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudChsYW5nS2V5LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKTtcbiAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50KGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCArIDEsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2xhdGVzIHdpdGggdGhlIHVzYWdlIG9mIHRoZSBmYWxsYmFjayBsYW5ndWFnZXMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAgICogQHJldHVybnMge1EucHJvbWlzZX0gUHJvbWlzZSwgdGhhdCByZXNvbHZlcyB0byB0aGUgdHJhbnNsYXRpb24uXG4gICAgICAgKi9cbiAgICAgIHZhciBmYWxsYmFja1RyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgICAgLy8gU3RhcnQgd2l0aCB0aGUgZmFsbGJhY2tMYW5ndWFnZSB3aXRoIGluZGV4IDBcbiAgICAgICAgcmV0dXJuIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlKChzdGFydEZhbGxiYWNrSXRlcmF0aW9uPjAgPyBzdGFydEZhbGxiYWNrSXRlcmF0aW9uIDogZmFsbGJhY2tJbmRleCksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2xhdGVzIHdpdGggdGhlIHVzYWdlIG9mIHRoZSBmYWxsYmFjayBsYW5ndWFnZXMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAgICogQHJldHVybnMge1N0cmluZ30gdHJhbnNsYXRpb25cbiAgICAgICAqL1xuICAgICAgdmFyIGZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgICAgLy8gU3RhcnQgd2l0aCB0aGUgZmFsbGJhY2tMYW5ndWFnZSB3aXRoIGluZGV4IDBcbiAgICAgICAgcmV0dXJuIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlSW5zdGFudCgoc3RhcnRGYWxsYmFja0l0ZXJhdGlvbj4wID8gc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA6IGZhbGxiYWNrSW5kZXgpLCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBkZXRlcm1pbmVUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKSB7XG5cbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICB2YXIgdGFibGUgPSAkdXNlcyA/ICR0cmFuc2xhdGlvblRhYmxlWyR1c2VzXSA6ICR0cmFuc2xhdGlvblRhYmxlLFxuICAgICAgICAgICAgSW50ZXJwb2xhdG9yID0gKGludGVycG9sYXRpb25JZCkgPyBpbnRlcnBvbGF0b3JIYXNoTWFwW2ludGVycG9sYXRpb25JZF0gOiBkZWZhdWx0SW50ZXJwb2xhdG9yO1xuXG4gICAgICAgIC8vIGlmIHRoZSB0cmFuc2xhdGlvbiBpZCBleGlzdHMsIHdlIGNhbiBqdXN0IGludGVycG9sYXRlIGl0XG4gICAgICAgIGlmICh0YWJsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdGFibGVbdHJhbnNsYXRpb25JZF07XG5cbiAgICAgICAgICAvLyBJZiB1c2luZyBsaW5rLCByZXJ1biAkdHJhbnNsYXRlIHdpdGggbGlua2VkIHRyYW5zbGF0aW9uSWQgYW5kIHJldHVybiBpdFxuICAgICAgICAgIGlmICh0cmFuc2xhdGlvbi5zdWJzdHIoMCwgMikgPT09ICdAOicpIHtcblxuICAgICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbi5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpXG4gICAgICAgICAgICAgIC50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoSW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uLCBpbnRlcnBvbGF0ZVBhcmFtcykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAgIC8vIGZvciBsb2dnaW5nIHB1cnBvc2VzIG9ubHkgKGFzIGluICR0cmFuc2xhdGVNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nKSwgdmFsdWUgaXMgbm90IHJldHVybmVkIHRvIHByb21pc2VcbiAgICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyKSB7XG4gICAgICAgICAgICBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24gPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gc2luY2Ugd2UgY291bGRuJ3QgdHJhbnNsYXRlIHRoZSBpbml0YWwgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkLFxuICAgICAgICAgIC8vIHdlIHRyeSBpdCBub3cgd2l0aCBvbmUgb3IgbW9yZSBmYWxsYmFjayBsYW5ndWFnZXMsIGlmIGZhbGxiYWNrIGxhbmd1YWdlKHMpIGlzXG4gICAgICAgICAgLy8gY29uZmlndXJlZC5cbiAgICAgICAgICBpZiAoJHVzZXMgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICBmYWxsYmFja1RyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRyYW5zbGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoX3RyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyhfdHJhbnNsYXRpb25JZCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyICYmIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbikge1xuICAgICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGUgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3RzLlxuICAgICAgICAgICAgLy8gTm93LCBpZiB0aGVyZSBpcyBhIHJlZ2lzdGVyZWQgaGFuZGxlciBmb3IgbWlzc2luZyB0cmFuc2xhdGlvbnMgYW5kIG5vXG4gICAgICAgICAgICAvLyBhc3luY0xvYWRlciBpcyBwZW5kaW5nLCB3ZSBleGVjdXRlIHRoZSBoYW5kbGVyXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyh0cmFuc2xhdGlvbklkKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgdmFyIGRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKSB7XG5cbiAgICAgICAgdmFyIHJlc3VsdCwgdGFibGUgPSAkdXNlcyA/ICR0cmFuc2xhdGlvblRhYmxlWyR1c2VzXSA6ICR0cmFuc2xhdGlvblRhYmxlLFxuICAgICAgICAgICAgSW50ZXJwb2xhdG9yID0gKGludGVycG9sYXRpb25JZCkgPyBpbnRlcnBvbGF0b3JIYXNoTWFwW2ludGVycG9sYXRpb25JZF0gOiBkZWZhdWx0SW50ZXJwb2xhdG9yO1xuXG4gICAgICAgIC8vIGlmIHRoZSB0cmFuc2xhdGlvbiBpZCBleGlzdHMsIHdlIGNhbiBqdXN0IGludGVycG9sYXRlIGl0XG4gICAgICAgIGlmICh0YWJsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdGFibGVbdHJhbnNsYXRpb25JZF07XG5cbiAgICAgICAgICAvLyBJZiB1c2luZyBsaW5rLCByZXJ1biAkdHJhbnNsYXRlIHdpdGggbGlua2VkIHRyYW5zbGF0aW9uSWQgYW5kIHJldHVybiBpdFxuICAgICAgICAgIGlmICh0cmFuc2xhdGlvbi5zdWJzdHIoMCwgMikgPT09ICdAOicpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCh0cmFuc2xhdGlvbi5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbjtcbiAgICAgICAgICAvLyBmb3IgbG9nZ2luZyBwdXJwb3NlcyBvbmx5IChhcyBpbiAkdHJhbnNsYXRlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyksIHZhbHVlIGlzIG5vdCByZXR1cm5lZCB0byBwcm9taXNlXG4gICAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlcikge1xuICAgICAgICAgICAgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uID0gdHJhbnNsYXRlQnlIYW5kbGVyKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHNpbmNlIHdlIGNvdWxkbid0IHRyYW5zbGF0ZSB0aGUgaW5pdGFsIHJlcXVlc3RlZCB0cmFuc2xhdGlvbiBpZCxcbiAgICAgICAgICAvLyB3ZSB0cnkgaXQgbm93IHdpdGggb25lIG9yIG1vcmUgZmFsbGJhY2sgbGFuZ3VhZ2VzLCBpZiBmYWxsYmFjayBsYW5ndWFnZShzKSBpc1xuICAgICAgICAgIC8vIGNvbmZpZ3VyZWQuXG4gICAgICAgICAgaWYgKCR1c2VzICYmICRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgZmFsbGJhY2tJbmRleCA9IDA7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlciAmJiBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIC8vIGxvb2tzIGxpa2UgdGhlIHJlcXVlc3RlZCB0cmFuc2xhdGlvbiBpZCBkb2Vzbid0IGV4aXN0cy5cbiAgICAgICAgICAgIC8vIE5vdywgaWYgdGhlcmUgaXMgYSByZWdpc3RlcmVkIGhhbmRsZXIgZm9yIG1pc3NpbmcgdHJhbnNsYXRpb25zIGFuZCBub1xuICAgICAgICAgICAgLy8gYXN5bmNMb2FkZXIgaXMgcGVuZGluZywgd2UgZXhlY3V0ZSB0aGUgaGFuZGxlclxuICAgICAgICAgICAgcmVzdWx0ID0gbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyh0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNwcmVmZXJyZWRMYW5ndWFnZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgbGFuZ3VhZ2Uga2V5IGZvciB0aGUgcHJlZmVycmVkIGxhbmd1YWdlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IGxhbmd1YWdlIFN0cmluZyBvciBBcnJheSB0byBiZSB1c2VkIGFzIHByZWZlcnJlZExhbmd1YWdlIChjaGFuZ2luZyBhdCBydW50aW1lKVxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gcHJlZmVycmVkIGxhbmd1YWdlIGtleVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgICAgaWYobGFuZ0tleSkge1xuICAgICAgICAgIHNldHVwUHJlZmVycmVkTGFuZ3VhZ2UobGFuZ0tleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRwcmVmZXJyZWRMYW5ndWFnZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjY2xvYWtDbGFzc05hbWVcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGNvbmZpZ3VyZWQgY2xhc3MgbmFtZSBmb3IgYHRyYW5zbGF0ZS1jbG9ha2AgZGlyZWN0aXZlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gY2xvYWtDbGFzc05hbWVcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICRjbG9ha0NsYXNzTmFtZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjZmFsbGJhY2tMYW5ndWFnZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgbGFuZ3VhZ2Uga2V5IGZvciB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2VzIG9yIHNldHMgYSBuZXcgZmFsbGJhY2sgc3RhY2suXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBsYW5nS2V5IGxhbmd1YWdlIFN0cmluZyBvciBBcnJheSBvZiBmYWxsYmFjayBsYW5ndWFnZXMgdG8gYmUgdXNlZCAodG8gY2hhbmdlIHN0YWNrIGF0IHJ1bnRpbWUpXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfHxhcnJheX0gZmFsbGJhY2sgbGFuZ3VhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuZmFsbGJhY2tMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICAgIGlmIChsYW5nS2V5ICE9PSB1bmRlZmluZWQgJiYgbGFuZ0tleSAhPT0gbnVsbCkge1xuICAgICAgICAgIGZhbGxiYWNrU3RhY2sobGFuZ0tleSk7XG5cbiAgICAgICAgICAvLyBhcyB3ZSBtaWdodCBoYXZlIGFuIGFzeW5jIGxvYWRlciBpbml0aWF0ZWQgYW5kIGEgbmV3IHRyYW5zbGF0aW9uIGxhbmd1YWdlIG1pZ2h0IGhhdmUgYmVlbiBkZWZpbmVkXG4gICAgICAgICAgLy8gd2UgbmVlZCB0byBhZGQgdGhlIHByb21pc2UgdG8gdGhlIHN0YWNrIGFsc28uIFNvIC0gaXRlcmF0ZS5cbiAgICAgICAgICBpZiAoJGxvYWRlckZhY3RvcnkpIHtcbiAgICAgICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsYW5nUHJvbWlzZXNbJGZhbGxiYWNrTGFuZ3VhZ2VbaV1dKSB7XG4gICAgICAgICAgICAgICAgICBsYW5nUHJvbWlzZXNbJGZhbGxiYWNrTGFuZ3VhZ2VbaV1dID0gbG9hZEFzeW5jKCRmYWxsYmFja0xhbmd1YWdlW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgJHRyYW5zbGF0ZS51c2UoJHRyYW5zbGF0ZS51c2UoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRmYWxsYmFja1dhc1N0cmluZykge1xuICAgICAgICAgIHJldHVybiAkZmFsbGJhY2tMYW5ndWFnZVswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2U7XG4gICAgICAgIH1cblxuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSN1c2VGYWxsYmFja0xhbmd1YWdlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBTZXRzIHRoZSBmaXJzdCBrZXkgb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlIHN0YWNrIHRvIGJlIHVzZWQgZm9yIHRyYW5zbGF0aW9uLlxuICAgICAgICogVGhlcmVmb3JlIGFsbCBsYW5ndWFnZXMgaW4gdGhlIGZhbGxiYWNrIGFycmF5IEJFRk9SRSB0aGlzIGtleSB3aWxsIGJlIHNraXBwZWQhXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBsYW5nS2V5IENvbnRhaW5zIHRoZSBsYW5nS2V5IHRoZSBpdGVyYXRpb24gc2hhbGwgc3RhcnQgd2l0aC4gU2V0IHRvIGZhbHNlIGlmIHlvdSB3YW50IHRvXG4gICAgICAgKiBnZXQgYmFjayB0byB0aGUgd2hvbGUgc3RhY2tcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS51c2VGYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgICAgaWYgKGxhbmdLZXkgIT09IHVuZGVmaW5lZCAmJiBsYW5nS2V5ICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKCFsYW5nS2V5KSB7XG4gICAgICAgICAgICBzdGFydEZhbGxiYWNrSXRlcmF0aW9uID0gMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGxhbmdLZXlQb3NpdGlvbiA9IGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsIGxhbmdLZXkpO1xuICAgICAgICAgICAgaWYgKGxhbmdLZXlQb3NpdGlvbiA+IC0xKSB7XG4gICAgICAgICAgICAgIHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gPSBsYW5nS2V5UG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNwcm9wb3NlZExhbmd1YWdlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBsYW5ndWFnZSBrZXkgb2YgbGFuZ3VhZ2UgdGhhdCBpcyBjdXJyZW50bHkgbG9hZGVkIGFzeW5jaHJvbm91c2x5LlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gbGFuZ3VhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUucHJvcG9zZWRMYW5ndWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICRuZXh0TGFuZztcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjc3RvcmFnZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyByZWdpc3RlcmVkIHN0b3JhZ2UuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7b2JqZWN0fSBTdG9yYWdlXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuc3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFN0b3JhZ2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3VzZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgd2hpY2ggbGFuZ3VhZ2UgdG8gdXNlIGJ5IGdpdmVuIGxhbmd1YWdlIGtleS4gVGhpcyBtZXRob2QgaXNcbiAgICAgICAqIHVzZWQgdG8gY2hhbmdlIGxhbmd1YWdlIGF0IHJ1bnRpbWUuIEl0IGFsc28gdGFrZXMgY2FyZSBvZiBzdG9yaW5nIHRoZSBsYW5ndWFnZVxuICAgICAgICoga2V5IGluIGEgY29uZmlndXJlZCBzdG9yZSB0byBsZXQgeW91ciBhcHAgcmVtZW1iZXIgdGhlIGNob29zZWQgbGFuZ3VhZ2UuXG4gICAgICAgKlxuICAgICAgICogV2hlbiB0cnlpbmcgdG8gJ3VzZScgYSBsYW5ndWFnZSB3aGljaCBpc24ndCBhdmFpbGFibGUgaXQgdHJpZXMgdG8gbG9hZCBpdFxuICAgICAgICogYXN5bmNocm9ub3VzbHkgd2l0aCByZWdpc3RlcmVkIGxvYWRlcnMuXG4gICAgICAgKlxuICAgICAgICogUmV0dXJucyBwcm9taXNlIG9iamVjdCB3aXRoIGxvYWRlZCBsYW5ndWFnZSBmaWxlIGRhdGFcbiAgICAgICAqIEBleGFtcGxlXG4gICAgICAgKiAkdHJhbnNsYXRlLnVzZShcImVuX1VTXCIpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgKiAgICRzY29wZS50ZXh0ID0gJHRyYW5zbGF0ZShcIkhFTExPXCIpO1xuICAgICAgICogfSk7XG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBMYW5ndWFnZSBrZXlcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gTGFuZ3VhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUudXNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgIHJldHVybiAkdXNlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZVN0YXJ0Jywge2xhbmd1YWdlOiBrZXl9KTtcblxuICAgICAgICAvLyBUcnkgdG8gZ2V0IHRoZSBhbGlhc2VkIGxhbmd1YWdlIGtleVxuICAgICAgICB2YXIgYWxpYXNlZEtleSA9IG5lZ290aWF0ZUxvY2FsZShrZXkpO1xuICAgICAgICBpZiAoYWxpYXNlZEtleSkge1xuICAgICAgICAgIGtleSA9IGFsaWFzZWRLZXk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGVyZSBpc24ndCBhIHRyYW5zbGF0aW9uIHRhYmxlIGZvciB0aGUgbGFuZ3VhZ2Ugd2UndmUgcmVxdWVzdGVkLFxuICAgICAgICAvLyB3ZSBsb2FkIGl0IGFzeW5jaHJvbm91c2x5XG4gICAgICAgIGlmICghJHRyYW5zbGF0aW9uVGFibGVba2V5XSAmJiAkbG9hZGVyRmFjdG9yeSAmJiAhbGFuZ1Byb21pc2VzW2tleV0pIHtcbiAgICAgICAgICAkbmV4dExhbmcgPSBrZXk7XG4gICAgICAgICAgbGFuZ1Byb21pc2VzW2tleV0gPSBsb2FkQXN5bmMoa2V5KS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25zKHRyYW5zbGF0aW9uLmtleSwgdHJhbnNsYXRpb24udGFibGUpO1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGlvbi5rZXkpO1xuXG4gICAgICAgICAgICB1c2VMYW5ndWFnZSh0cmFuc2xhdGlvbi5rZXkpO1xuICAgICAgICAgICAgaWYgKCRuZXh0TGFuZyA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICRuZXh0TGFuZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbjtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAoJG5leHRMYW5nID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgJG5leHRMYW5nID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVycm9yJywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChrZXkpO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShrZXkpO1xuICAgICAgICAgIHVzZUxhbmd1YWdlKGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjc3RvcmFnZUtleVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUga2V5IGZvciB0aGUgc3RvcmFnZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0b3JhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuc3RvcmFnZUtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHN0b3JhZ2VLZXkoKTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjaXNQb3N0Q29tcGlsaW5nRW5hYmxlZFxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB3aGV0aGVyIHBvc3QgY29tcGlsaW5nIGlzIGVuYWJsZWQgb3Igbm90XG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7Ym9vbH0gc3RvcmFnZSBrZXlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5pc1Bvc3RDb21waWxpbmdFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJHBvc3RDb21waWxpbmdFbmFibGVkO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNyZWZyZXNoXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZWZyZXNoZXMgYSB0cmFuc2xhdGlvbiB0YWJsZSBwb2ludGVkIGJ5IHRoZSBnaXZlbiBsYW5nS2V5LiBJZiBsYW5nS2V5IGlzIG5vdCBzcGVjaWZpZWQsXG4gICAgICAgKiB0aGUgbW9kdWxlIHdpbGwgZHJvcCBhbGwgZXhpc3RlbnQgdHJhbnNsYXRpb24gdGFibGVzIGFuZCBsb2FkIG5ldyB2ZXJzaW9uIG9mIHRob3NlIHdoaWNoXG4gICAgICAgKiBhcmUgY3VycmVudGx5IGluIHVzZS5cbiAgICAgICAqXG4gICAgICAgKiBSZWZyZXNoIG1lYW5zIHRoYXQgdGhlIG1vZHVsZSB3aWxsIGRyb3AgdGFyZ2V0IHRyYW5zbGF0aW9uIHRhYmxlIGFuZCB0cnkgdG8gbG9hZCBpdCBhZ2Fpbi5cbiAgICAgICAqXG4gICAgICAgKiBJbiBjYXNlIHRoZXJlIGFyZSBubyBsb2FkZXJzIHJlZ2lzdGVyZWQgdGhlIHJlZnJlc2goKSBtZXRob2Qgd2lsbCB0aHJvdyBhbiBFcnJvci5cbiAgICAgICAqXG4gICAgICAgKiBJZiB0aGUgbW9kdWxlIGlzIGFibGUgdG8gcmVmcmVzaCB0cmFuc2xhdGlvbiB0YWJsZXMgcmVmcmVzaCgpIG1ldGhvZCB3aWxsIGJyb2FkY2FzdFxuICAgICAgICogJHRyYW5zbGF0ZVJlZnJlc2hTdGFydCBhbmQgJHRyYW5zbGF0ZVJlZnJlc2hFbmQgZXZlbnRzLlxuICAgICAgICpcbiAgICAgICAqIEBleGFtcGxlXG4gICAgICAgKiAvLyB0aGlzIHdpbGwgZHJvcCBhbGwgY3VycmVudGx5IGV4aXN0ZW50IHRyYW5zbGF0aW9uIHRhYmxlcyBhbmQgcmVsb2FkIHRob3NlIHdoaWNoIGFyZVxuICAgICAgICogLy8gY3VycmVudGx5IGluIHVzZVxuICAgICAgICogJHRyYW5zbGF0ZS5yZWZyZXNoKCk7XG4gICAgICAgKiAvLyB0aGlzIHdpbGwgcmVmcmVzaCBhIHRyYW5zbGF0aW9uIHRhYmxlIGZvciB0aGUgZW5fVVMgbGFuZ3VhZ2VcbiAgICAgICAqICR0cmFuc2xhdGUucmVmcmVzaCgnZW5fVVMnKTtcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIGxhbmd1YWdlIGtleSBvZiB0aGUgdGFibGUsIHdoaWNoIGhhcyB0byBiZSByZWZyZXNoZWRcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtwcm9taXNlfSBQcm9taXNlLCB3aGljaCB3aWxsIGJlIHJlc29sdmVkIGluIGNhc2UgYSB0cmFuc2xhdGlvbiB0YWJsZXMgcmVmcmVzaGluZ1xuICAgICAgICogcHJvY2VzcyBpcyBmaW5pc2hlZCBzdWNjZXNzZnVsbHksIGFuZCByZWplY3QgaWYgbm90LlxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnJlZnJlc2ggPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgICBpZiAoISRsb2FkZXJGYWN0b3J5KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IHJlZnJlc2ggdHJhbnNsYXRpb24gdGFibGUsIG5vIGxvYWRlciByZWdpc3RlcmVkIScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICBmdW5jdGlvbiByZXNvbHZlKCkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVmcmVzaEVuZCcsIHtsYW5ndWFnZTogbGFuZ0tleX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0KCkge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVSZWZyZXNoRW5kJywge2xhbmd1YWdlOiBsYW5nS2V5fSk7XG4gICAgICAgIH1cblxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVmcmVzaFN0YXJ0Jywge2xhbmd1YWdlOiBsYW5nS2V5fSk7XG5cbiAgICAgICAgaWYgKCFsYW5nS2V5KSB7XG4gICAgICAgICAgLy8gaWYgdGhlcmUncyBubyBsYW5ndWFnZSBrZXkgc3BlY2lmaWVkIHdlIHJlZnJlc2ggQUxMIFRIRSBUSElOR1MhXG4gICAgICAgICAgdmFyIHRhYmxlcyA9IFtdLCBsb2FkaW5nS2V5cyA9IHt9O1xuXG4gICAgICAgICAgLy8gcmVsb2FkIHJlZ2lzdGVyZWQgZmFsbGJhY2sgbGFuZ3VhZ2VzXG4gICAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgIHRhYmxlcy5wdXNoKGxvYWRBc3luYygkZmFsbGJhY2tMYW5ndWFnZVtpXSkpO1xuICAgICAgICAgICAgICBsb2FkaW5nS2V5c1skZmFsbGJhY2tMYW5ndWFnZVtpXV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHJlbG9hZCBjdXJyZW50bHkgdXNlZCBsYW5ndWFnZVxuICAgICAgICAgIGlmICgkdXNlcyAmJiAhbG9hZGluZ0tleXNbJHVzZXNdKSB7XG4gICAgICAgICAgICB0YWJsZXMucHVzaChsb2FkQXN5bmMoJHVzZXMpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAkcS5hbGwodGFibGVzKS50aGVuKGZ1bmN0aW9uICh0YWJsZURhdGEpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0YWJsZURhdGEsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgIGlmICgkdHJhbnNsYXRpb25UYWJsZVtkYXRhLmtleV0pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgJHRyYW5zbGF0aW9uVGFibGVbZGF0YS5rZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRyYW5zbGF0aW9ucyhkYXRhLmtleSwgZGF0YS50YWJsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICgkdXNlcykge1xuICAgICAgICAgICAgICB1c2VMYW5ndWFnZSgkdXNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBlbHNlIGlmICgkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSkge1xuXG4gICAgICAgICAgbG9hZEFzeW5jKGxhbmdLZXkpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9ucyhkYXRhLmtleSwgZGF0YS50YWJsZSk7XG4gICAgICAgICAgICBpZiAobGFuZ0tleSA9PT0gJHVzZXMpIHtcbiAgICAgICAgICAgICAgdXNlTGFuZ3VhZ2UoJHVzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0sIHJlamVjdCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjaW5zdGFudFxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyBhIHRyYW5zbGF0aW9uIGluc3RhbnRseSBmcm9tIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBsb2FkZWQgdHJhbnNsYXRpb24uIEFsbCBydWxlc1xuICAgICAgICogcmVnYXJkaW5nIHRoZSBjdXJyZW50IGxhbmd1YWdlLCB0aGUgcHJlZmVycmVkIGxhbmd1YWdlIG9mIGV2ZW4gZmFsbGJhY2sgbGFuZ3VhZ2VzIHdpbGwgYmVcbiAgICAgICAqIHVzZWQgZXhjZXB0IGFueSBwcm9taXNlIGhhbmRsaW5nLiBJZiBhIGxhbmd1YWdlIHdhcyBub3QgZm91bmQsIGFuIGFzeW5jaHJvbm91cyBsb2FkaW5nXG4gICAgICAgKiB3aWxsIGJlIGludm9rZWQgaW4gdGhlIGJhY2tncm91bmQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IHRyYW5zbGF0aW9uSWQgQSB0b2tlbiB3aGljaCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gaWRcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgY2FuIGJlIG9wdGlvbmFsbHkgYW4gYXJyYXkgb2YgdHJhbnNsYXRpb24gaWRzIHdoaWNoXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzIHRoYXQgdGhlIGZ1bmN0aW9uJ3MgcHJvbWlzZSByZXR1cm5zIGFuIG9iamVjdCB3aGVyZVxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaCBrZXkgaXMgdGhlIHRyYW5zbGF0aW9uIGlkIGFuZCB0aGUgdmFsdWUgdGhlIHRyYW5zbGF0aW9uLlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IGludGVycG9sYXRlUGFyYW1zIFBhcmFtc1xuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGludGVycG9sYXRpb25JZCBUaGUgaWQgb2YgdGhlIGludGVycG9sYXRpb24gdG8gdXNlXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSB0cmFuc2xhdGlvblxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLmluc3RhbnQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkge1xuXG4gICAgICAgIC8vIERldGVjdCB1bmRlZmluZWQgYW5kIG51bGwgdmFsdWVzIHRvIHNob3J0ZW4gdGhlIGV4ZWN1dGlvbiBhbmQgcHJldmVudCBleGNlcHRpb25zXG4gICAgICAgIGlmICh0cmFuc2xhdGlvbklkID09PSBudWxsIHx8IGFuZ3VsYXIuaXNVbmRlZmluZWQodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIER1Y2sgZGV0ZWN0aW9uOiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYW4gYXJyYXksIGEgYnVuY2ggb2YgdHJhbnNsYXRpb25zIHdhcyByZXF1ZXN0ZWQuXG4gICAgICAgIC8vIFRoZSByZXN1bHQgaXMgYW4gb2JqZWN0LlxuICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgYyA9IHRyYW5zbGF0aW9uSWQubGVuZ3RoOyBpIDwgYzsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHRzW3RyYW5zbGF0aW9uSWRbaV1dID0gJHRyYW5zbGF0ZS5pbnN0YW50KHRyYW5zbGF0aW9uSWRbaV0sIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIGRpc2NhcmRlZCB1bmFjY2VwdGFibGUgdmFsdWVzLiBTbyB3ZSBqdXN0IG5lZWQgdG8gdmVyaWZ5IGlmIHRyYW5zbGF0aW9uSWQgaXMgZW1wdHkgU3RyaW5nXG4gICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHRyYW5zbGF0aW9uSWQpICYmIHRyYW5zbGF0aW9uSWQubGVuZ3RoIDwgMSkge1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHJpbSBvZmYgYW55IHdoaXRlc3BhY2VcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbklkID0gdHJpbS5hcHBseSh0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHQsIHBvc3NpYmxlTGFuZ0tleXMgPSBbXTtcbiAgICAgICAgaWYgKCRwcmVmZXJyZWRMYW5ndWFnZSkge1xuICAgICAgICAgIHBvc3NpYmxlTGFuZ0tleXMucHVzaCgkcHJlZmVycmVkTGFuZ3VhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkdXNlcykge1xuICAgICAgICAgIHBvc3NpYmxlTGFuZ0tleXMucHVzaCgkdXNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIHBvc3NpYmxlTGFuZ0tleXMgPSBwb3NzaWJsZUxhbmdLZXlzLmNvbmNhdCgkZmFsbGJhY2tMYW5ndWFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGQgPSBwb3NzaWJsZUxhbmdLZXlzLmxlbmd0aDsgaiA8IGQ7IGorKykge1xuICAgICAgICAgIHZhciBwb3NzaWJsZUxhbmdLZXkgPSBwb3NzaWJsZUxhbmdLZXlzW2pdO1xuICAgICAgICAgIGlmICgkdHJhbnNsYXRpb25UYWJsZVtwb3NzaWJsZUxhbmdLZXldKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mICR0cmFuc2xhdGlvblRhYmxlW3Bvc3NpYmxlTGFuZ0tleV1bdHJhbnNsYXRpb25JZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IGRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlc3VsdCAmJiByZXN1bHQgIT09ICcnKSB7XG4gICAgICAgICAgLy8gUmV0dXJuIHRyYW5zbGF0aW9uIG9mIGRlZmF1bHQgaW50ZXJwb2xhdG9yIGlmIG5vdCBmb3VuZCBhbnl0aGluZy5cbiAgICAgICAgICByZXN1bHQgPSBkZWZhdWx0SW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zKTtcbiAgICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjdmVyc2lvbkluZm9cbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdmVyc2lvbiBpbmZvcm1hdGlvbiBmb3IgdGhlIGFuZ3VsYXItdHJhbnNsYXRlIGxpYnJhcnlcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGFuZ3VsYXItdHJhbnNsYXRlIHZlcnNpb25cbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS52ZXJzaW9uSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZlcnNpb247XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2xvYWRlckNhY2hlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBkZWZpbmVkIGxvYWRlckNhY2hlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW58c3RyaW5nfG9iamVjdH0gY3VycmVudCB2YWx1ZSBvZiBsb2FkZXJDYWNoZVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLmxvYWRlckNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbG9hZGVyQ2FjaGU7XG4gICAgICB9O1xuXG4gICAgICBpZiAoJGxvYWRlckZhY3RvcnkpIHtcblxuICAgICAgICAvLyBJZiBhdCBsZWFzdCBvbmUgYXN5bmMgbG9hZGVyIGlzIGRlZmluZWQgYW5kIHRoZXJlIGFyZSBub1xuICAgICAgICAvLyAoZGVmYXVsdCkgdHJhbnNsYXRpb25zIGF2YWlsYWJsZSB3ZSBzaG91bGQgdHJ5IHRvIGxvYWQgdGhlbS5cbiAgICAgICAgaWYgKGFuZ3VsYXIuZXF1YWxzKCR0cmFuc2xhdGlvblRhYmxlLCB7fSkpIHtcbiAgICAgICAgICAkdHJhbnNsYXRlLnVzZSgkdHJhbnNsYXRlLnVzZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFsc28sIGlmIHRoZXJlIGFyZSBhbnkgZmFsbGJhY2sgbGFuZ3VhZ2UgcmVnaXN0ZXJlZCwgd2Ugc3RhcnRcbiAgICAgICAgLy8gbG9hZGluZyB0aGVtIGFzeW5jaHJvbm91c2x5IGFzIHNvb24gYXMgd2UgY2FuLlxuICAgICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHByb2Nlc3NBc3luY1Jlc3VsdCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25zKHRyYW5zbGF0aW9uLmtleSwgdHJhbnNsYXRpb24udGFibGUpO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHsgbGFuZ3VhZ2U6IHRyYW5zbGF0aW9uLmtleSB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbjtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgbGFuZ1Byb21pc2VzWyRmYWxsYmFja0xhbmd1YWdlW2ldXSA9IGxvYWRBc3luYygkZmFsbGJhY2tMYW5ndWFnZVtpXSkudGhlbihwcm9jZXNzQXN5bmNSZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gJHRyYW5zbGF0ZTtcbiAgICB9XG4gIF07XG59XSk7XG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb25cbiAqIEByZXF1aXJlcyAkaW50ZXJwb2xhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZXMgYW5ndWxhcidzIGAkaW50ZXJwb2xhdGVgIHNlcnZpY2VzIHRvIGludGVycG9sYXRlIHN0cmluZ3MgYWdhaW5zdCBzb21lIHZhbHVlcy5cbiAqXG4gKiBAcmV0dXJuIHtvYmplY3R9ICR0cmFuc2xhdGVJbnRlcnBvbGF0b3IgSW50ZXJwb2xhdG9yIHNlcnZpY2VcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5mYWN0b3J5KCckdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24nLCBbJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uICgkaW50ZXJwb2xhdGUpIHtcblxuICB2YXIgJHRyYW5zbGF0ZUludGVycG9sYXRvciA9IHt9LFxuICAgICAgJGxvY2FsZSxcbiAgICAgICRpZGVudGlmaWVyID0gJ2RlZmF1bHQnLFxuICAgICAgJHNhbml0aXplVmFsdWVTdHJhdGVneSA9IG51bGwsXG4gICAgICAvLyBtYXAgb2YgYWxsIHNhbml0aXplIHN0cmF0ZWdpZXNcbiAgICAgIHNhbml0aXplVmFsdWVTdHJhdGVnaWVzID0ge1xuICAgICAgICBlc2NhcGVkOiBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyYW1zLCBrZXkpKSB7XG4gICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2PjwvZGl2PicpLnRleHQocGFyYW1zW2tleV0pLmh0bWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICB2YXIgc2FuaXRpemVQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHNhbml0aXplVmFsdWVTdHJhdGVnaWVzWyRzYW5pdGl6ZVZhbHVlU3RyYXRlZ3ldKSkge1xuICAgICAgcmVzdWx0ID0gc2FuaXRpemVWYWx1ZVN0cmF0ZWdpZXNbJHNhbml0aXplVmFsdWVTdHJhdGVneV0ocGFyYW1zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gcGFyYW1zO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jc2V0TG9jYWxlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBjdXJyZW50IGxvY2FsZSAodGhpcyBpcyBjdXJyZW50bHkgbm90IHVzZSBpbiB0aGlzIGludGVycG9sYXRpb24pLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlIExhbmd1YWdlIGtleSBvciBsb2NhbGUuXG4gICAqL1xuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLnNldExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGUpIHtcbiAgICAkbG9jYWxlID0gbG9jYWxlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXR1cm5zIGFuIGlkZW50aWZpZXIgZm9yIHRoaXMgaW50ZXJwb2xhdGlvbiBzZXJ2aWNlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSAkaWRlbnRpZmllclxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci5nZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJGlkZW50aWZpZXI7XG4gIH07XG5cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkc2FuaXRpemVWYWx1ZVN0cmF0ZWd5ID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiNpbnRlcnBvbGF0ZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEludGVycG9sYXRlcyBnaXZlbiBzdHJpbmcgYWdhaW5zIGdpdmVuIGludGVycG9sYXRlIHBhcmFtcyB1c2luZyBhbmd1bGFyc1xuICAgKiBgJGludGVycG9sYXRlYCBzZXJ2aWNlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uIChzdHJpbmcsIGludGVycG9sYXRlUGFyYW1zKSB7XG4gICAgaWYgKCRzYW5pdGl6ZVZhbHVlU3RyYXRlZ3kpIHtcbiAgICAgIGludGVycG9sYXRlUGFyYW1zID0gc2FuaXRpemVQYXJhbXMoaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgIH1cbiAgICByZXR1cm4gJGludGVycG9sYXRlKHN0cmluZykoaW50ZXJwb2xhdGVQYXJhbXMgfHwge30pO1xuICB9O1xuXG4gIHJldHVybiAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpLmNvbnN0YW50KCckU1RPUkFHRV9LRVknLCAnTkdfVFJBTlNMQVRFX0xBTkdfS0VZJyk7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5kaXJlY3RpdmU6dHJhbnNsYXRlXG4gKiBAcmVxdWlyZXMgJGNvbXBpbGVcbiAqIEByZXF1aXJlcyAkZmlsdGVyXG4gKiBAcmVxdWlyZXMgJGludGVycG9sYXRlXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVHJhbnNsYXRlcyBnaXZlbiB0cmFuc2xhdGlvbiBpZCBlaXRoZXIgdGhyb3VnaCBhdHRyaWJ1dGUgb3IgRE9NIGNvbnRlbnQuXG4gKiBJbnRlcm5hbGx5IGl0IHVzZXMgYHRyYW5zbGF0ZWAgZmlsdGVyIHRvIHRyYW5zbGF0ZSB0cmFuc2xhdGlvbiBpZC4gSXQgcG9zc2libGUgdG9cbiAqIHBhc3MgYW4gb3B0aW9uYWwgYHRyYW5zbGF0ZS12YWx1ZXNgIG9iamVjdCBsaXRlcmFsIGFzIHN0cmluZyBpbnRvIHRyYW5zbGF0aW9uIGlkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlIFRyYW5zbGF0aW9uIGlkIHdoaWNoIGNvdWxkIGJlIGVpdGhlciBzdHJpbmcgb3IgaW50ZXJwb2xhdGVkIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLXZhbHVlcyBWYWx1ZXMgdG8gcGFzcyBpbnRvIHRyYW5zbGF0aW9uIGlkLiBDYW4gYmUgcGFzc2VkIGFzIG9iamVjdCBsaXRlcmFsIHN0cmluZyBvciBpbnRlcnBvbGF0ZWQgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtYXR0ci1BVFRSIHRyYW5zbGF0ZSBUcmFuc2xhdGlvbiBpZCBhbmQgcHV0IGl0IGludG8gQVRUUiBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1kZWZhdWx0IHdpbGwgYmUgdXNlZCB1bmxlc3MgdHJhbnNsYXRpb24gd2FzIHN1Y2Nlc3NmdWxcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHRyYW5zbGF0ZS1jb21waWxlIChkZWZhdWx0IHRydWUgaWYgcHJlc2VudCkgZGVmaW5lcyBsb2NhbGx5IGFjdGl2YXRpb24gb2Yge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSN1c2VQb3N0Q29tcGlsaW5nfVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVHJhbnNsYXRlQ3RybFwiPlxuXG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiVFJBTlNMQVRJT05fSURcIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU+VFJBTlNMQVRJT05fSUQ8L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGUgdHJhbnNsYXRlLWF0dHItdGl0bGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cInt7dHJhbnNsYXRpb25JZH19XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPnt7dHJhbnNsYXRpb25JZH19PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3ZhbHVlOiA1fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtdmFsdWVzPVwie3ZhbHVlOiA1fVwiPldJVEhfVkFMVUVTPC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPldJVEhfVkFMVUVTPC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS1hdHRyLXRpdGxlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPjwvcHJlPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicse1xuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgICdXSVRIX1ZBTFVFUyc6ICdUaGUgZm9sbG93aW5nIHZhbHVlIGlzIGR5bmFtaWM6IHt7dmFsdWV9fSdcbiAgICAgICAgfSkucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XG5cbiAgICAgIH0pO1xuXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JykuY29udHJvbGxlcignVHJhbnNsYXRlQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xuXG4gICAgICAgICRzY29wZS52YWx1ZXMgPSB7XG4gICAgICAgICAgdmFsdWU6IDc4XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjZW5hcmlvLmpzXCI+XG4gICAgICBpdCgnc2hvdWxkIHRyYW5zbGF0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5qZWN0KGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkY29tcGlsZSkge1xuICAgICAgICAgICRyb290U2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZT1cInt7dHJhbnNsYXRpb25JZH19XCI+PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZT5UUkFOU0xBVElPTl9JRDwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU+e3t0cmFuc2xhdGlvbklkfX08L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlIHRyYW5zbGF0ZS1hdHRyLXRpdGxlPVwiVFJBTlNMQVRJT05fSURcIj48L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYXR0cigndGl0bGUnKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG4uZGlyZWN0aXZlKCd0cmFuc2xhdGUnLCBbJyR0cmFuc2xhdGUnLCAnJHEnLCAnJGludGVycG9sYXRlJywgJyRjb21waWxlJywgJyRwYXJzZScsICckcm9vdFNjb3BlJywgZnVuY3Rpb24gKCR0cmFuc2xhdGUsICRxLCAkaW50ZXJwb2xhdGUsICRjb21waWxlLCAkcGFyc2UsICRyb290U2NvcGUpIHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQUUnLFxuICAgIHNjb3BlOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0RWxlbWVudCwgdEF0dHIpIHtcblxuICAgICAgdmFyIHRyYW5zbGF0ZVZhbHVlc0V4aXN0ID0gKHRBdHRyLnRyYW5zbGF0ZVZhbHVlcykgP1xuICAgICAgICB0QXR0ci50cmFuc2xhdGVWYWx1ZXMgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVJbnRlcnBvbGF0aW9uID0gKHRBdHRyLnRyYW5zbGF0ZUludGVycG9sYXRpb24pID9cbiAgICAgICAgdEF0dHIudHJhbnNsYXRlSW50ZXJwb2xhdGlvbiA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIHRyYW5zbGF0ZVZhbHVlRXhpc3QgPSB0RWxlbWVudFswXS5vdXRlckhUTUwubWF0Y2goL3RyYW5zbGF0ZS12YWx1ZS0rL2kpO1xuXG4gICAgICB2YXIgaW50ZXJwb2xhdGVSZWdFeHAgPSBcIl4oLiopKFwiICsgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCkgKyBcIi4qXCIgKyAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCkgKyBcIikoLiopXCIsXG4gICAgICAgICAgd2F0Y2hlclJlZ0V4cCA9IFwiXiguKilcIiArICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpICsgXCIoLiopXCIgKyAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCkgKyBcIiguKilcIjtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGxpbmtGbihzY29wZSwgaUVsZW1lbnQsIGlBdHRyKSB7XG5cbiAgICAgICAgc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXMgPSB7fTtcbiAgICAgICAgc2NvcGUucHJlVGV4dCA9IFwiXCI7XG4gICAgICAgIHNjb3BlLnBvc3RUZXh0ID0gXCJcIjtcbiAgICAgICAgdmFyIHRyYW5zbGF0aW9uSWRzID0ge307XG5cbiAgICAgICAgLy8gRW5zdXJlcyBhbnkgY2hhbmdlIG9mIHRoZSBhdHRyaWJ1dGUgXCJ0cmFuc2xhdGVcIiBjb250YWluaW5nIHRoZSBpZCB3aWxsXG4gICAgICAgIC8vIGJlIHJlLXN0b3JlZCB0byB0aGUgc2NvcGUncyBcInRyYW5zbGF0aW9uSWRcIi5cbiAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBoYXMgbm8gY29udGVudCwgdGhlIGVsZW1lbnQncyB0ZXh0IHZhbHVlICh3aGl0ZSBzcGFjZXMgdHJpbW1lZCBvZmYpIHdpbGwgYmUgdXNlZC5cbiAgICAgICAgdmFyIG9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgIGlmIChhbmd1bGFyLmVxdWFscyh0cmFuc2xhdGlvbklkICwgJycpIHx8ICFhbmd1bGFyLmlzRGVmaW5lZCh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgICAgLy8gUmVzb2x2ZSB0cmFuc2xhdGlvbiBpZCBieSBpbm5lciBodG1sIGlmIHJlcXVpcmVkXG4gICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGVNYXRjaGVzID0gaUVsZW1lbnQudGV4dCgpLm1hdGNoKGludGVycG9sYXRlUmVnRXhwKTtcbiAgICAgICAgICAgIC8vIEludGVycG9sYXRlIHRyYW5zbGF0aW9uIGlkIGlmIHJlcXVpcmVkXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KGludGVycG9sYXRlTWF0Y2hlcykpIHtcbiAgICAgICAgICAgICAgc2NvcGUucHJlVGV4dCA9IGludGVycG9sYXRlTWF0Y2hlc1sxXTtcbiAgICAgICAgICAgICAgc2NvcGUucG9zdFRleHQgPSBpbnRlcnBvbGF0ZU1hdGNoZXNbM107XG4gICAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzLnRyYW5zbGF0ZSA9ICRpbnRlcnBvbGF0ZShpbnRlcnBvbGF0ZU1hdGNoZXNbMl0pKHNjb3BlLiRwYXJlbnQpO1xuICAgICAgICAgICAgICB3YXRjaGVyTWF0Y2hlcyA9IGlFbGVtZW50LnRleHQoKS5tYXRjaCh3YXRjaGVyUmVnRXhwKTtcbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheSh3YXRjaGVyTWF0Y2hlcykgJiYgd2F0Y2hlck1hdGNoZXNbMl0gJiYgd2F0Y2hlck1hdGNoZXNbMl0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKHdhdGNoZXJNYXRjaGVzWzJdLCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzLnRyYW5zbGF0ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzLnRyYW5zbGF0ZSA9IGlFbGVtZW50LnRleHQoKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9ic2VydmVBdHRyaWJ1dGVUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGVBdHRyKSB7XG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUodHJhbnNsYXRlQXR0ciwgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzW3RyYW5zbGF0ZUF0dHJdID0gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlBdHRyLiRvYnNlcnZlKCd0cmFuc2xhdGUnLCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgIG9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAodmFyIHRyYW5zbGF0ZUF0dHIgaW4gaUF0dHIpIHtcbiAgICAgICAgICBpZihpQXR0ci5oYXNPd25Qcm9wZXJ0eSh0cmFuc2xhdGVBdHRyKSAmJiB0cmFuc2xhdGVBdHRyLnN1YnN0cigwLCAxMykgPT09ICd0cmFuc2xhdGVBdHRyJykge1xuICAgICAgICAgICAgb2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uKHRyYW5zbGF0ZUF0dHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlBdHRyLiRvYnNlcnZlKCd0cmFuc2xhdGVEZWZhdWx0JywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUuZGVmYXVsdFRleHQgPSB2YWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRyYW5zbGF0ZVZhbHVlc0V4aXN0KSB7XG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZVZhbHVlcycsIGZ1bmN0aW9uIChpbnRlcnBvbGF0ZVBhcmFtcykge1xuICAgICAgICAgICAgaWYgKGludGVycG9sYXRlUGFyYW1zKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcywgJHBhcnNlKGludGVycG9sYXRlUGFyYW1zKShzY29wZS4kcGFyZW50KSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYW5zbGF0ZVZhbHVlRXhpc3QpIHtcbiAgICAgICAgICB2YXIgb2JzZXJ2ZVZhbHVlQXR0cmlidXRlID0gZnVuY3Rpb24gKGF0dHJOYW1lKSB7XG4gICAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZShhdHRyTmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gYW5ndWxhci5sb3dlcmNhc2UoYXR0ck5hbWUuc3Vic3RyKDE0LCAxKSkgKyBhdHRyTmFtZS5zdWJzdHIoMTUpO1xuICAgICAgICAgICAgICBzY29wZS5pbnRlcnBvbGF0ZVBhcmFtc1thdHRyaWJ1dGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIGlBdHRyKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGlBdHRyLCBhdHRyKSAmJiBhdHRyLnN1YnN0cigwLCAxNCkgPT09ICd0cmFuc2xhdGVWYWx1ZScgJiYgYXR0ciAhPT0gJ3RyYW5zbGF0ZVZhbHVlcycpIHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZVZhbHVlQXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1hc3RlciB1cGRhdGUgZnVuY3Rpb25cbiAgICAgICAgdmFyIHVwZGF0ZVRyYW5zbGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdHJhbnNsYXRpb25JZHMpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbklkcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHRyYW5zbGF0aW9uSWRzW2tleV0pIHtcbiAgICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb24oa2V5LCB0cmFuc2xhdGlvbklkc1trZXldLCBzY29wZSwgc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBQdXQgdHJhbnNsYXRpb24gcHJvY2Vzc2luZyBmdW5jdGlvbiBvdXRzaWRlIGxvb3BcbiAgICAgICAgdmFyIHVwZGF0ZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24odHJhbnNsYXRlQXR0ciwgdHJhbnNsYXRpb25JZCwgc2NvcGUsIGludGVycG9sYXRlUGFyYW1zKSB7XG4gICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgdHJhbnNsYXRlSW50ZXJwb2xhdGlvbilcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uLCBzY29wZSwgdHJ1ZSwgdHJhbnNsYXRlQXR0cik7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIHNjb3BlLCBmYWxzZSwgdHJhbnNsYXRlQXR0cik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYXBwbHlUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZSwgc2NvcGUsIHN1Y2Nlc3NmdWwsIHRyYW5zbGF0ZUF0dHIpIHtcbiAgICAgICAgICBpZiAodHJhbnNsYXRlQXR0ciA9PT0gJ3RyYW5zbGF0ZScpIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQgdHJhbnNsYXRlIGludG8gaW5uZXJIVE1MXG4gICAgICAgICAgICBpZiAoIXN1Y2Nlc3NmdWwgJiYgdHlwZW9mIHNjb3BlLmRlZmF1bHRUZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHNjb3BlLmRlZmF1bHRUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaUVsZW1lbnQuaHRtbChzY29wZS5wcmVUZXh0ICsgdmFsdWUgKyBzY29wZS5wb3N0VGV4dCk7XG4gICAgICAgICAgICB2YXIgZ2xvYmFsbHlFbmFibGVkID0gJHRyYW5zbGF0ZS5pc1Bvc3RDb21waWxpbmdFbmFibGVkKCk7XG4gICAgICAgICAgICB2YXIgbG9jYWxseURlZmluZWQgPSB0eXBlb2YgdEF0dHIudHJhbnNsYXRlQ29tcGlsZSAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgICAgICB2YXIgbG9jYWxseUVuYWJsZWQgPSBsb2NhbGx5RGVmaW5lZCAmJiB0QXR0ci50cmFuc2xhdGVDb21waWxlICE9PSAnZmFsc2UnO1xuICAgICAgICAgICAgaWYgKChnbG9iYWxseUVuYWJsZWQgJiYgIWxvY2FsbHlEZWZpbmVkKSB8fCBsb2NhbGx5RW5hYmxlZCkge1xuICAgICAgICAgICAgICAkY29tcGlsZShpRWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRyYW5zbGF0ZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIGlmICghc3VjY2Vzc2Z1bCAmJiB0eXBlb2Ygc2NvcGUuZGVmYXVsdFRleHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gc2NvcGUuZGVmYXVsdFRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IGlBdHRyLiRhdHRyW3RyYW5zbGF0ZUF0dHJdLnN1YnN0cigxNSk7XG4gICAgICAgICAgICBpRWxlbWVudC5hdHRyKGF0dHJpYnV0ZU5hbWUsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKCdpbnRlcnBvbGF0ZVBhcmFtcycsIHVwZGF0ZVRyYW5zbGF0aW9ucywgdHJ1ZSk7XG5cbiAgICAgICAgLy8gRW5zdXJlcyB0aGUgdGV4dCB3aWxsIGJlIHJlZnJlc2hlZCBhZnRlciB0aGUgY3VycmVudCBsYW5ndWFnZSB3YXMgY2hhbmdlZFxuICAgICAgICAvLyB3LyAkdHJhbnNsYXRlLnVzZSguLi4pXG4gICAgICAgIHZhciB1bmJpbmQgPSAkcm9vdFNjb3BlLiRvbignJHRyYW5zbGF0ZUNoYW5nZVN1Y2Nlc3MnLCB1cGRhdGVUcmFuc2xhdGlvbnMpO1xuXG4gICAgICAgIC8vIGVuc3VyZSB0cmFuc2xhdGlvbiB3aWxsIGJlIGxvb2tlZCB1cCBhdCBsZWFzdCBvbmVcbiAgICAgICAgaWYgKGlFbGVtZW50LnRleHQoKS5sZW5ndGgpIHtcbiAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uKCcnKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIHVuYmluZCk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVDbG9ha1xuICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAqIEByZXF1aXJlcyAkdHJhbnNsYXRlXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqICRkZXNjcmlwdGlvblxuICogQWRkcyBhIGB0cmFuc2xhdGUtY2xvYWtgIGNsYXNzIG5hbWUgdG8gdGhlIGdpdmVuIGVsZW1lbnQgd2hlcmUgdGhpcyBkaXJlY3RpdmVcbiAqIGlzIGFwcGxpZWQgaW5pdGlhbGx5IGFuZCByZW1vdmVzIGl0LCBvbmNlIGEgbG9hZGVyIGhhcyBmaW5pc2hlZCBsb2FkaW5nLlxuICpcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSB1c2VkIHRvIHByZXZlbnQgaW5pdGlhbCBmbGlja2VyaW5nIHdoZW4gbG9hZGluZyB0cmFuc2xhdGlvblxuICogZGF0YSBhc3luY2hyb25vdXNseS5cbiAqXG4gKiBUaGUgY2xhc3MgbmFtZSBpcyBkZWZpbmVkIGluXG4gKiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjY2xvYWtDbGFzc05hbWUgJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpfS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1jbG9hayBJZiBhIHRyYW5zbGF0aW9uSWQgaXMgcHJvdmlkZWQsIGl0IHdpbGwgYmUgdXNlZCBmb3Igc2hvd2luZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgaGlkaW5nIHRoZSBjbG9hay4gQmFzaWNhbGx5IGl0IHJlbGllcyBvbiB0aGUgdHJhbnNsYXRpb25cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUuXG4gKi9cbi5kaXJlY3RpdmUoJ3RyYW5zbGF0ZUNsb2FrJywgWyckcm9vdFNjb3BlJywgJyR0cmFuc2xhdGUnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHRyYW5zbGF0ZSkge1xuXG4gIHJldHVybiB7XG4gICAgY29tcGlsZTogZnVuY3Rpb24gKHRFbGVtZW50KSB7XG4gICAgICB2YXIgYXBwbHlDbG9hayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdEVsZW1lbnQuYWRkQ2xhc3MoJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVDbG9hayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdEVsZW1lbnQucmVtb3ZlQ2xhc3MoJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVMaXN0ZW5lciA9ICRyb290U2NvcGUuJG9uKCckdHJhbnNsYXRlQ2hhbmdlRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZW1vdmVDbG9haygpO1xuICAgICAgICByZW1vdmVMaXN0ZW5lcigpO1xuICAgICAgICByZW1vdmVMaXN0ZW5lciA9IG51bGw7XG4gICAgICB9KTtcbiAgICAgIGFwcGx5Q2xvYWsoKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGxpbmtGbihzY29wZSwgaUVsZW1lbnQsIGlBdHRyKSB7XG4gICAgICAgIC8vIFJlZ2lzdGVyIGEgd2F0Y2hlciBmb3IgdGhlIGRlZmluZWQgdHJhbnNsYXRpb24gYWxsb3dpbmcgYSBmaW5lIHR1bmVkIGNsb2FrXG4gICAgICAgIGlmIChpQXR0ci50cmFuc2xhdGVDbG9hayAmJiBpQXR0ci50cmFuc2xhdGVDbG9hay5sZW5ndGgpIHtcbiAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlQ2xvYWsnLCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkKS50aGVuKHJlbW92ZUNsb2FrLCBhcHBseUNsb2FrKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5maWx0ZXI6dHJhbnNsYXRlXG4gKiBAcmVxdWlyZXMgJHBhcnNlXG4gKiBAcmVxdWlyZXMgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gKiBAZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZXMgYCR0cmFuc2xhdGVgIHNlcnZpY2UgdG8gdHJhbnNsYXRlIGNvbnRlbnRzLiBBY2NlcHRzIGludGVycG9sYXRlIHBhcmFtZXRlcnNcbiAqIHRvIHBhc3MgZHluYW1pemVkIHZhbHVlcyB0aG91Z2ggdHJhbnNsYXRpb24uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0aW9uSWQgQSB0cmFuc2xhdGlvbiBpZCB0byBiZSB0cmFuc2xhdGVkLlxuICogQHBhcmFtIHsqPX0gaW50ZXJwb2xhdGVQYXJhbXMgT3B0aW9uYWwgb2JqZWN0IGxpdGVyYWwgKGFzIGhhc2ggb3Igc3RyaW5nKSB0byBwYXNzIHZhbHVlcyBpbnRvIHRyYW5zbGF0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRyYW5zbGF0ZWQgdGV4dC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdWaWV3XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIlRyYW5zbGF0ZUN0cmxcIj5cblxuICAgICAgICA8cHJlPnt7ICdUUkFOU0xBVElPTl9JRCcgfCB0cmFuc2xhdGUgfX08L3ByZT5cbiAgICAgICAgPHByZT57eyB0cmFuc2xhdGlvbklkIHwgdHJhbnNsYXRlIH19PC9wcmU+XG4gICAgICAgIDxwcmU+e3sgJ1dJVEhfVkFMVUVTJyB8IHRyYW5zbGF0ZTone3ZhbHVlOiA1fScgfX08L3ByZT5cbiAgICAgICAgPHByZT57eyAnV0lUSF9WQUxVRVMnIHwgdHJhbnNsYXRlOnZhbHVlcyB9fTwvcHJlPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicsIHtcbiAgICAgICAgICAnVFJBTlNMQVRJT05fSUQnOiAnSGVsbG8gdGhlcmUhJyxcbiAgICAgICAgICAnV0lUSF9WQUxVRVMnOiAnVGhlIGZvbGxvd2luZyB2YWx1ZSBpcyBkeW5hbWljOiB7e3ZhbHVlfX0nXG4gICAgICAgIH0pO1xuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XG5cbiAgICAgIH0pO1xuXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JykuY29udHJvbGxlcignVHJhbnNsYXRlQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xuXG4gICAgICAgICRzY29wZS52YWx1ZXMgPSB7XG4gICAgICAgICAgdmFsdWU6IDc4XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi5maWx0ZXIoJ3RyYW5zbGF0ZScsIFsnJHBhcnNlJywgJyR0cmFuc2xhdGUnLCBmdW5jdGlvbiAoJHBhcnNlLCAkdHJhbnNsYXRlKSB7XG4gIHZhciB0cmFuc2xhdGVGaWx0ZXIgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb24pIHtcblxuICAgIGlmICghYW5ndWxhci5pc09iamVjdChpbnRlcnBvbGF0ZVBhcmFtcykpIHtcbiAgICAgIGludGVycG9sYXRlUGFyYW1zID0gJHBhcnNlKGludGVycG9sYXRlUGFyYW1zKSh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gJHRyYW5zbGF0ZS5pbnN0YW50KHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uKTtcbiAgfTtcblxuICAvLyBTaW5jZSBBbmd1bGFySlMgMS4zLCBmaWx0ZXJzIHdoaWNoIGFyZSBub3Qgc3RhdGVsZXNzIChkZXBlbmRpbmcgYXQgdGhlIHNjb3BlKVxuICAvLyBoYXZlIHRvIGV4cGxpY2l0IGRlZmluZSB0aGlzIGJlaGF2aW9yLlxuICB0cmFuc2xhdGVGaWx0ZXIuJHN0YXRlZnVsID0gdHJ1ZTtcblxuICByZXR1cm4gdHJhbnNsYXRlRmlsdGVyO1xufV0pO1xuXG4vKiBhbmd1bGFyLWxvYWQuanMgLyB2MC40LjEgLyAoYykgMjAxNCwgMjAxNSwgMjAxNiBVcmkgU2hha2VkIC8gTUlUIExpY2VuY2UgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyTG9hZCcsIFtdKVxuXHRcdC5zZXJ2aWNlKCdhbmd1bGFyTG9hZCcsIFsnJGRvY3VtZW50JywgJyRxJywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCRkb2N1bWVudCwgJHEsICR0aW1lb3V0KSB7XG5cdFx0XHR2YXIgZG9jdW1lbnQgPSAkZG9jdW1lbnRbMF07XG5cblx0XHRcdGZ1bmN0aW9uIGxvYWRlcihjcmVhdGVFbGVtZW50KSB7XG5cdFx0XHRcdHZhciBwcm9taXNlcyA9IHt9O1xuXG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbih1cmwpIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIHByb21pc2VzW3VybF0gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0XHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KHVybCk7XG5cblx0XHRcdFx0XHRcdGVsZW1lbnQub25sb2FkID0gZWxlbWVudC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoZWxlbWVudC5yZWFkeVN0YXRlICYmIGVsZW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2NvbXBsZXRlJyAmJiBlbGVtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkZWQnKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoZSk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGVsZW1lbnQub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZSk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0cHJvbWlzZXNbdXJsXSA9IGRlZmVycmVkLnByb21pc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHByb21pc2VzW3VybF07XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdC8qKlxuXHRcdFx0ICogRHluYW1pY2FsbHkgbG9hZHMgdGhlIGdpdmVuIHNjcmlwdFxuXHRcdFx0ICogQHBhcmFtIHNyYyBUaGUgdXJsIG9mIHRoZSBzY3JpcHQgdG8gbG9hZCBkeW5hbWljYWxseVxuXHRcdFx0ICogQHJldHVybnMgeyp9IFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIG9uY2UgdGhlIHNjcmlwdCBoYXMgYmVlbiBsb2FkZWQuXG5cdFx0XHQgKi9cblx0XHRcdHRoaXMubG9hZFNjcmlwdCA9IGxvYWRlcihmdW5jdGlvbiAoc3JjKSB7XG5cdFx0XHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblxuXHRcdFx0XHRzY3JpcHQuc3JjID0gc3JjO1xuXG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblx0XHRcdFx0cmV0dXJuIHNjcmlwdDtcblx0XHRcdH0pO1xuXG5cdFx0XHQvKipcblx0XHRcdCAqIER5bmFtaWNhbGx5IGxvYWRzIHRoZSBnaXZlbiBDU1MgZmlsZVxuXHRcdFx0ICogQHBhcmFtIGhyZWYgVGhlIHVybCBvZiB0aGUgQ1NTIHRvIGxvYWQgZHluYW1pY2FsbHlcblx0XHRcdCAqIEByZXR1cm5zIHsqfSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBvbmNlIHRoZSBDU1MgZmlsZSBoYXMgYmVlbiBsb2FkZWQuXG5cdFx0XHQgKi9cblx0XHRcdHRoaXMubG9hZENTUyA9IGxvYWRlcihmdW5jdGlvbiAoaHJlZikge1xuXHRcdFx0XHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG5cblx0XHRcdFx0c3R5bGUucmVsID0gJ3N0eWxlc2hlZXQnO1xuXHRcdFx0XHRzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcblx0XHRcdFx0c3R5bGUuaHJlZiA9IGhyZWY7XG5cblx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0XHRcdHJldHVybiBzdHlsZTtcblx0XHRcdH0pO1xuXHRcdH1dKTtcbn0pKCk7XG5cbi8qIVxuICogYW5ndWxhci10cmFuc2xhdGUgLSB2Mi41LjIgLSAyMDE0LTEyLTEwXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXRyYW5zbGF0ZS9hbmd1bGFyLXRyYW5zbGF0ZVxuICogQ29weXJpZ2h0IChjKSAyMDE0IDsgTGljZW5zZWQgTUlUXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXJcbiAqIEByZXF1aXJlcyAkcVxuICogQHJlcXVpcmVzICRodHRwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgbG9hZGluZyBmdW5jdGlvbiBmb3IgYSB0eXBpY2FsIHN0YXRpYyBmaWxlIHVybCBwYXR0ZXJuOlxuICogXCJsYW5nLWVuX1VTLmpzb25cIiwgXCJsYW5nLWRlX0RFLmpzb25cIiwgZXRjLiBVc2luZyB0aGlzIGJ1aWxkZXIsXG4gKiB0aGUgcmVzcG9uc2Ugb2YgdGhlc2UgdXJscyBtdXN0IGJlIGFuIG9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QsIHdoaWNoIGdldHMgcHJlZml4LCBzdWZmaXggYW5kIGtleS5cbiAqL1xuLmZhY3RvcnkoJyR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcicsIFsnJHEnLCAnJGh0dHAnLCBmdW5jdGlvbiAoJHEsICRodHRwKSB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cbiAgICBpZiAoIW9wdGlvbnMgfHwgKCFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMucHJlZml4KSB8fCAhYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLnN1ZmZpeCkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgbG9hZCBzdGF0aWMgZmlsZXMsIG5vIHByZWZpeCBvciBzdWZmaXggc3BlY2lmaWVkIScpO1xuICAgIH1cblxuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAkaHR0cChhbmd1bGFyLmV4dGVuZCh7XG4gICAgICB1cmw6IFtcbiAgICAgICAgb3B0aW9ucy5wcmVmaXgsXG4gICAgICAgIG9wdGlvbnMua2V5LFxuICAgICAgICBvcHRpb25zLnN1ZmZpeFxuICAgICAgXS5qb2luKCcnKSxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXJhbXM6ICcnXG4gICAgfSwgb3B0aW9ucy4kaHR0cCkpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgfSkuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGRlZmVycmVkLnJlamVjdChvcHRpb25zLmtleSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfTtcbn1dKTtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgYW5ndWxhciwgd2luZG93ICovXG5cbi8qKlxuICogUmVpbXBsZW1lbnRhdGlvbiBvZiAkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXIgdG8gaGFuZGxlIG1pc3NpbmcgZmlsZXMgYW5kIGxvY2FsZSBoaWVyYXJjaHkgKGVuL2VuX1VTKVxuICovXG5hbmd1bGFyLm1vZHVsZShcInBhc2NhbHByZWNodC50cmFuc2xhdGVcIikuZmFjdG9yeShcIiR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlclwiLCBbXG4gIFwiJHFcIixcbiAgXCIkaHR0cFwiLFxuICBmdW5jdGlvbiAoJHEsICRodHRwKSB7XG4gICAgZnVuY3Rpb24gbG9hZFRyYW5zbGF0aW9uRmlsZShvcHRpb25zLCBkZWZlcnJlZCkge1xuICAgICAgJGh0dHAoYW5ndWxhci5leHRlbmQoe1xuICAgICAgICB1cmw6IFtcbiAgICAgICAgICBvcHRpb25zLnByZWZpeCxcbiAgICAgICAgICBvcHRpb25zLmtleS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgIG9wdGlvbnMuc3VmZml4XG4gICAgICAgIF0uam9pbihcIlwiKSxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBwYXJhbXM6IFwiXCJcbiAgICAgIH0sIG9wdGlvbnMuJGh0dHApKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICB9KS5lcnJvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmKG9wdGlvbnMua2V5LmluZGV4T2YoXCJfXCIpID49IDApIHtcbiAgICAgICAgICB2YXIga2V5ID0gb3B0aW9ucy5rZXkuc3Vic3RyKDAsIG9wdGlvbnMua2V5Lmxhc3RJbmRleE9mKFwiX1wiKSk7XG4gICAgICAgICAgdmFyIG9wdHMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgb3B0aW9ucywgeyBrZXk6IGtleSB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBsb2FkVHJhbnNsYXRpb25GaWxlKG9wdHMsIGRlZmVycmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKFwie31cIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKCFvcHRpb25zIHx8ICghYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLnByZWZpeCkgfHwgIWFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5zdWZmaXgpKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG5cXFwidCBsb2FkIHN0YXRpYyBmaWxlcywgbm8gcHJlZml4IG9yIHN1ZmZpeCBzcGVjaWZpZWQhXCIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICBsb2FkVHJhbnNsYXRpb25GaWxlKG9wdGlvbnMsIGRlZmVycmVkKTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcbiAgfVxuXSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4blwiLCBbXCJwYXNjYWxwcmVjaHQudHJhbnNsYXRlXCIsIFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIl0pXG4uY29uZmlnKFtcIiR0cmFuc2xhdGVQcm92aWRlclwiLCBcIkxPQ0FMRVNfUFJFRklYXCIsIFwiTE9DQUxFU19TVUZJWFwiLCBmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyLCBMT0NBTEVTX1BSRUZJWCwgTE9DQUxFU19TVUZJWCkge1xuICAvLyBUcmllcyB0byBkZXRlcm1pbmUgdGhlIGJyb3dzZXJzIGxvY2FsZVxuICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlU3RhdGljRmlsZXNMb2FkZXIoe1xuICAgIHByZWZpeDogTE9DQUxFU19QUkVGSVgsXG4gICAgc3VmZml4OiBMT0NBTEVTX1NVRklYXG4gIH0pO1xuICBcbiAgJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAgLmRldGVybWluZVByZWZlcnJlZExhbmd1YWdlKClcbiAgICAuZmFsbGJhY2tMYW5ndWFnZShcImVuXCIpO1xufV0pO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYWZmaXguanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNhZmZpeFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEFGRklYIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBBZmZpeCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIEFmZml4LkRFRkFVTFRTLCBvcHRpb25zKVxuXG4gICAgdGhpcy4kdGFyZ2V0ID0gJCh0aGlzLm9wdGlvbnMudGFyZ2V0KVxuICAgICAgLm9uKCdzY3JvbGwuYnMuYWZmaXguZGF0YS1hcGknLCAkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbiwgdGhpcykpXG4gICAgICAub24oJ2NsaWNrLmJzLmFmZml4LmRhdGEtYXBpJywgICQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCwgdGhpcykpXG5cbiAgICB0aGlzLiRlbGVtZW50ICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLmFmZml4ZWQgICAgICA9XG4gICAgdGhpcy51bnBpbiAgICAgICAgPVxuICAgIHRoaXMucGlubmVkT2Zmc2V0ID0gbnVsbFxuXG4gICAgdGhpcy5jaGVja1Bvc2l0aW9uKClcbiAgfVxuXG4gIEFmZml4LlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIEFmZml4LlJFU0VUICAgID0gJ2FmZml4IGFmZml4LXRvcCBhZmZpeC1ib3R0b20nXG5cbiAgQWZmaXguREVGQVVMVFMgPSB7XG4gICAgb2Zmc2V0OiAwLFxuICAgIHRhcmdldDogd2luZG93XG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuZ2V0UGlubmVkT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnBpbm5lZE9mZnNldCkgcmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0XG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhBZmZpeC5SRVNFVCkuYWRkQ2xhc3MoJ2FmZml4JylcbiAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpXG4gICAgdmFyIHBvc2l0aW9uICA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClcbiAgICByZXR1cm4gKHRoaXMucGlubmVkT2Zmc2V0ID0gcG9zaXRpb24udG9wIC0gc2Nyb2xsVG9wKVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wID0gZnVuY3Rpb24gKCkge1xuICAgIHNldFRpbWVvdXQoJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sIHRoaXMpLCAxKVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSByZXR1cm5cblxuICAgIHZhciBzY3JvbGxIZWlnaHQgPSAkKGRvY3VtZW50KS5oZWlnaHQoKVxuICAgIHZhciBzY3JvbGxUb3AgICAgPSB0aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKClcbiAgICB2YXIgcG9zaXRpb24gICAgID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKVxuICAgIHZhciBvZmZzZXQgICAgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0XG4gICAgdmFyIG9mZnNldFRvcCAgICA9IG9mZnNldC50b3BcbiAgICB2YXIgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbVxuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXQgIT0gJ29iamVjdCcpICAgICAgICAgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0VG9wID0gb2Zmc2V0XG4gICAgaWYgKHR5cGVvZiBvZmZzZXRUb3AgPT0gJ2Z1bmN0aW9uJykgICAgb2Zmc2V0VG9wICAgID0gb2Zmc2V0LnRvcCh0aGlzLiRlbGVtZW50KVxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0Qm90dG9tID09ICdmdW5jdGlvbicpIG9mZnNldEJvdHRvbSA9IG9mZnNldC5ib3R0b20odGhpcy4kZWxlbWVudClcblxuICAgIHZhciBhZmZpeCA9IHRoaXMudW5waW4gICAhPSBudWxsICYmIChzY3JvbGxUb3AgKyB0aGlzLnVucGluIDw9IHBvc2l0aW9uLnRvcCkgPyBmYWxzZSA6XG4gICAgICAgICAgICAgICAgb2Zmc2V0Qm90dG9tICE9IG51bGwgJiYgKHBvc2l0aW9uLnRvcCArIHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCkgPj0gc2Nyb2xsSGVpZ2h0IC0gb2Zmc2V0Qm90dG9tKSA/ICdib3R0b20nIDpcbiAgICAgICAgICAgICAgICBvZmZzZXRUb3AgICAgIT0gbnVsbCAmJiAoc2Nyb2xsVG9wIDw9IG9mZnNldFRvcCkgPyAndG9wJyA6IGZhbHNlXG5cbiAgICBpZiAodGhpcy5hZmZpeGVkID09PSBhZmZpeCkgcmV0dXJuXG4gICAgaWYgKHRoaXMudW5waW4gIT0gbnVsbCkgdGhpcy4kZWxlbWVudC5jc3MoJ3RvcCcsICcnKVxuXG4gICAgdmFyIGFmZml4VHlwZSA9ICdhZmZpeCcgKyAoYWZmaXggPyAnLScgKyBhZmZpeCA6ICcnKVxuICAgIHZhciBlICAgICAgICAgPSAkLkV2ZW50KGFmZml4VHlwZSArICcuYnMuYWZmaXgnKVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLmFmZml4ZWQgPSBhZmZpeFxuICAgIHRoaXMudW5waW4gPSBhZmZpeCA9PSAnYm90dG9tJyA/IHRoaXMuZ2V0UGlubmVkT2Zmc2V0KCkgOiBudWxsXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpXG4gICAgICAuYWRkQ2xhc3MoYWZmaXhUeXBlKVxuICAgICAgLnRyaWdnZXIoJC5FdmVudChhZmZpeFR5cGUucmVwbGFjZSgnYWZmaXgnLCAnYWZmaXhlZCcpKSlcblxuICAgIGlmIChhZmZpeCA9PSAnYm90dG9tJykge1xuICAgICAgdGhpcy4kZWxlbWVudC5vZmZzZXQoe1xuICAgICAgICB0b3A6IHNjcm9sbEhlaWdodCAtIHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCkgLSBvZmZzZXRCb3R0b21cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cblxuICAvLyBBRkZJWCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5hZmZpeCcpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWZmaXgnLCAoZGF0YSA9IG5ldyBBZmZpeCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYWZmaXhcblxuICAkLmZuLmFmZml4ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYWZmaXguQ29uc3RydWN0b3IgPSBBZmZpeFxuXG5cbiAgLy8gQUZGSVggTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmFmZml4Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5hZmZpeCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFGRklYIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXNweT1cImFmZml4XCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhID0gJHNweS5kYXRhKClcblxuICAgICAgZGF0YS5vZmZzZXQgPSBkYXRhLm9mZnNldCB8fCB7fVxuXG4gICAgICBpZiAoZGF0YS5vZmZzZXRCb3R0b20pIGRhdGEub2Zmc2V0LmJvdHRvbSA9IGRhdGEub2Zmc2V0Qm90dG9tXG4gICAgICBpZiAoZGF0YS5vZmZzZXRUb3ApICAgIGRhdGEub2Zmc2V0LnRvcCAgICA9IGRhdGEub2Zmc2V0VG9wXG5cbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksIGRhdGEpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYWxlcnQuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNhbGVydHNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBBTEVSVCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgZGlzbWlzcyA9ICdbZGF0YS1kaXNtaXNzPVwiYWxlcnRcIl0nXG4gIHZhciBBbGVydCAgID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgJChlbCkub24oJ2NsaWNrJywgZGlzbWlzcywgdGhpcy5jbG9zZSlcbiAgfVxuXG4gIEFsZXJ0LlZFUlNJT04gPSAnMy4yLjAnXG5cbiAgQWxlcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICAgPSAkKHRoaXMpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9ICQoc2VsZWN0b3IpXG5cbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAoISRwYXJlbnQubGVuZ3RoKSB7XG4gICAgICAkcGFyZW50ID0gJHRoaXMuaGFzQ2xhc3MoJ2FsZXJ0JykgPyAkdGhpcyA6ICR0aGlzLnBhcmVudCgpXG4gICAgfVxuXG4gICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdjbG9zZS5icy5hbGVydCcpKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgJHBhcmVudC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCgpIHtcbiAgICAgIC8vIGRldGFjaCBmcm9tIHBhcmVudCwgZmlyZSBldmVudCB0aGVuIGNsZWFuIHVwIGRhdGFcbiAgICAgICRwYXJlbnQuZGV0YWNoKCkudHJpZ2dlcignY2xvc2VkLmJzLmFsZXJ0JykucmVtb3ZlKClcbiAgICB9XG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiAkcGFyZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHBhcmVudFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCByZW1vdmVFbGVtZW50KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICByZW1vdmVFbGVtZW50KClcbiAgfVxuXG5cbiAgLy8gQUxFUlQgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5hbGVydCcpXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWxlcnQnLCAoZGF0YSA9IG5ldyBBbGVydCh0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmFsZXJ0XG5cbiAgJC5mbi5hbGVydCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmFsZXJ0LkNvbnN0cnVjdG9yID0gQWxlcnRcblxuXG4gIC8vIEFMRVJUIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5hbGVydC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYWxlcnQgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBTEVSVCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5hbGVydC5kYXRhLWFwaScsIGRpc21pc3MsIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYnV0dG9uLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYnV0dG9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEJVVFRPTiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQnV0dG9uID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9ICQuZXh0ZW5kKHt9LCBCdXR0b24uREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxuICB9XG5cbiAgQnV0dG9uLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIEJ1dHRvbi5ERUZBVUxUUyA9IHtcbiAgICBsb2FkaW5nVGV4dDogJ2xvYWRpbmcuLi4nXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIGQgICAgPSAnZGlzYWJsZWQnXG4gICAgdmFyICRlbCAgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIHZhbCAgPSAkZWwuaXMoJ2lucHV0JykgPyAndmFsJyA6ICdodG1sJ1xuICAgIHZhciBkYXRhID0gJGVsLmRhdGEoKVxuXG4gICAgc3RhdGUgPSBzdGF0ZSArICdUZXh0J1xuXG4gICAgaWYgKGRhdGEucmVzZXRUZXh0ID09IG51bGwpICRlbC5kYXRhKCdyZXNldFRleHQnLCAkZWxbdmFsXSgpKVxuXG4gICAgJGVsW3ZhbF0oZGF0YVtzdGF0ZV0gPT0gbnVsbCA/IHRoaXMub3B0aW9uc1tzdGF0ZV0gOiBkYXRhW3N0YXRlXSlcblxuICAgIC8vIHB1c2ggdG8gZXZlbnQgbG9vcCB0byBhbGxvdyBmb3JtcyB0byBzdWJtaXRcbiAgICBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHN0YXRlID09ICdsb2FkaW5nVGV4dCcpIHtcbiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlXG4gICAgICAgICRlbC5hZGRDbGFzcyhkKS5hdHRyKGQsIGQpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgJGVsLnJlbW92ZUNsYXNzKGQpLnJlbW92ZUF0dHIoZClcbiAgICAgIH1cbiAgICB9LCB0aGlzKSwgMClcbiAgfVxuXG4gIEJ1dHRvbi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjaGFuZ2VkID0gdHJ1ZVxuICAgIHZhciAkcGFyZW50ID0gdGhpcy4kZWxlbWVudC5jbG9zZXN0KCdbZGF0YS10b2dnbGU9XCJidXR0b25zXCJdJylcblxuICAgIGlmICgkcGFyZW50Lmxlbmd0aCkge1xuICAgICAgdmFyICRpbnB1dCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnaW5wdXQnKVxuICAgICAgaWYgKCRpbnB1dC5wcm9wKCd0eXBlJykgPT0gJ3JhZGlvJykge1xuICAgICAgICBpZiAoJGlucHV0LnByb3AoJ2NoZWNrZWQnKSAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSkgY2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIGVsc2UgJHBhcmVudC5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG4gICAgICBpZiAoY2hhbmdlZCkgJGlucHV0LnByb3AoJ2NoZWNrZWQnLCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpLnRyaWdnZXIoJ2NoYW5nZScpXG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZWQpIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpXG4gIH1cblxuXG4gIC8vIEJVVFRPTiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYnV0dG9uJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5idXR0b24nLCAoZGF0YSA9IG5ldyBCdXR0b24odGhpcywgb3B0aW9ucykpKVxuXG4gICAgICBpZiAob3B0aW9uID09ICd0b2dnbGUnKSBkYXRhLnRvZ2dsZSgpXG4gICAgICBlbHNlIGlmIChvcHRpb24pIGRhdGEuc2V0U3RhdGUob3B0aW9uKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5idXR0b25cblxuICAkLmZuLmJ1dHRvbiAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmJ1dHRvbi5Db25zdHJ1Y3RvciA9IEJ1dHRvblxuXG5cbiAgLy8gQlVUVE9OIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYnV0dG9uLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5idXR0b24gPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBCVVRUT04gREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmJ1dHRvbi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGVePVwiYnV0dG9uXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJGJ0biA9ICQoZS50YXJnZXQpXG4gICAgaWYgKCEkYnRuLmhhc0NsYXNzKCdidG4nKSkgJGJ0biA9ICRidG4uY2xvc2VzdCgnLmJ0bicpXG4gICAgUGx1Z2luLmNhbGwoJGJ0biwgJ3RvZ2dsZScpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGNhcm91c2VsLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY2Fyb3VzZWxcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDQVJPVVNFTCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgPSAkKGVsZW1lbnQpLm9uKCdrZXlkb3duLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmtleWRvd24sIHRoaXMpKVxuICAgIHRoaXMuJGluZGljYXRvcnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5jYXJvdXNlbC1pbmRpY2F0b3JzJylcbiAgICB0aGlzLm9wdGlvbnMgICAgID0gb3B0aW9uc1xuICAgIHRoaXMucGF1c2VkICAgICAgPVxuICAgIHRoaXMuc2xpZGluZyAgICAgPVxuICAgIHRoaXMuaW50ZXJ2YWwgICAgPVxuICAgIHRoaXMuJGFjdGl2ZSAgICAgPVxuICAgIHRoaXMuJGl0ZW1zICAgICAgPSBudWxsXG5cbiAgICB0aGlzLm9wdGlvbnMucGF1c2UgPT0gJ2hvdmVyJyAmJiB0aGlzLiRlbGVtZW50XG4gICAgICAub24oJ21vdXNlZW50ZXIuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMucGF1c2UsIHRoaXMpKVxuICAgICAgLm9uKCdtb3VzZWxlYXZlLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmN5Y2xlLCB0aGlzKSlcbiAgfVxuXG4gIENhcm91c2VsLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIENhcm91c2VsLkRFRkFVTFRTID0ge1xuICAgIGludGVydmFsOiA1MDAwLFxuICAgIHBhdXNlOiAnaG92ZXInLFxuICAgIHdyYXA6IHRydWVcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgIGNhc2UgMzc6IHRoaXMucHJldigpOyBicmVha1xuICAgICAgY2FzZSAzOTogdGhpcy5uZXh0KCk7IGJyZWFrXG4gICAgICBkZWZhdWx0OiByZXR1cm5cbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5jeWNsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSBmYWxzZSlcblxuICAgIHRoaXMuaW50ZXJ2YWwgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgdGhpcy5vcHRpb25zLmludGVydmFsXG4gICAgICAmJiAhdGhpcy5wYXVzZWRcbiAgICAgICYmICh0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLm5leHQsIHRoaXMpLCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHRoaXMuJGl0ZW1zID0gaXRlbS5wYXJlbnQoKS5jaGlsZHJlbignLml0ZW0nKVxuICAgIHJldHVybiB0aGlzLiRpdGVtcy5pbmRleChpdGVtIHx8IHRoaXMuJGFjdGl2ZSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICB2YXIgdGhhdCAgICAgICAgPSB0aGlzXG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKSlcblxuICAgIGlmIChwb3MgPiAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkgfHwgcG9zIDwgMCkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5zbGlkaW5nKSAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5vbmUoJ3NsaWQuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoKSB7IHRoYXQudG8ocG9zKSB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09IHBvcykgcmV0dXJuIHRoaXMucGF1c2UoKS5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpcy5zbGlkZShwb3MgPiBhY3RpdmVJbmRleCA/ICduZXh0JyA6ICdwcmV2JywgJCh0aGlzLiRpdGVtc1twb3NdKSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSB0cnVlKVxuXG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuZmluZCgnLm5leHQsIC5wcmV2JykubGVuZ3RoICYmICQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKVxuICAgICAgdGhpcy5jeWNsZSh0cnVlKVxuICAgIH1cblxuICAgIHRoaXMuaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ25leHQnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ3ByZXYnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKHR5cGUsIG5leHQpIHtcbiAgICB2YXIgJGFjdGl2ZSAgID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKVxuICAgIHZhciAkbmV4dCAgICAgPSBuZXh0IHx8ICRhY3RpdmVbdHlwZV0oKVxuICAgIHZhciBpc0N5Y2xpbmcgPSB0aGlzLmludGVydmFsXG4gICAgdmFyIGRpcmVjdGlvbiA9IHR5cGUgPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0J1xuICAgIHZhciBmYWxsYmFjayAgPSB0eXBlID09ICduZXh0JyA/ICdmaXJzdCcgOiAnbGFzdCdcbiAgICB2YXIgdGhhdCAgICAgID0gdGhpc1xuXG4gICAgaWYgKCEkbmV4dC5sZW5ndGgpIHtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLndyYXApIHJldHVyblxuICAgICAgJG5leHQgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtJylbZmFsbGJhY2tdKClcbiAgICB9XG5cbiAgICBpZiAoJG5leHQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm4gKHRoaXMuc2xpZGluZyA9IGZhbHNlKVxuXG4gICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSAkbmV4dFswXVxuICAgIHZhciBzbGlkZUV2ZW50ID0gJC5FdmVudCgnc2xpZGUuYnMuY2Fyb3VzZWwnLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICB9KVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkZUV2ZW50KVxuICAgIGlmIChzbGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuc2xpZGluZyA9IHRydWVcblxuICAgIGlzQ3ljbGluZyAmJiB0aGlzLnBhdXNlKClcblxuICAgIGlmICh0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCkge1xuICAgICAgdGhpcy4kaW5kaWNhdG9ycy5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB2YXIgJG5leHRJbmRpY2F0b3IgPSAkKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleCgkbmV4dCldKVxuICAgICAgJG5leHRJbmRpY2F0b3IgJiYgJG5leHRJbmRpY2F0b3IuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgdmFyIHNsaWRFdmVudCA9ICQuRXZlbnQoJ3NsaWQuYnMuY2Fyb3VzZWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsIGRpcmVjdGlvbjogZGlyZWN0aW9uIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICBpZiAoJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnc2xpZGUnKSkge1xuICAgICAgJG5leHQuYWRkQ2xhc3ModHlwZSlcbiAgICAgICRuZXh0WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgJGFjdGl2ZS5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkbmV4dC5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkbmV4dC5yZW1vdmVDbGFzcyhbdHlwZSwgZGlyZWN0aW9uXS5qb2luKCcgJykpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoWydhY3RpdmUnLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSlcbiAgICAgICAgICB0aGF0LnNsaWRpbmcgPSBmYWxzZVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICAgICAgICB9LCAwKVxuICAgICAgICB9KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoJGFjdGl2ZS5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nKS5zbGljZSgwLCAtMSkgKiAxMDAwKVxuICAgIH0gZWxzZSB7XG4gICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgJG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICB9XG5cbiAgICBpc0N5Y2xpbmcgJiYgdGhpcy5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDYXJvdXNlbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcbiAgICAgIHZhciBhY3Rpb24gID0gdHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyA/IG9wdGlvbiA6IG9wdGlvbnMuc2xpZGVcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcsIChkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdudW1iZXInKSBkYXRhLnRvKG9wdGlvbilcbiAgICAgIGVsc2UgaWYgKGFjdGlvbikgZGF0YVthY3Rpb25dKClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJ2YWwpIGRhdGEucGF1c2UoKS5jeWNsZSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNhcm91c2VsXG5cbiAgJC5mbi5jYXJvdXNlbCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yID0gQ2Fyb3VzZWxcblxuXG4gIC8vIENBUk9VU0VMIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY2Fyb3VzZWwgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZV0sIFtkYXRhLXNsaWRlLXRvXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpIC8vIHN0cmlwIGZvciBpZTdcbiAgICBpZiAoISR0YXJnZXQuaGFzQ2xhc3MoJ2Nhcm91c2VsJykpIHJldHVyblxuICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG4gICAgdmFyIHNsaWRlSW5kZXggPSAkdGhpcy5hdHRyKCdkYXRhLXNsaWRlLXRvJylcbiAgICBpZiAoc2xpZGVJbmRleCkgb3B0aW9ucy5pbnRlcnZhbCA9IGZhbHNlXG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb25zKVxuXG4gICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICR0YXJnZXQuZGF0YSgnYnMuY2Fyb3VzZWwnKS50byhzbGlkZUluZGV4KVxuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9KVxuXG4gICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkY2Fyb3VzZWwgPSAkKHRoaXMpXG4gICAgICBQbHVnaW4uY2FsbCgkY2Fyb3VzZWwsICRjYXJvdXNlbC5kYXRhKCkpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogY29sbGFwc2UuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjb2xsYXBzZVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENPTExBUFNFIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIENvbGxhcHNlID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgICAgID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IG51bGxcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucGFyZW50KSB0aGlzLiRwYXJlbnQgPSAkKHRoaXMub3B0aW9ucy5wYXJlbnQpXG4gICAgaWYgKHRoaXMub3B0aW9ucy50b2dnbGUpIHRoaXMudG9nZ2xlKClcbiAgfVxuXG4gIENvbGxhcHNlLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIENvbGxhcHNlLkRFRkFVTFRTID0ge1xuICAgIHRvZ2dsZTogdHJ1ZVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmRpbWVuc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaGFzV2lkdGggPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCd3aWR0aCcpXG4gICAgcmV0dXJuIGhhc1dpZHRoID8gJ3dpZHRoJyA6ICdoZWlnaHQnXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgYWN0aXZlcyA9IHRoaXMuJHBhcmVudCAmJiB0aGlzLiRwYXJlbnQuZmluZCgnPiAucGFuZWwgPiAuaW4nKVxuXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIHZhciBoYXNEYXRhID0gYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICBpZiAoaGFzRGF0YSAmJiBoYXNEYXRhLnRyYW5zaXRpb25pbmcpIHJldHVyblxuICAgICAgUGx1Z2luLmNhbGwoYWN0aXZlcywgJ2hpZGUnKVxuICAgICAgaGFzRGF0YSB8fCBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJywgbnVsbClcbiAgICB9XG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVtkaW1lbnNpb25dKDApXG5cbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UgaW4nKVtkaW1lbnNpb25dKCcnKVxuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAudHJpZ2dlcignc2hvd24uYnMuY29sbGFwc2UnKVxuICAgIH1cblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG5cbiAgICB2YXIgc2Nyb2xsU2l6ZSA9ICQuY2FtZWxDYXNlKFsnc2Nyb2xsJywgZGltZW5zaW9uXS5qb2luKCctJykpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzNTApW2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFswXVtzY3JvbGxTaXplXSlcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgpKVswXS5vZmZzZXRIZWlnaHRcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLmNvbGxhcHNlJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIFtkaW1lbnNpb25dKDApXG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzNTApXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKVxuICB9XG5cblxuICAvLyBDT0xMQVBTRSBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbnMudG9nZ2xlICYmIG9wdGlvbiA9PSAnc2hvdycpIG9wdGlvbiA9ICFvcHRpb25cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnLCAoZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY29sbGFwc2VcblxuICAkLmZuLmNvbGxhcHNlICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3IgPSBDb2xsYXBzZVxuXG5cbiAgLy8gQ09MTEFQU0UgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jb2xsYXBzZSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgaHJlZlxuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgIHZhciB0YXJnZXQgID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuICAgICAgICB8fCBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB2YXIgJHRhcmdldCA9ICQodGFyZ2V0KVxuICAgIHZhciBkYXRhICAgID0gJHRhcmdldC5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKClcbiAgICB2YXIgcGFyZW50ICA9ICR0aGlzLmF0dHIoJ2RhdGEtcGFyZW50JylcbiAgICB2YXIgJHBhcmVudCA9IHBhcmVudCAmJiAkKHBhcmVudClcblxuICAgIGlmICghZGF0YSB8fCAhZGF0YS50cmFuc2l0aW9uaW5nKSB7XG4gICAgICBpZiAoJHBhcmVudCkgJHBhcmVudC5maW5kKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXBhcmVudD1cIicgKyBwYXJlbnQgKyAnXCJdJykubm90KCR0aGlzKS5hZGRDbGFzcygnY29sbGFwc2VkJylcbiAgICAgICR0aGlzWyR0YXJnZXQuaGFzQ2xhc3MoJ2luJykgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10oJ2NvbGxhcHNlZCcpXG4gICAgfVxuXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9uKVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBkcm9wZG93bi5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2Ryb3Bkb3duc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIERST1BET1dOIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBiYWNrZHJvcCA9ICcuZHJvcGRvd24tYmFja2Ryb3AnXG4gIHZhciB0b2dnbGUgICA9ICdbZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXSdcbiAgdmFyIERyb3Bkb3duID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAkKGVsZW1lbnQpLm9uKCdjbGljay5icy5kcm9wZG93bicsIHRoaXMudG9nZ2xlKVxuICB9XG5cbiAgRHJvcGRvd24uVkVSU0lPTiA9ICczLjIuMCdcblxuICBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgY2xlYXJNZW51cygpXG5cbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICEkcGFyZW50LmNsb3Nlc3QoJy5uYXZiYXItbmF2JykubGVuZ3RoKSB7XG4gICAgICAgIC8vIGlmIG1vYmlsZSB3ZSB1c2UgYSBiYWNrZHJvcCBiZWNhdXNlIGNsaWNrIGV2ZW50cyBkb24ndCBkZWxlZ2F0ZVxuICAgICAgICAkKCc8ZGl2IGNsYXNzPVwiZHJvcGRvd24tYmFja2Ryb3BcIi8+JykuaW5zZXJ0QWZ0ZXIoJCh0aGlzKSkub24oJ2NsaWNrJywgY2xlYXJNZW51cylcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuICAgICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdzaG93LmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldCkpXG5cbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICAgJHRoaXMudHJpZ2dlcignZm9jdXMnKVxuXG4gICAgICAkcGFyZW50XG4gICAgICAgIC50b2dnbGVDbGFzcygnb3BlbicpXG4gICAgICAgIC50cmlnZ2VyKCdzaG93bi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCEvKDM4fDQwfDI3KS8udGVzdChlLmtleUNvZGUpKSByZXR1cm5cblxuICAgIHZhciAkdGhpcyA9ICQodGhpcylcblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIGlmICgkdGhpcy5pcygnLmRpc2FibGVkLCA6ZGlzYWJsZWQnKSkgcmV0dXJuXG5cbiAgICB2YXIgJHBhcmVudCAgPSBnZXRQYXJlbnQoJHRoaXMpXG4gICAgdmFyIGlzQWN0aXZlID0gJHBhcmVudC5oYXNDbGFzcygnb3BlbicpXG5cbiAgICBpZiAoIWlzQWN0aXZlIHx8IChpc0FjdGl2ZSAmJiBlLmtleUNvZGUgPT0gMjcpKSB7XG4gICAgICBpZiAoZS53aGljaCA9PSAyNykgJHBhcmVudC5maW5kKHRvZ2dsZSkudHJpZ2dlcignZm9jdXMnKVxuICAgICAgcmV0dXJuICR0aGlzLnRyaWdnZXIoJ2NsaWNrJylcbiAgICB9XG5cbiAgICB2YXIgZGVzYyA9ICcgbGk6bm90KC5kaXZpZGVyKTp2aXNpYmxlIGEnXG4gICAgdmFyICRpdGVtcyA9ICRwYXJlbnQuZmluZCgnW3JvbGU9XCJtZW51XCJdJyArIGRlc2MgKyAnLCBbcm9sZT1cImxpc3Rib3hcIl0nICsgZGVzYylcblxuICAgIGlmICghJGl0ZW1zLmxlbmd0aCkgcmV0dXJuXG5cbiAgICB2YXIgaW5kZXggPSAkaXRlbXMuaW5kZXgoJGl0ZW1zLmZpbHRlcignOmZvY3VzJykpXG5cbiAgICBpZiAoZS5rZXlDb2RlID09IDM4ICYmIGluZGV4ID4gMCkgICAgICAgICAgICAgICAgIGluZGV4LS0gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cFxuICAgIGlmIChlLmtleUNvZGUgPT0gNDAgJiYgaW5kZXggPCAkaXRlbXMubGVuZ3RoIC0gMSkgaW5kZXgrKyAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvd25cbiAgICBpZiAoIX5pbmRleCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMFxuXG4gICAgJGl0ZW1zLmVxKGluZGV4KS50cmlnZ2VyKCdmb2N1cycpXG4gIH1cblxuICBmdW5jdGlvbiBjbGVhck1lbnVzKGUpIHtcbiAgICBpZiAoZSAmJiBlLndoaWNoID09PSAzKSByZXR1cm5cbiAgICAkKGJhY2tkcm9wKS5yZW1vdmUoKVxuICAgICQodG9nZ2xlKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkcGFyZW50ID0gZ2V0UGFyZW50KCQodGhpcykpXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHsgcmVsYXRlZFRhcmdldDogdGhpcyB9XG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSkgcmV0dXJuXG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2hpZGUuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKS50cmlnZ2VyKCdoaWRkZW4uYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBnZXRQYXJlbnQoJHRoaXMpIHtcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiAvI1tBLVphLXpdLy50ZXN0KHNlbGVjdG9yKSAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIHZhciAkcGFyZW50ID0gc2VsZWN0b3IgJiYgJChzZWxlY3RvcilcblxuICAgIHJldHVybiAkcGFyZW50ICYmICRwYXJlbnQubGVuZ3RoID8gJHBhcmVudCA6ICR0aGlzLnBhcmVudCgpXG4gIH1cblxuXG4gIC8vIERST1BET1dOIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuZHJvcGRvd24nKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmRyb3Bkb3duJywgKGRhdGEgPSBuZXcgRHJvcGRvd24odGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5kcm9wZG93blxuXG4gICQuZm4uZHJvcGRvd24gICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5kcm9wZG93bi5Db25zdHJ1Y3RvciA9IERyb3Bkb3duXG5cblxuICAvLyBEUk9QRE9XTiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uZHJvcGRvd24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmRyb3Bkb3duID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQVBQTFkgVE8gU1RBTkRBUkQgRFJPUERPV04gRUxFTUVOVFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCBjbGVhck1lbnVzKVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCAnLmRyb3Bkb3duIGZvcm0nLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpIH0pXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsIHRvZ2dsZSwgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSlcbiAgICAub24oJ2tleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUgKyAnLCBbcm9sZT1cIm1lbnVcIl0sIFtyb2xlPVwibGlzdGJveFwiXScsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0YWIuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0YWJzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVEFCIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVGFiID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSAkKGVsZW1lbnQpXG4gIH1cblxuICBUYWIuVkVSU0lPTiA9ICczLjIuMCdcblxuICBUYWIucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzICAgID0gdGhpcy5lbGVtZW50XG4gICAgdmFyICR1bCAgICAgID0gJHRoaXMuY2xvc2VzdCgndWw6bm90KC5kcm9wZG93bi1tZW51KScpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuZGF0YSgndGFyZ2V0JylcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgfVxuXG4gICAgaWYgKCR0aGlzLnBhcmVudCgnbGknKS5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVyblxuXG4gICAgdmFyIHByZXZpb3VzID0gJHVsLmZpbmQoJy5hY3RpdmU6bGFzdCBhJylbMF1cbiAgICB2YXIgZSAgICAgICAgPSAkLkV2ZW50KCdzaG93LmJzLnRhYicsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IHByZXZpb3VzXG4gICAgfSlcblxuICAgICR0aGlzLnRyaWdnZXIoZSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciAkdGFyZ2V0ID0gJChzZWxlY3RvcilcblxuICAgIHRoaXMuYWN0aXZhdGUoJHRoaXMuY2xvc2VzdCgnbGknKSwgJHVsKVxuICAgIHRoaXMuYWN0aXZhdGUoJHRhcmdldCwgJHRhcmdldC5wYXJlbnQoKSwgZnVuY3Rpb24gKCkge1xuICAgICAgJHRoaXMudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdzaG93bi5icy50YWInLFxuICAgICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91c1xuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgVGFiLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyICRhY3RpdmUgICAgPSBjb250YWluZXIuZmluZCgnPiAuYWN0aXZlJylcbiAgICB2YXIgdHJhbnNpdGlvbiA9IGNhbGxiYWNrXG4gICAgICAmJiAkLnN1cHBvcnQudHJhbnNpdGlvblxuICAgICAgJiYgJGFjdGl2ZS5oYXNDbGFzcygnZmFkZScpXG5cbiAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgJGFjdGl2ZVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIC5maW5kKCc+IC5kcm9wZG93bi1tZW51ID4gLmFjdGl2ZScpXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcblxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgZWxlbWVudFswXS5vZmZzZXRXaWR0aCAvLyByZWZsb3cgZm9yIHRyYW5zaXRpb25cbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnaW4nKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnZmFkZScpXG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50LnBhcmVudCgnLmRyb3Bkb3duLW1lbnUnKSkge1xuICAgICAgICBlbGVtZW50LmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJykuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICB9XG5cbiAgICB0cmFuc2l0aW9uID9cbiAgICAgICRhY3RpdmVcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgbmV4dClcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgbmV4dCgpXG5cbiAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdpbicpXG4gIH1cblxuXG4gIC8vIFRBQiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy50YWInKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRhYicsIChkYXRhID0gbmV3IFRhYih0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udGFiXG5cbiAgJC5mbi50YWIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi50YWIuQ29uc3RydWN0b3IgPSBUYWJcblxuXG4gIC8vIFRBQiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT1cblxuICAkLmZuLnRhYi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4udGFiID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gVEFCIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy50YWIuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwidGFiXCJdLCBbZGF0YS10b2dnbGU9XCJwaWxsXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBQbHVnaW4uY2FsbCgkKHRoaXMpLCAnc2hvdycpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRyYW5zaXRpb24uanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0cmFuc2l0aW9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENTUyBUUkFOU0lUSU9OIFNVUFBPUlQgKFNob3V0b3V0OiBodHRwOi8vd3d3Lm1vZGVybml6ci5jb20vKVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jvb3RzdHJhcCcpXG5cbiAgICB2YXIgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xuICAgICAgV2Via2l0VHJhbnNpdGlvbiA6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAgIE1velRyYW5zaXRpb24gICAgOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgICBPVHJhbnNpdGlvbiAgICAgIDogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcbiAgICAgIHRyYW5zaXRpb24gICAgICAgOiAndHJhbnNpdGlvbmVuZCdcbiAgICB9XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIHRyYW5zRW5kRXZlbnROYW1lcykge1xuICAgICAgaWYgKGVsLnN0eWxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgZW5kOiB0cmFuc0VuZEV2ZW50TmFtZXNbbmFtZV0gfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZSAvLyBleHBsaWNpdCBmb3IgaWU4ICggIC5fLilcbiAgfVxuXG4gIC8vIGh0dHA6Ly9ibG9nLmFsZXhtYWNjYXcuY29tL2Nzcy10cmFuc2l0aW9uc1xuICAkLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gICAgdmFyICRlbCA9IHRoaXNcbiAgICAkKHRoaXMpLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlIH0pXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoIWNhbGxlZCkgJCgkZWwpLnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSB9XG4gICAgc2V0VGltZW91dChjYWxsYmFjaywgZHVyYXRpb24pXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gICQoZnVuY3Rpb24gKCkge1xuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkVuZCgpXG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm5cblxuICAgICQuZXZlbnQuc3BlY2lhbC5ic1RyYW5zaXRpb25FbmQgPSB7XG4gICAgICBiaW5kVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgZGVsZWdhdGVUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICBoYW5kbGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyh0aGlzKSkgcmV0dXJuIGUuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogc2Nyb2xsc3B5LmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jc2Nyb2xsc3B5XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gU0NST0xMU1BZIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHZhciBwcm9jZXNzICA9ICQucHJveHkodGhpcy5wcm9jZXNzLCB0aGlzKVxuXG4gICAgdGhpcy4kYm9keSAgICAgICAgICA9ICQoJ2JvZHknKVxuICAgIHRoaXMuJHNjcm9sbEVsZW1lbnQgPSAkKGVsZW1lbnQpLmlzKCdib2R5JykgPyAkKHdpbmRvdykgOiAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgICAgICA9ICQuZXh0ZW5kKHt9LCBTY3JvbGxTcHkuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5zZWxlY3RvciAgICAgICA9ICh0aGlzLm9wdGlvbnMudGFyZ2V0IHx8ICcnKSArICcgLm5hdiBsaSA+IGEnXG4gICAgdGhpcy5vZmZzZXRzICAgICAgICA9IFtdXG4gICAgdGhpcy50YXJnZXRzICAgICAgICA9IFtdXG4gICAgdGhpcy5hY3RpdmVUYXJnZXQgICA9IG51bGxcbiAgICB0aGlzLnNjcm9sbEhlaWdodCAgID0gMFxuXG4gICAgdGhpcy4kc2Nyb2xsRWxlbWVudC5vbignc2Nyb2xsLmJzLnNjcm9sbHNweScsIHByb2Nlc3MpXG4gICAgdGhpcy5yZWZyZXNoKClcbiAgICB0aGlzLnByb2Nlc3MoKVxuICB9XG5cbiAgU2Nyb2xsU3B5LlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIFNjcm9sbFNweS5ERUZBVUxUUyA9IHtcbiAgICBvZmZzZXQ6IDEwXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kc2Nyb2xsRWxlbWVudFswXS5zY3JvbGxIZWlnaHQgfHwgTWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9mZnNldE1ldGhvZCA9ICdvZmZzZXQnXG4gICAgdmFyIG9mZnNldEJhc2UgICA9IDBcblxuICAgIGlmICghJC5pc1dpbmRvdyh0aGlzLiRzY3JvbGxFbGVtZW50WzBdKSkge1xuICAgICAgb2Zmc2V0TWV0aG9kID0gJ3Bvc2l0aW9uJ1xuICAgICAgb2Zmc2V0QmFzZSAgID0gdGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKVxuICAgIH1cblxuICAgIHRoaXMub2Zmc2V0cyA9IFtdXG4gICAgdGhpcy50YXJnZXRzID0gW11cbiAgICB0aGlzLnNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcblxuICAgIHZhciBzZWxmICAgICA9IHRoaXNcblxuICAgIHRoaXMuJGJvZHlcbiAgICAgIC5maW5kKHRoaXMuc2VsZWN0b3IpXG4gICAgICAubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbCAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgaHJlZiAgPSAkZWwuZGF0YSgndGFyZ2V0JykgfHwgJGVsLmF0dHIoJ2hyZWYnKVxuICAgICAgICB2YXIgJGhyZWYgPSAvXiMuLy50ZXN0KGhyZWYpICYmICQoaHJlZilcblxuICAgICAgICByZXR1cm4gKCRocmVmXG4gICAgICAgICAgJiYgJGhyZWYubGVuZ3RoXG4gICAgICAgICAgJiYgJGhyZWYuaXMoJzp2aXNpYmxlJylcbiAgICAgICAgICAmJiBbWyRocmVmW29mZnNldE1ldGhvZF0oKS50b3AgKyBvZmZzZXRCYXNlLCBocmVmXV0pIHx8IG51bGxcbiAgICAgIH0pXG4gICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYVswXSAtIGJbMF0gfSlcbiAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5vZmZzZXRzLnB1c2godGhpc1swXSlcbiAgICAgICAgc2VsZi50YXJnZXRzLnB1c2godGhpc1sxXSlcbiAgICAgIH0pXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNjcm9sbFRvcCAgICA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKCkgKyB0aGlzLm9wdGlvbnMub2Zmc2V0XG4gICAgdmFyIHNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcbiAgICB2YXIgbWF4U2Nyb2xsICAgID0gdGhpcy5vcHRpb25zLm9mZnNldCArIHNjcm9sbEhlaWdodCAtIHRoaXMuJHNjcm9sbEVsZW1lbnQuaGVpZ2h0KClcbiAgICB2YXIgb2Zmc2V0cyAgICAgID0gdGhpcy5vZmZzZXRzXG4gICAgdmFyIHRhcmdldHMgICAgICA9IHRoaXMudGFyZ2V0c1xuICAgIHZhciBhY3RpdmVUYXJnZXQgPSB0aGlzLmFjdGl2ZVRhcmdldFxuICAgIHZhciBpXG5cbiAgICBpZiAodGhpcy5zY3JvbGxIZWlnaHQgIT0gc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICB0aGlzLnJlZnJlc2goKVxuICAgIH1cblxuICAgIGlmIChzY3JvbGxUb3AgPj0gbWF4U2Nyb2xsKSB7XG4gICAgICByZXR1cm4gYWN0aXZlVGFyZ2V0ICE9IChpID0gdGFyZ2V0c1t0YXJnZXRzLmxlbmd0aCAtIDFdKSAmJiB0aGlzLmFjdGl2YXRlKGkpXG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZVRhcmdldCAmJiBzY3JvbGxUb3AgPD0gb2Zmc2V0c1swXSkge1xuICAgICAgcmV0dXJuIGFjdGl2ZVRhcmdldCAhPSAoaSA9IHRhcmdldHNbMF0pICYmIHRoaXMuYWN0aXZhdGUoaSlcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXRzLmxlbmd0aDsgaS0tOykge1xuICAgICAgYWN0aXZlVGFyZ2V0ICE9IHRhcmdldHNbaV1cbiAgICAgICAgJiYgc2Nyb2xsVG9wID49IG9mZnNldHNbaV1cbiAgICAgICAgJiYgKCFvZmZzZXRzW2kgKyAxXSB8fCBzY3JvbGxUb3AgPD0gb2Zmc2V0c1tpICsgMV0pXG4gICAgICAgICYmIHRoaXMuYWN0aXZhdGUodGFyZ2V0c1tpXSlcbiAgICB9XG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gdGFyZ2V0XG5cbiAgICAkKHRoaXMuc2VsZWN0b3IpXG4gICAgICAucGFyZW50c1VudGlsKHRoaXMub3B0aW9ucy50YXJnZXQsICcuYWN0aXZlJylcbiAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcblxuICAgIHZhciBzZWxlY3RvciA9IHRoaXMuc2VsZWN0b3IgK1xuICAgICAgICAnW2RhdGEtdGFyZ2V0PVwiJyArIHRhcmdldCArICdcIl0sJyArXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgKyAnW2hyZWY9XCInICsgdGFyZ2V0ICsgJ1wiXSdcblxuICAgIHZhciBhY3RpdmUgPSAkKHNlbGVjdG9yKVxuICAgICAgLnBhcmVudHMoJ2xpJylcbiAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgIGlmIChhY3RpdmUucGFyZW50KCcuZHJvcGRvd24tbWVudScpLmxlbmd0aCkge1xuICAgICAgYWN0aXZlID0gYWN0aXZlXG4gICAgICAgIC5jbG9zZXN0KCdsaS5kcm9wZG93bicpXG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICB9XG5cbiAgICBhY3RpdmUudHJpZ2dlcignYWN0aXZhdGUuYnMuc2Nyb2xsc3B5JylcbiAgfVxuXG5cbiAgLy8gU0NST0xMU1BZIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5zY3JvbGxzcHknKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnNjcm9sbHNweScsIChkYXRhID0gbmV3IFNjcm9sbFNweSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uc2Nyb2xsc3B5XG5cbiAgJC5mbi5zY3JvbGxzcHkgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5zY3JvbGxzcHkuQ29uc3RydWN0b3IgPSBTY3JvbGxTcHlcblxuXG4gIC8vIFNDUk9MTFNQWSBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnNjcm9sbHNweS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uc2Nyb2xsc3B5ID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gU0NST0xMU1BZIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQod2luZG93KS5vbignbG9hZC5icy5zY3JvbGxzcHkuZGF0YS1hcGknLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtc3B5PVwic2Nyb2xsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksICRzcHkuZGF0YSgpKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IG1vZGFsLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jbW9kYWxzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gTU9EQUwgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIE1vZGFsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgID0gb3B0aW9uc1xuICAgIHRoaXMuJGJvZHkgICAgICAgICAgPSAkKGRvY3VtZW50LmJvZHkpXG4gICAgdGhpcy4kZWxlbWVudCAgICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLiRiYWNrZHJvcCAgICAgID1cbiAgICB0aGlzLmlzU2hvd24gICAgICAgID0gbnVsbFxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSAwXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnJlbW90ZSkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAuZmluZCgnLm1vZGFsLWNvbnRlbnQnKVxuICAgICAgICAubG9hZCh0aGlzLm9wdGlvbnMucmVtb3RlLCAkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2xvYWRlZC5icy5tb2RhbCcpXG4gICAgICAgIH0sIHRoaXMpKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIE1vZGFsLkRFRkFVTFRTID0ge1xuICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlLFxuICAgIHNob3c6IHRydWVcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5pc1Nob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3coX3JlbGF0ZWRUYXJnZXQpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChfcmVsYXRlZFRhcmdldCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBlICAgID0gJC5FdmVudCgnc2hvdy5icy5tb2RhbCcsIHsgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQgfSlcblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKHRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuaXNTaG93biA9IHRydWVcblxuICAgIHRoaXMuY2hlY2tTY3JvbGxiYXIoKVxuICAgIHRoaXMuJGJvZHkuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKVxuXG4gICAgdGhpcy5zZXRTY3JvbGxiYXIoKVxuICAgIHRoaXMuZXNjYXBlKClcblxuICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJywgJC5wcm94eSh0aGlzLmhpZGUsIHRoaXMpKVxuXG4gICAgdGhpcy5iYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdHJhbnNpdGlvbiA9ICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoYXQuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICBpZiAoIXRoYXQuJGVsZW1lbnQucGFyZW50KCkubGVuZ3RoKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnQuYXBwZW5kVG8odGhhdC4kYm9keSkgLy8gZG9uJ3QgbW92ZSBtb2RhbHMgZG9tIHBvc2l0aW9uXG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgLnNob3coKVxuICAgICAgICAuc2Nyb2xsVG9wKDApXG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgLmFkZENsYXNzKCdpbicpXG4gICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKVxuXG4gICAgICB0aGF0LmVuZm9yY2VGb2N1cygpXG5cbiAgICAgIHZhciBlID0gJC5FdmVudCgnc2hvd24uYnMubW9kYWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IF9yZWxhdGVkVGFyZ2V0IH0pXG5cbiAgICAgIHRyYW5zaXRpb24gP1xuICAgICAgICB0aGF0LiRlbGVtZW50LmZpbmQoJy5tb2RhbC1kaWFsb2cnKSAvLyB3YWl0IGZvciBtb2RhbCB0byBzbGlkZSBpblxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzAwKSA6XG4gICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBlID0gJC5FdmVudCgnaGlkZS5icy5tb2RhbCcpXG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmICghdGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5pc1Nob3duID0gZmFsc2VcblxuICAgIHRoaXMuJGJvZHkucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKVxuXG4gICAgdGhpcy5yZXNldFNjcm9sbGJhcigpXG4gICAgdGhpcy5lc2NhcGUoKVxuXG4gICAgJChkb2N1bWVudCkub2ZmKCdmb2N1c2luLmJzLm1vZGFsJylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxuICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSlcbiAgICAgIC5vZmYoJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eSh0aGlzLmhpZGVNb2RhbCwgdGhpcykpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzMDApIDpcbiAgICAgIHRoaXMuaGlkZU1vZGFsKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5lbmZvcmNlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgJChkb2N1bWVudClcbiAgICAgIC5vZmYoJ2ZvY3VzaW4uYnMubW9kYWwnKSAvLyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGZvY3VzIGxvb3BcbiAgICAgIC5vbignZm9jdXNpbi5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuJGVsZW1lbnRbMF0gIT09IGUudGFyZ2V0ICYmICF0aGlzLiRlbGVtZW50LmhhcyhlLnRhcmdldCkubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmVzY2FwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5rZXlib2FyZCkge1xuICAgICAgdGhpcy4kZWxlbWVudC5vbigna2V5dXAuZGlzbWlzcy5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS53aGljaCA9PSAyNyAmJiB0aGlzLmhpZGUoKVxuICAgICAgfSwgdGhpcykpXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZigna2V5dXAuZGlzbWlzcy5icy5tb2RhbCcpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmhpZGVNb2RhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB0aGlzLiRlbGVtZW50LmhpZGUoKVxuICAgIHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdoaWRkZW4uYnMubW9kYWwnKVxuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVtb3ZlQmFja2Ryb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kYmFja2Ryb3AgJiYgdGhpcy4kYmFja2Ryb3AucmVtb3ZlKClcbiAgICB0aGlzLiRiYWNrZHJvcCA9IG51bGxcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5iYWNrZHJvcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBhbmltYXRlID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID8gJ2ZhZGUnIDogJydcblxuICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmJhY2tkcm9wKSB7XG4gICAgICB2YXIgZG9BbmltYXRlID0gJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgYW5pbWF0ZVxuXG4gICAgICB0aGlzLiRiYWNrZHJvcCA9ICQoJzxkaXYgY2xhc3M9XCJtb2RhbC1iYWNrZHJvcCAnICsgYW5pbWF0ZSArICdcIiAvPicpXG4gICAgICAgIC5hcHBlbmRUbyh0aGlzLiRib2R5KVxuXG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCkgcmV0dXJuXG4gICAgICAgIHRoaXMub3B0aW9ucy5iYWNrZHJvcCA9PSAnc3RhdGljJ1xuICAgICAgICAgID8gdGhpcy4kZWxlbWVudFswXS5mb2N1cy5jYWxsKHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICAgICAgOiB0aGlzLmhpZGUuY2FsbCh0aGlzKVxuICAgICAgfSwgdGhpcykpXG5cbiAgICAgIGlmIChkb0FuaW1hdGUpIHRoaXMuJGJhY2tkcm9wWzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuXG4gICAgICB0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgICBpZiAoIWNhbGxiYWNrKSByZXR1cm5cblxuICAgICAgZG9BbmltYXRlID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFjaylcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICAgIGNhbGxiYWNrKClcblxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaG93biAmJiB0aGlzLiRiYWNrZHJvcCkge1xuICAgICAgdGhpcy4kYmFja2Ryb3AucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgICAgdmFyIGNhbGxiYWNrUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0LnJlbW92ZUJhY2tkcm9wKClcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgICAgfVxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFja1JlbW92ZSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICAgIGNhbGxiYWNrUmVtb3ZlKClcblxuICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKClcbiAgICB9XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuY2hlY2tTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPj0gd2luZG93LmlubmVyV2lkdGgpIHJldHVyblxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSB0aGlzLnNjcm9sbGJhcldpZHRoIHx8IHRoaXMubWVhc3VyZVNjcm9sbGJhcigpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBib2R5UGFkID0gcGFyc2VJbnQoKHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JykgfHwgMCksIDEwKVxuICAgIGlmICh0aGlzLnNjcm9sbGJhcldpZHRoKSB0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcsIGJvZHlQYWQgKyB0aGlzLnNjcm9sbGJhcldpZHRoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgJycpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHsgLy8gdGh4IHdhbHNoXG4gICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSdcbiAgICB0aGlzLiRib2R5LmFwcGVuZChzY3JvbGxEaXYpXG4gICAgdmFyIHNjcm9sbGJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoXG4gICAgdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpXG4gICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoXG4gIH1cblxuXG4gIC8vIE1PREFMIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbiwgX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5tb2RhbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBNb2RhbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5tb2RhbCcsIChkYXRhID0gbmV3IE1vZGFsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oX3JlbGF0ZWRUYXJnZXQpXG4gICAgICBlbHNlIGlmIChvcHRpb25zLnNob3cpIGRhdGEuc2hvdyhfcmVsYXRlZFRhcmdldClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4ubW9kYWxcblxuICAkLmZuLm1vZGFsICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4ubW9kYWwuQ29uc3RydWN0b3IgPSBNb2RhbFxuXG5cbiAgLy8gTU9EQUwgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLm1vZGFsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5tb2RhbCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIE1PREFMIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLm1vZGFsLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cIm1vZGFsXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgaHJlZiAgICA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSkgLy8gc3RyaXAgZm9yIGllN1xuICAgIHZhciBvcHRpb24gID0gJHRhcmdldC5kYXRhKCdicy5tb2RhbCcpID8gJ3RvZ2dsZScgOiAkLmV4dGVuZCh7IHJlbW90ZTogIS8jLy50ZXN0KGhyZWYpICYmIGhyZWYgfSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcblxuICAgIGlmICgkdGhpcy5pcygnYScpKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICR0YXJnZXQub25lKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKHNob3dFdmVudCkge1xuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuIC8vIG9ubHkgcmVnaXN0ZXIgZm9jdXMgcmVzdG9yZXIgaWYgbW9kYWwgd2lsbCBhY3R1YWxseSBnZXQgc2hvd25cbiAgICAgICR0YXJnZXQub25lKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICR0aGlzLmlzKCc6dmlzaWJsZScpICYmICR0aGlzLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgIH0pXG4gICAgfSlcbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24sIHRoaXMpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRvb2x0aXAuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0b29sdGlwXG4gKiBJbnNwaXJlZCBieSB0aGUgb3JpZ2luYWwgalF1ZXJ5LnRpcHN5IGJ5IEphc29uIEZyYW1lXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVE9PTFRJUCBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFRvb2x0aXAgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSAgICAgICA9XG4gICAgdGhpcy5vcHRpb25zICAgID1cbiAgICB0aGlzLmVuYWJsZWQgICAgPVxuICAgIHRoaXMudGltZW91dCAgICA9XG4gICAgdGhpcy5ob3ZlclN0YXRlID1cbiAgICB0aGlzLiRlbGVtZW50ICAgPSBudWxsXG5cbiAgICB0aGlzLmluaXQoJ3Rvb2x0aXAnLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgVG9vbHRpcC5WRVJTSU9OICA9ICczLjIuMCdcblxuICBUb29sdGlwLkRFRkFVTFRTID0ge1xuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIHNlbGVjdG9yOiBmYWxzZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJ0b29sdGlwXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwidG9vbHRpcC1hcnJvd1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJ0b29sdGlwLWlubmVyXCI+PC9kaXY+PC9kaXY+JyxcbiAgICB0cmlnZ2VyOiAnaG92ZXIgZm9jdXMnLFxuICAgIHRpdGxlOiAnJyxcbiAgICBkZWxheTogMCxcbiAgICBodG1sOiBmYWxzZSxcbiAgICBjb250YWluZXI6IGZhbHNlLFxuICAgIHZpZXdwb3J0OiB7XG4gICAgICBzZWxlY3RvcjogJ2JvZHknLFxuICAgICAgcGFkZGluZzogMFxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAodHlwZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuZW5hYmxlZCAgID0gdHJ1ZVxuICAgIHRoaXMudHlwZSAgICAgID0gdHlwZVxuICAgIHRoaXMuJGVsZW1lbnQgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgID0gdGhpcy5nZXRPcHRpb25zKG9wdGlvbnMpXG4gICAgdGhpcy4kdmlld3BvcnQgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgJCh0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLnZpZXdwb3J0KVxuXG4gICAgdmFyIHRyaWdnZXJzID0gdGhpcy5vcHRpb25zLnRyaWdnZXIuc3BsaXQoJyAnKVxuXG4gICAgZm9yICh2YXIgaSA9IHRyaWdnZXJzLmxlbmd0aDsgaS0tOykge1xuICAgICAgdmFyIHRyaWdnZXIgPSB0cmlnZ2Vyc1tpXVxuXG4gICAgICBpZiAodHJpZ2dlciA9PSAnY2xpY2snKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLnRvZ2dsZSwgdGhpcykpXG4gICAgICB9IGVsc2UgaWYgKHRyaWdnZXIgIT0gJ21hbnVhbCcpIHtcbiAgICAgICAgdmFyIGV2ZW50SW4gID0gdHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlZW50ZXInIDogJ2ZvY3VzaW4nXG4gICAgICAgIHZhciBldmVudE91dCA9IHRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWxlYXZlJyA6ICdmb2N1c291dCdcblxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKGV2ZW50SW4gICsgJy4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy5lbnRlciwgdGhpcykpXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRPdXQgKyAnLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLmxlYXZlLCB0aGlzKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMuc2VsZWN0b3IgP1xuICAgICAgKHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB7IHRyaWdnZXI6ICdtYW51YWwnLCBzZWxlY3RvcjogJycgfSkpIDpcbiAgICAgIHRoaXMuZml4VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFRvb2x0aXAuREVGQVVMVFNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5nZXREZWZhdWx0cygpLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucylcblxuICAgIGlmIChvcHRpb25zLmRlbGF5ICYmIHR5cGVvZiBvcHRpb25zLmRlbGF5ID09ICdudW1iZXInKSB7XG4gICAgICBvcHRpb25zLmRlbGF5ID0ge1xuICAgICAgICBzaG93OiBvcHRpb25zLmRlbGF5LFxuICAgICAgICBoaWRlOiBvcHRpb25zLmRlbGF5XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbnNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldERlbGVnYXRlT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3B0aW9ucyAgPSB7fVxuICAgIHZhciBkZWZhdWx0cyA9IHRoaXMuZ2V0RGVmYXVsdHMoKVxuXG4gICAgdGhpcy5fb3B0aW9ucyAmJiAkLmVhY2godGhpcy5fb3B0aW9ucywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChkZWZhdWx0c1trZXldICE9IHZhbHVlKSBvcHRpb25zW2tleV0gPSB2YWx1ZVxuICAgIH0pXG5cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cbiAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdpbidcblxuICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdykgcmV0dXJuIHNlbGYuc2hvdygpXG5cbiAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykgc2VsZi5zaG93KClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmxlYXZlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBzZWxmID0gb2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvciA/XG4gICAgICBvYmogOiAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKCFzZWxmKSB7XG4gICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgIH1cblxuICAgIGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpXG5cbiAgICBzZWxmLmhvdmVyU3RhdGUgPSAnb3V0J1xuXG4gICAgaWYgKCFzZWxmLm9wdGlvbnMuZGVsYXkgfHwgIXNlbGYub3B0aW9ucy5kZWxheS5oaWRlKSByZXR1cm4gc2VsZi5oaWRlKClcblxuICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuaG92ZXJTdGF0ZSA9PSAnb3V0Jykgc2VsZi5oaWRlKClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGUgPSAkLkV2ZW50KCdzaG93LmJzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAodGhpcy5oYXNDb250ZW50KCkgJiYgdGhpcy5lbmFibGVkKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgICAgdmFyIGluRG9tID0gJC5jb250YWlucyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAhaW5Eb20pIHJldHVyblxuICAgICAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxuXG4gICAgICB2YXIgdGlwSWQgPSB0aGlzLmdldFVJRCh0aGlzLnR5cGUpXG5cbiAgICAgIHRoaXMuc2V0Q29udGVudCgpXG4gICAgICAkdGlwLmF0dHIoJ2lkJywgdGlwSWQpXG4gICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aXBJZClcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pICR0aXAuYWRkQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICB2YXIgcGxhY2VtZW50ID0gdHlwZW9mIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQuY2FsbCh0aGlzLCAkdGlwWzBdLCB0aGlzLiRlbGVtZW50WzBdKSA6XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnRcblxuICAgICAgdmFyIGF1dG9Ub2tlbiA9IC9cXHM/YXV0bz9cXHM/L2lcbiAgICAgIHZhciBhdXRvUGxhY2UgPSBhdXRvVG9rZW4udGVzdChwbGFjZW1lbnQpXG4gICAgICBpZiAoYXV0b1BsYWNlKSBwbGFjZW1lbnQgPSBwbGFjZW1lbnQucmVwbGFjZShhdXRvVG9rZW4sICcnKSB8fCAndG9wJ1xuXG4gICAgICAkdGlwXG4gICAgICAgIC5kZXRhY2goKVxuICAgICAgICAuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwLCBkaXNwbGF5OiAnYmxvY2snIH0pXG4gICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXG4gICAgICAgIC5kYXRhKCdicy4nICsgdGhpcy50eXBlLCB0aGlzKVxuXG4gICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID8gJHRpcC5hcHBlbmRUbyh0aGlzLm9wdGlvbnMuY29udGFpbmVyKSA6ICR0aXAuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudClcblxuICAgICAgdmFyIHBvcyAgICAgICAgICA9IHRoaXMuZ2V0UG9zaXRpb24oKVxuICAgICAgdmFyIGFjdHVhbFdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICAgIHZhciBhY3R1YWxIZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgICBpZiAoYXV0b1BsYWNlKSB7XG4gICAgICAgIHZhciBvcmdQbGFjZW1lbnQgPSBwbGFjZW1lbnRcbiAgICAgICAgdmFyICRwYXJlbnQgICAgICA9IHRoaXMuJGVsZW1lbnQucGFyZW50KClcbiAgICAgICAgdmFyIHBhcmVudERpbSAgICA9IHRoaXMuZ2V0UG9zaXRpb24oJHBhcmVudClcblxuICAgICAgICBwbGFjZW1lbnQgPSBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgJiYgcG9zLnRvcCAgICsgcG9zLmhlaWdodCAgICAgICArIGFjdHVhbEhlaWdodCAtIHBhcmVudERpbS5zY3JvbGwgPiBwYXJlbnREaW0uaGVpZ2h0ID8gJ3RvcCcgICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgJiYgcG9zLnRvcCAgIC0gcGFyZW50RGltLnNjcm9sbCAtIGFjdHVhbEhlaWdodCA8IDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JvdHRvbScgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3JpZ2h0JyAgJiYgcG9zLnJpZ2h0ICsgYWN0dWFsV2lkdGggICAgICA+IHBhcmVudERpbS53aWR0aCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2xlZnQnICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgJiYgcG9zLmxlZnQgIC0gYWN0dWFsV2lkdGggICAgICA8IHBhcmVudERpbS5sZWZ0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3JpZ2h0JyAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRcblxuICAgICAgICAkdGlwXG4gICAgICAgICAgLnJlbW92ZUNsYXNzKG9yZ1BsYWNlbWVudClcbiAgICAgICAgICAuYWRkQ2xhc3MocGxhY2VtZW50KVxuICAgICAgfVxuXG4gICAgICB2YXIgY2FsY3VsYXRlZE9mZnNldCA9IHRoaXMuZ2V0Q2FsY3VsYXRlZE9mZnNldChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodClcblxuICAgICAgdGhpcy5hcHBseVBsYWNlbWVudChjYWxjdWxhdGVkT2Zmc2V0LCBwbGFjZW1lbnQpXG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdzaG93bi5icy4nICsgdGhhdC50eXBlKVxuICAgICAgICB0aGF0LmhvdmVyU3RhdGUgPSBudWxsXG4gICAgICB9XG5cbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJHRpcC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgJHRpcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgICAgY29tcGxldGUoKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmFwcGx5UGxhY2VtZW50ID0gZnVuY3Rpb24gKG9mZnNldCwgcGxhY2VtZW50KSB7XG4gICAgdmFyICR0aXAgICA9IHRoaXMudGlwKClcbiAgICB2YXIgd2lkdGggID0gJHRpcFswXS5vZmZzZXRXaWR0aFxuICAgIHZhciBoZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgLy8gbWFudWFsbHkgcmVhZCBtYXJnaW5zIGJlY2F1c2UgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGluY2x1ZGVzIGRpZmZlcmVuY2VcbiAgICB2YXIgbWFyZ2luVG9wID0gcGFyc2VJbnQoJHRpcC5jc3MoJ21hcmdpbi10b3AnKSwgMTApXG4gICAgdmFyIG1hcmdpbkxlZnQgPSBwYXJzZUludCgkdGlwLmNzcygnbWFyZ2luLWxlZnQnKSwgMTApXG5cbiAgICAvLyB3ZSBtdXN0IGNoZWNrIGZvciBOYU4gZm9yIGllIDgvOVxuICAgIGlmIChpc05hTihtYXJnaW5Ub3ApKSAgbWFyZ2luVG9wICA9IDBcbiAgICBpZiAoaXNOYU4obWFyZ2luTGVmdCkpIG1hcmdpbkxlZnQgPSAwXG5cbiAgICBvZmZzZXQudG9wICA9IG9mZnNldC50b3AgICsgbWFyZ2luVG9wXG4gICAgb2Zmc2V0LmxlZnQgPSBvZmZzZXQubGVmdCArIG1hcmdpbkxlZnRcblxuICAgIC8vICQuZm4ub2Zmc2V0IGRvZXNuJ3Qgcm91bmQgcGl4ZWwgdmFsdWVzXG4gICAgLy8gc28gd2UgdXNlIHNldE9mZnNldCBkaXJlY3RseSB3aXRoIG91ciBvd24gZnVuY3Rpb24gQi0wXG4gICAgJC5vZmZzZXQuc2V0T2Zmc2V0KCR0aXBbMF0sICQuZXh0ZW5kKHtcbiAgICAgIHVzaW5nOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgJHRpcC5jc3Moe1xuICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChwcm9wcy50b3ApLFxuICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQocHJvcHMubGVmdClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LCBvZmZzZXQpLCAwKVxuXG4gICAgJHRpcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgLy8gY2hlY2sgdG8gc2VlIGlmIHBsYWNpbmcgdGlwIGluIG5ldyBvZmZzZXQgY2F1c2VkIHRoZSB0aXAgdG8gcmVzaXplIGl0c2VsZlxuICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICBpZiAocGxhY2VtZW50ID09ICd0b3AnICYmIGFjdHVhbEhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgIG9mZnNldC50b3AgPSBvZmZzZXQudG9wICsgaGVpZ2h0IC0gYWN0dWFsSGVpZ2h0XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gdGhpcy5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEocGxhY2VtZW50LCBvZmZzZXQsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICBpZiAoZGVsdGEubGVmdCkgb2Zmc2V0LmxlZnQgKz0gZGVsdGEubGVmdFxuICAgIGVsc2Ugb2Zmc2V0LnRvcCArPSBkZWx0YS50b3BcblxuICAgIHZhciBhcnJvd0RlbHRhICAgICAgICAgID0gZGVsdGEubGVmdCA/IGRlbHRhLmxlZnQgKiAyIC0gd2lkdGggKyBhY3R1YWxXaWR0aCA6IGRlbHRhLnRvcCAqIDIgLSBoZWlnaHQgKyBhY3R1YWxIZWlnaHRcbiAgICB2YXIgYXJyb3dQb3NpdGlvbiAgICAgICA9IGRlbHRhLmxlZnQgPyAnbGVmdCcgICAgICAgIDogJ3RvcCdcbiAgICB2YXIgYXJyb3dPZmZzZXRQb3NpdGlvbiA9IGRlbHRhLmxlZnQgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCdcblxuICAgICR0aXAub2Zmc2V0KG9mZnNldClcbiAgICB0aGlzLnJlcGxhY2VBcnJvdyhhcnJvd0RlbHRhLCAkdGlwWzBdW2Fycm93T2Zmc2V0UG9zaXRpb25dLCBhcnJvd1Bvc2l0aW9uKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUucmVwbGFjZUFycm93ID0gZnVuY3Rpb24gKGRlbHRhLCBkaW1lbnNpb24sIHBvc2l0aW9uKSB7XG4gICAgdGhpcy5hcnJvdygpLmNzcyhwb3NpdGlvbiwgZGVsdGEgPyAoNTAgKiAoMSAtIGRlbHRhIC8gZGltZW5zaW9uKSArICclJykgOiAnJylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aXAgID0gdGhpcy50aXAoKVxuICAgIHZhciB0aXRsZSA9IHRoaXMuZ2V0VGl0bGUoKVxuXG4gICAgJHRpcC5maW5kKCcudG9vbHRpcC1pbm5lcicpW3RoaXMub3B0aW9ucy5odG1sID8gJ2h0bWwnIDogJ3RleHQnXSh0aXRsZSlcbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIGluIHRvcCBib3R0b20gbGVmdCByaWdodCcpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxuICAgIHZhciBlICAgID0gJC5FdmVudCgnaGlkZS5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVBdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JylcblxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgaWYgKHRoYXQuaG92ZXJTdGF0ZSAhPSAnaW4nKSAkdGlwLmRldGFjaCgpXG4gICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2hpZGRlbi5icy4nICsgdGhhdC50eXBlKVxuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHRpcFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjb21wbGV0ZSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgY29tcGxldGUoKVxuXG4gICAgdGhpcy5ob3ZlclN0YXRlID0gbnVsbFxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmZpeFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICBpZiAoJGUuYXR0cigndGl0bGUnKSB8fCB0eXBlb2YgKCRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSkgIT0gJ3N0cmluZycpIHtcbiAgICAgICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCAkZS5hdHRyKCd0aXRsZScpIHx8ICcnKS5hdHRyKCd0aXRsZScsICcnKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhhc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoJGVsZW1lbnQpIHtcbiAgICAkZWxlbWVudCAgID0gJGVsZW1lbnQgfHwgdGhpcy4kZWxlbWVudFxuICAgIHZhciBlbCAgICAgPSAkZWxlbWVudFswXVxuICAgIHZhciBpc0JvZHkgPSBlbC50YWdOYW1lID09ICdCT0RZJ1xuICAgIHJldHVybiAkLmV4dGVuZCh7fSwgKHR5cGVvZiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPT0gJ2Z1bmN0aW9uJykgPyBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IG51bGwsIHtcbiAgICAgIHNjcm9sbDogaXNCb2R5ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA6ICRlbGVtZW50LnNjcm9sbFRvcCgpLFxuICAgICAgd2lkdGg6ICBpc0JvZHkgPyAkKHdpbmRvdykud2lkdGgoKSAgOiAkZWxlbWVudC5vdXRlcldpZHRoKCksXG4gICAgICBoZWlnaHQ6IGlzQm9keSA/ICQod2luZG93KS5oZWlnaHQoKSA6ICRlbGVtZW50Lm91dGVySGVpZ2h0KClcbiAgICB9LCBpc0JvZHkgPyB7IHRvcDogMCwgbGVmdDogMCB9IDogJGVsZW1lbnQub2Zmc2V0KCkpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRDYWxjdWxhdGVkT2Zmc2V0ID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgcmV0dXJuIHBsYWNlbWVudCA9PSAnYm90dG9tJyA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCwgICBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgIH0gOlxuICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgPyB7IHRvcDogcG9zLnRvcCAtIGFjdHVhbEhlaWdodCwgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggLyAyIC0gYWN0dWFsV2lkdGggLyAyICB9IDpcbiAgICAgICAgICAgcGxhY2VtZW50ID09ICdsZWZ0JyAgID8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0IC8gMiAtIGFjdHVhbEhlaWdodCAvIDIsIGxlZnQ6IHBvcy5sZWZ0IC0gYWN0dWFsV2lkdGggfSA6XG4gICAgICAgIC8qIHBsYWNlbWVudCA9PSAncmlnaHQnICovIHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAgIH1cblxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgdmFyIGRlbHRhID0geyB0b3A6IDAsIGxlZnQ6IDAgfVxuICAgIGlmICghdGhpcy4kdmlld3BvcnQpIHJldHVybiBkZWx0YVxuXG4gICAgdmFyIHZpZXdwb3J0UGFkZGluZyA9IHRoaXMub3B0aW9ucy52aWV3cG9ydCAmJiB0aGlzLm9wdGlvbnMudmlld3BvcnQucGFkZGluZyB8fCAwXG4gICAgdmFyIHZpZXdwb3J0RGltZW5zaW9ucyA9IHRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpXG5cbiAgICBpZiAoL3JpZ2h0fGxlZnQvLnRlc3QocGxhY2VtZW50KSkge1xuICAgICAgdmFyIHRvcEVkZ2VPZmZzZXQgICAgPSBwb3MudG9wIC0gdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbFxuICAgICAgdmFyIGJvdHRvbUVkZ2VPZmZzZXQgPSBwb3MudG9wICsgdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbCArIGFjdHVhbEhlaWdodFxuICAgICAgaWYgKHRvcEVkZ2VPZmZzZXQgPCB2aWV3cG9ydERpbWVuc2lvbnMudG9wKSB7IC8vIHRvcCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wIC0gdG9wRWRnZU9mZnNldFxuICAgICAgfSBlbHNlIGlmIChib3R0b21FZGdlT2Zmc2V0ID4gdmlld3BvcnREaW1lbnNpb25zLnRvcCArIHZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQpIHsgLy8gYm90dG9tIG92ZXJmbG93XG4gICAgICAgIGRlbHRhLnRvcCA9IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgKyB2aWV3cG9ydERpbWVuc2lvbnMuaGVpZ2h0IC0gYm90dG9tRWRnZU9mZnNldFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbGVmdEVkZ2VPZmZzZXQgID0gcG9zLmxlZnQgLSB2aWV3cG9ydFBhZGRpbmdcbiAgICAgIHZhciByaWdodEVkZ2VPZmZzZXQgPSBwb3MubGVmdCArIHZpZXdwb3J0UGFkZGluZyArIGFjdHVhbFdpZHRoXG4gICAgICBpZiAobGVmdEVkZ2VPZmZzZXQgPCB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCkgeyAvLyBsZWZ0IG92ZXJmbG93XG4gICAgICAgIGRlbHRhLmxlZnQgPSB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCAtIGxlZnRFZGdlT2Zmc2V0XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0RWRnZU9mZnNldCA+IHZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCkgeyAvLyByaWdodCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS5sZWZ0ID0gdmlld3BvcnREaW1lbnNpb25zLmxlZnQgKyB2aWV3cG9ydERpbWVuc2lvbnMud2lkdGggLSByaWdodEVkZ2VPZmZzZXRcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVsdGFcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aXRsZVxuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgbyAgPSB0aGlzLm9wdGlvbnNcblxuICAgIHRpdGxlID0gJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpXG4gICAgICB8fCAodHlwZW9mIG8udGl0bGUgPT0gJ2Z1bmN0aW9uJyA/IG8udGl0bGUuY2FsbCgkZVswXSkgOiAgby50aXRsZSlcblxuICAgIHJldHVybiB0aXRsZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0VUlEID0gZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIGRvIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogMTAwMDAwMClcbiAgICB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4KSlcbiAgICByZXR1cm4gcHJlZml4XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50aXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiR0aXAgPSB0aGlzLiR0aXAgfHwgJCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLnRvb2x0aXAtYXJyb3cnKSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kZWxlbWVudFswXS5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLmhpZGUoKVxuICAgICAgdGhpcy4kZWxlbWVudCA9IG51bGxcbiAgICAgIHRoaXMub3B0aW9ucyAgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWVcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2VcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gIXRoaXMuZW5hYmxlZFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBpZiAoZSkge1xuICAgICAgc2VsZiA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuICAgICAgaWYgKCFzZWxmKSB7XG4gICAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNlbGYudGlwKCkuaGFzQ2xhc3MoJ2luJykgPyBzZWxmLmxlYXZlKHNlbGYpIDogc2VsZi5lbnRlcihzZWxmKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KVxuICAgIHRoaXMuaGlkZSgpLiRlbGVtZW50Lm9mZignLicgKyB0aGlzLnR5cGUpLnJlbW92ZURhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG4gIH1cblxuXG4gIC8vIFRPT0xUSVAgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy50b29sdGlwJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbiA9PSAnZGVzdHJveScpIHJldHVyblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50b29sdGlwJywgKGRhdGEgPSBuZXcgVG9vbHRpcCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udG9vbHRpcFxuXG4gICQuZm4udG9vbHRpcCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IgPSBUb29sdGlwXG5cblxuICAvLyBUT09MVElQIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnRvb2x0aXAubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRvb2x0aXAgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHBvcG92ZXIuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNwb3BvdmVyc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFBPUE9WRVIgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBQb3BvdmVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmluaXQoJ3BvcG92ZXInLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgaWYgKCEkLmZuLnRvb2x0aXApIHRocm93IG5ldyBFcnJvcignUG9wb3ZlciByZXF1aXJlcyB0b29sdGlwLmpzJylcblxuICBQb3BvdmVyLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIFBvcG92ZXIuREVGQVVMVFMgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLkRFRkFVTFRTLCB7XG4gICAgcGxhY2VtZW50OiAncmlnaHQnLFxuICAgIHRyaWdnZXI6ICdjbGljaycsXG4gICAgY29udGVudDogJycsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwicG9wb3ZlclwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+PGgzIGNsYXNzPVwicG9wb3Zlci10aXRsZVwiPjwvaDM+PGRpdiBjbGFzcz1cInBvcG92ZXItY29udGVudFwiPjwvZGl2PjwvZGl2PidcbiAgfSlcblxuXG4gIC8vIE5PVEU6IFBPUE9WRVIgRVhURU5EUyB0b29sdGlwLmpzXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLnByb3RvdHlwZSlcblxuICBQb3BvdmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBvcG92ZXJcblxuICBQb3BvdmVyLnByb3RvdHlwZS5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUG9wb3Zlci5ERUZBVUxUU1xuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRpcCAgICA9IHRoaXMudGlwKClcbiAgICB2YXIgdGl0bGUgICA9IHRoaXMuZ2V0VGl0bGUoKVxuICAgIHZhciBjb250ZW50ID0gdGhpcy5nZXRDb250ZW50KClcblxuICAgICR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKVt0aGlzLm9wdGlvbnMuaHRtbCA/ICdodG1sJyA6ICd0ZXh0J10odGl0bGUpXG4gICAgJHRpcC5maW5kKCcucG9wb3Zlci1jb250ZW50JykuZW1wdHkoKVsgLy8gd2UgdXNlIGFwcGVuZCBmb3IgaHRtbCBvYmplY3RzIHRvIG1haW50YWluIGpzIGV2ZW50c1xuICAgICAgdGhpcy5vcHRpb25zLmh0bWwgPyAodHlwZW9mIGNvbnRlbnQgPT0gJ3N0cmluZycgPyAnaHRtbCcgOiAnYXBwZW5kJykgOiAndGV4dCdcbiAgICBdKGNvbnRlbnQpXG5cbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIHRvcCBib3R0b20gbGVmdCByaWdodCBpbicpXG5cbiAgICAvLyBJRTggZG9lc24ndCBhY2NlcHQgaGlkaW5nIHZpYSB0aGUgYDplbXB0eWAgcHNldWRvIHNlbGVjdG9yLCB3ZSBoYXZlIHRvIGRvXG4gICAgLy8gdGhpcyBtYW51YWxseSBieSBjaGVja2luZyB0aGUgY29udGVudHMuXG4gICAgaWYgKCEkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaHRtbCgpKSAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaGlkZSgpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5oYXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldFRpdGxlKCkgfHwgdGhpcy5nZXRDb250ZW50KClcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmdldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciBvICA9IHRoaXMub3B0aW9uc1xuXG4gICAgcmV0dXJuICRlLmF0dHIoJ2RhdGEtY29udGVudCcpXG4gICAgICB8fCAodHlwZW9mIG8uY29udGVudCA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgIG8uY29udGVudC5jYWxsKCRlWzBdKSA6XG4gICAgICAgICAgICBvLmNvbnRlbnQpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5hcnJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJGFycm93ID0gdGhpcy4kYXJyb3cgfHwgdGhpcy50aXAoKS5maW5kKCcuYXJyb3cnKSlcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLnRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuJHRpcCkgdGhpcy4kdGlwID0gJCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpXG4gICAgcmV0dXJuIHRoaXMuJHRpcFxuICB9XG5cblxuICAvLyBQT1BPVkVSIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb24gPT0gJ2Rlc3Ryb3knKSByZXR1cm5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicsIChkYXRhID0gbmV3IFBvcG92ZXIodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnBvcG92ZXJcblxuICAkLmZuLnBvcG92ZXIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5wb3BvdmVyLkNvbnN0cnVjdG9yID0gUG9wb3ZlclxuXG5cbiAgLy8gUE9QT1ZFUiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5wb3BvdmVyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5wb3BvdmVyID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG59KGpRdWVyeSk7XG5cblxuLypcbiAqIGFuZ3VsYXItdWktYm9vdHN0cmFwXG4gKiBodHRwOi8vYW5ndWxhci11aS5naXRodWIuaW8vYm9vdHN0cmFwL1xuXG4gKiBWZXJzaW9uOiAwLjEzLjQgLSAyMDE1LTA5LTAzXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJ1aS5ib290c3RyYXBcIiwgW1widWkuYm9vdHN0cmFwLnRwbHNcIiwgXCJ1aS5ib290c3RyYXAuY29sbGFwc2VcIixcInVpLmJvb3RzdHJhcC5hY2NvcmRpb25cIixcInVpLmJvb3RzdHJhcC5hbGVydFwiLFwidWkuYm9vdHN0cmFwLmJpbmRIdG1sXCIsXCJ1aS5ib290c3RyYXAuYnV0dG9uc1wiLFwidWkuYm9vdHN0cmFwLmNhcm91c2VsXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlclwiLFwidWkuYm9vdHN0cmFwLnBvc2l0aW9uXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlclwiLFwidWkuYm9vdHN0cmFwLmRyb3Bkb3duXCIsXCJ1aS5ib290c3RyYXAubW9kYWxcIixcInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uXCIsXCJ1aS5ib290c3RyYXAudG9vbHRpcFwiLFwidWkuYm9vdHN0cmFwLnBvcG92ZXJcIixcInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhclwiLFwidWkuYm9vdHN0cmFwLnJhdGluZ1wiLFwidWkuYm9vdHN0cmFwLnRhYnNcIixcInVpLmJvb3RzdHJhcC50aW1lcGlja2VyXCIsXCJ1aS5ib290c3RyYXAudHJhbnNpdGlvblwiLFwidWkuYm9vdHN0cmFwLnR5cGVhaGVhZFwiXSk7XG5hbmd1bGFyLm1vZHVsZShcInVpLmJvb3RzdHJhcC50cGxzXCIsIFtcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbFwiLFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sXCIsXCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sXCIsXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsXCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sXCIsXCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbFwiLFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sXCIsXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWxcIixcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtdGVtcGxhdGUtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbFwiLFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWxcIixcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbFwiLFwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sXCIsXCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsXCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sXCIsXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWxcIl0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZScsIFtdKVxuXG4gIC5kaXJlY3RpdmUoJ2NvbGxhcHNlJywgWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICBmdW5jdGlvbiBleHBhbmQoKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKTtcblxuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsICdpbicsIHtcbiAgICAgICAgICAgIHRvOiB7IGhlaWdodDogZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgKyAncHgnIH1cbiAgICAgICAgICB9KS50aGVuKGV4cGFuZERvbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZXhwYW5kRG9uZSgpIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJyk7XG4gICAgICAgICAgZWxlbWVudC5jc3Moe2hlaWdodDogJ2F1dG8nfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb2xsYXBzZSgpIHtcbiAgICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQ2xhc3MoJ2NvbGxhcHNlJykgJiYgIWVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xsYXBzZURvbmUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICAvLyBJTVBPUlRBTlQ6IFRoZSBoZWlnaHQgbXVzdCBiZSBzZXQgYmVmb3JlIGFkZGluZyBcImNvbGxhcHNpbmdcIiBjbGFzcy5cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdGhlIGJyb3dzZXIgYXR0ZW1wdHMgdG8gYW5pbWF0ZSBmcm9tIGhlaWdodCAwIChpblxuICAgICAgICAgICAgLy8gY29sbGFwc2luZyBjbGFzcykgdG8gdGhlIGdpdmVuIGhlaWdodCBoZXJlLlxuICAgICAgICAgICAgLmNzcyh7aGVpZ2h0OiBlbGVtZW50WzBdLnNjcm9sbEhlaWdodCArICdweCd9KVxuICAgICAgICAgICAgLy8gaW5pdGlhbGx5IGFsbCBwYW5lbCBjb2xsYXBzZSBoYXZlIHRoZSBjb2xsYXBzZSBjbGFzcywgdGhpcyByZW1vdmFsXG4gICAgICAgICAgICAvLyBwcmV2ZW50cyB0aGUgYW5pbWF0aW9uIGZyb20ganVtcGluZyB0byBjb2xsYXBzZWQgc3RhdGVcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKTtcblxuICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsICdpbicsIHtcbiAgICAgICAgICAgIHRvOiB7aGVpZ2h0OiAnMCd9XG4gICAgICAgICAgfSkudGhlbihjb2xsYXBzZURvbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29sbGFwc2VEb25lKCkge1xuICAgICAgICAgIGVsZW1lbnQuY3NzKHtoZWlnaHQ6ICcwJ30pOyAvLyBSZXF1aXJlZCBzbyB0aGF0IGNvbGxhcHNlIHdvcmtzIHdoZW4gYW5pbWF0aW9uIGlzIGRpc2FibGVkXG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpO1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMuY29sbGFwc2UsIGZ1bmN0aW9uKHNob3VsZENvbGxhcHNlKSB7XG4gICAgICAgICAgaWYgKHNob3VsZENvbGxhcHNlKSB7XG4gICAgICAgICAgICBjb2xsYXBzZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHBhbmQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5hY2NvcmRpb24nLCBbJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZSddKVxuXG4uY29uc3RhbnQoJ2FjY29yZGlvbkNvbmZpZycsIHtcbiAgY2xvc2VPdGhlcnM6IHRydWVcbn0pXG5cbi5jb250cm9sbGVyKCdBY2NvcmRpb25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ2FjY29yZGlvbkNvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCBhY2NvcmRpb25Db25maWcpIHtcbiAgLy8gVGhpcyBhcnJheSBrZWVwcyB0cmFjayBvZiB0aGUgYWNjb3JkaW9uIGdyb3Vwc1xuICB0aGlzLmdyb3VwcyA9IFtdO1xuXG4gIC8vIEVuc3VyZSB0aGF0IGFsbCB0aGUgZ3JvdXBzIGluIHRoaXMgYWNjb3JkaW9uIGFyZSBjbG9zZWQsIHVubGVzcyBjbG9zZS1vdGhlcnMgZXhwbGljaXRseSBzYXlzIG5vdCB0b1xuICB0aGlzLmNsb3NlT3RoZXJzID0gZnVuY3Rpb24ob3Blbkdyb3VwKSB7XG4gICAgdmFyIGNsb3NlT3RoZXJzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmNsb3NlT3RoZXJzKSA/XG4gICAgICAkc2NvcGUuJGV2YWwoJGF0dHJzLmNsb3NlT3RoZXJzKSA6IGFjY29yZGlvbkNvbmZpZy5jbG9zZU90aGVycztcbiAgICBpZiAoY2xvc2VPdGhlcnMpIHtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0aGlzLmdyb3VwcywgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgaWYgKGdyb3VwICE9PSBvcGVuR3JvdXApIHtcbiAgICAgICAgICBncm91cC5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgdG8gYWRkIGl0c2VsZiB0byB0aGUgYWNjb3JkaW9uXG4gIHRoaXMuYWRkR3JvdXAgPSBmdW5jdGlvbihncm91cFNjb3BlKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHRoaXMuZ3JvdXBzLnB1c2goZ3JvdXBTY29wZSk7XG5cbiAgICBncm91cFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgdGhhdC5yZW1vdmVHcm91cChncm91cFNjb3BlKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBhY2NvcmRpb24tZ3JvdXAgZGlyZWN0aXZlIHdoZW4gdG8gcmVtb3ZlIGl0c2VsZlxuICB0aGlzLnJlbW92ZUdyb3VwID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmdyb3Vwcy5pbmRleE9mKGdyb3VwKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLmdyb3Vwcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfTtcblxufV0pXG5cbi8vIFRoZSBhY2NvcmRpb24gZGlyZWN0aXZlIHNpbXBseSBzZXRzIHVwIHRoZSBkaXJlY3RpdmUgY29udHJvbGxlclxuLy8gYW5kIGFkZHMgYW4gYWNjb3JkaW9uIENTUyBjbGFzcyB0byBpdHNlbGYgZWxlbWVudC5cbi5kaXJlY3RpdmUoJ2FjY29yZGlvbicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIGNvbnRyb2xsZXI6ICdBY2NvcmRpb25Db250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdhY2NvcmRpb24nLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogZmFsc2UsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbCc7XG4gICAgfVxuICB9O1xufSlcblxuLy8gVGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgaW5kaWNhdGVzIGEgYmxvY2sgb2YgaHRtbCB0aGF0IHdpbGwgZXhwYW5kIGFuZCBjb2xsYXBzZSBpbiBhbiBhY2NvcmRpb25cbi5kaXJlY3RpdmUoJ2FjY29yZGlvbkdyb3VwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ15hY2NvcmRpb24nLCAgICAgICAgIC8vIFdlIG5lZWQgdGhpcyBkaXJlY3RpdmUgdG8gYmUgaW5zaWRlIGFuIGFjY29yZGlvblxuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsICAgICAgICAgICAgICAvLyBJdCB0cmFuc2NsdWRlcyB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSBpbnRvIHRoZSB0ZW1wbGF0ZVxuICAgIHJlcGxhY2U6IHRydWUsICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGRpcmVjdGl2ZSB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIHRlbXBsYXRlXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCc7XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgaGVhZGluZzogJ0AnLCAgICAgICAgICAgICAgIC8vIEludGVycG9sYXRlIHRoZSBoZWFkaW5nIGF0dHJpYnV0ZSBvbnRvIHRoaXMgc2NvcGVcbiAgICAgIGlzT3BlbjogJz0/JyxcbiAgICAgIGlzRGlzYWJsZWQ6ICc9PydcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZXRIZWFkaW5nID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB0aGlzLmhlYWRpbmcgPSBlbGVtZW50O1xuICAgICAgfTtcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgYWNjb3JkaW9uQ3RybCkge1xuICAgICAgYWNjb3JkaW9uQ3RybC5hZGRHcm91cChzY29wZSk7XG5cbiAgICAgIHNjb3BlLm9wZW5DbGFzcyA9IGF0dHJzLm9wZW5DbGFzcyB8fCAncGFuZWwtb3Blbic7XG4gICAgICBzY29wZS5wYW5lbENsYXNzID0gYXR0cnMucGFuZWxDbGFzcztcbiAgICAgIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcyhzY29wZS5vcGVuQ2xhc3MsIHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgYWNjb3JkaW9uQ3RybC5jbG9zZU90aGVycyhzY29wZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS50b2dnbGVPcGVuID0gZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIGlmICghc2NvcGUuaXNEaXNhYmxlZCkge1xuICAgICAgICAgIGlmICghJGV2ZW50IHx8ICRldmVudC53aGljaCA9PT0gMzIpIHtcbiAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9ICFzY29wZS5pc09wZW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn0pXG5cbi8vIFVzZSBhY2NvcmRpb24taGVhZGluZyBiZWxvdyBhbiBhY2NvcmRpb24tZ3JvdXAgdG8gcHJvdmlkZSBhIGhlYWRpbmcgY29udGFpbmluZyBIVE1MXG4vLyA8YWNjb3JkaW9uLWdyb3VwPlxuLy8gICA8YWNjb3JkaW9uLWhlYWRpbmc+SGVhZGluZyBjb250YWluaW5nIEhUTUwgLSA8aW1nIHNyYz1cIi4uLlwiPjwvYWNjb3JkaW9uLWhlYWRpbmc+XG4vLyA8L2FjY29yZGlvbi1ncm91cD5cbi5kaXJlY3RpdmUoJ2FjY29yZGlvbkhlYWRpbmcnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLCAgIC8vIEdyYWIgdGhlIGNvbnRlbnRzIHRvIGJlIHVzZWQgYXMgdGhlIGhlYWRpbmdcbiAgICB0ZW1wbGF0ZTogJycsICAgICAgIC8vIEluIGVmZmVjdCByZW1vdmUgdGhpcyBlbGVtZW50IVxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgcmVxdWlyZTogJ15hY2NvcmRpb25Hcm91cCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGFjY29yZGlvbkdyb3VwQ3RybCwgdHJhbnNjbHVkZSkge1xuICAgICAgLy8gUGFzcyB0aGUgaGVhZGluZyB0byB0aGUgYWNjb3JkaW9uLWdyb3VwIGNvbnRyb2xsZXJcbiAgICAgIC8vIHNvIHRoYXQgaXQgY2FuIGJlIHRyYW5zY2x1ZGVkIGludG8gdGhlIHJpZ2h0IHBsYWNlIGluIHRoZSB0ZW1wbGF0ZVxuICAgICAgLy8gW1RoZSBzZWNvbmQgcGFyYW1ldGVyIHRvIHRyYW5zY2x1ZGUgY2F1c2VzIHRoZSBlbGVtZW50cyB0byBiZSBjbG9uZWQgc28gdGhhdCB0aGV5IHdvcmsgaW4gbmctcmVwZWF0XVxuICAgICAgYWNjb3JkaW9uR3JvdXBDdHJsLnNldEhlYWRpbmcodHJhbnNjbHVkZShzY29wZSwgYW5ndWxhci5ub29wKSk7XG4gICAgfVxuICB9O1xufSlcblxuLy8gVXNlIGluIHRoZSBhY2NvcmRpb24tZ3JvdXAgdGVtcGxhdGUgdG8gaW5kaWNhdGUgd2hlcmUgeW91IHdhbnQgdGhlIGhlYWRpbmcgdG8gYmUgdHJhbnNjbHVkZWRcbi8vIFlvdSBtdXN0IHByb3ZpZGUgdGhlIHByb3BlcnR5IG9uIHRoZSBhY2NvcmRpb24tZ3JvdXAgY29udHJvbGxlciB0aGF0IHdpbGwgaG9sZCB0aGUgdHJhbnNjbHVkZWQgZWxlbWVudFxuLy8gPGRpdiBjbGFzcz1cImFjY29yZGlvbi1ncm91cFwiPlxuLy8gICA8ZGl2IGNsYXNzPVwiYWNjb3JkaW9uLWhlYWRpbmdcIiA+PGEgLi4uIGFjY29yZGlvbi10cmFuc2NsdWRlPVwiaGVhZGluZ1wiPi4uLjwvYT48L2Rpdj5cbi8vICAgLi4uXG4vLyA8L2Rpdj5cbi5kaXJlY3RpdmUoJ2FjY29yZGlvblRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXmFjY29yZGlvbkdyb3VwJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY29udHJvbGxlcikge1xuICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkgeyByZXR1cm4gY29udHJvbGxlclthdHRyLmFjY29yZGlvblRyYW5zY2x1ZGVdOyB9LCBmdW5jdGlvbihoZWFkaW5nKSB7XG4gICAgICAgIGlmIChoZWFkaW5nKSB7XG4gICAgICAgICAgZWxlbWVudC5maW5kKCdzcGFuJykuaHRtbCgnJyk7XG4gICAgICAgICAgZWxlbWVudC5maW5kKCdzcGFuJykuYXBwZW5kKGhlYWRpbmcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG47XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYWxlcnQnLCBbXSlcblxuLmNvbnRyb2xsZXIoJ0FsZXJ0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzKSB7XG4gICRzY29wZS5jbG9zZWFibGUgPSAhISRhdHRycy5jbG9zZTtcbiAgdGhpcy5jbG9zZSA9ICRzY29wZS5jbG9zZTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdhbGVydCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIGNvbnRyb2xsZXI6ICdBbGVydENvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ2FsZXJ0JyxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCc7XG4gICAgfSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIHR5cGU6ICdAJyxcbiAgICAgIGNsb3NlOiAnJidcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkaXNtaXNzT25UaW1lb3V0JywgWyckdGltZW91dCcsIGZ1bmN0aW9uKCR0aW1lb3V0KSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ2FsZXJ0JyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGFsZXJ0Q3RybCkge1xuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGFsZXJ0Q3RybC5jbG9zZSgpO1xuICAgICAgfSwgcGFyc2VJbnQoYXR0cnMuZGlzbWlzc09uVGltZW91dCwgMTApKTtcbiAgICB9XG4gIH07XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYmluZEh0bWwnLCBbXSlcblxuICAudmFsdWUoJyRiaW5kSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCcsIGZhbHNlKVxuXG4gIC5kaXJlY3RpdmUoJ2JpbmRIdG1sVW5zYWZlJywgWyckbG9nJywgJyRiaW5kSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCcsIGZ1bmN0aW9uICgkbG9nLCAkYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICBpZiAoISRiaW5kSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCkge1xuICAgICAgICAkbG9nLndhcm4oJ2JpbmRIdG1sVW5zYWZlIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgbmdCaW5kSHRtbCBpbnN0ZWFkJyk7XG4gICAgICB9XG4gICAgICBlbGVtZW50LmFkZENsYXNzKCduZy1iaW5kaW5nJykuZGF0YSgnJGJpbmRpbmcnLCBhdHRyLmJpbmRIdG1sVW5zYWZlKTtcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLmJpbmRIdG1sVW5zYWZlLCBmdW5jdGlvbiBiaW5kSHRtbFVuc2FmZVdhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQuaHRtbCh2YWx1ZSB8fCAnJyk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XSk7XG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmJ1dHRvbnMnLCBbXSlcblxuLmNvbnN0YW50KCdidXR0b25Db25maWcnLCB7XG4gIGFjdGl2ZUNsYXNzOiAnYWN0aXZlJyxcbiAgdG9nZ2xlRXZlbnQ6ICdjbGljaydcbn0pXG5cbi5jb250cm9sbGVyKCdCdXR0b25zQ29udHJvbGxlcicsIFsnYnV0dG9uQ29uZmlnJywgZnVuY3Rpb24oYnV0dG9uQ29uZmlnKSB7XG4gIHRoaXMuYWN0aXZlQ2xhc3MgPSBidXR0b25Db25maWcuYWN0aXZlQ2xhc3MgfHwgJ2FjdGl2ZSc7XG4gIHRoaXMudG9nZ2xlRXZlbnQgPSBidXR0b25Db25maWcudG9nZ2xlRXZlbnQgfHwgJ2NsaWNrJztcbn1dKVxuXG4uZGlyZWN0aXZlKCdidG5SYWRpbycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6IFsnYnRuUmFkaW8nLCAnbmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdCdXR0b25zQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnYnV0dG9ucycsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIGJ1dHRvbnNDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGVsZW1lbnQuZmluZCgnaW5wdXQnKS5jc3Moe2Rpc3BsYXk6ICdub25lJ30pO1xuXG4gICAgICAvL21vZGVsIC0+IFVJXG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MsIGFuZ3VsYXIuZXF1YWxzKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlLCBzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpKTtcbiAgICAgIH07XG5cbiAgICAgIC8vdWktPm1vZGVsXG4gICAgICBlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoYXR0cnMuZGlzYWJsZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNBY3RpdmUgPSBlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKTtcblxuICAgICAgICBpZiAoIWlzQWN0aXZlIHx8IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnVuY2hlY2thYmxlKSkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoaXNBY3RpdmUgPyBudWxsIDogc2NvcGUuJGV2YWwoYXR0cnMuYnRuUmFkaW8pKTtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgnYnRuQ2hlY2tib3gnLCBbJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCRkb2N1bWVudCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6IFsnYnRuQ2hlY2tib3gnLCAnbmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdCdXR0b25zQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnYnV0dG9uJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgYnV0dG9uc0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgZWxlbWVudC5maW5kKCdpbnB1dCcpLmNzcyh7ZGlzcGxheTogJ25vbmUnfSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFRydWVWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hUcnVlLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0RmFsc2VWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hGYWxzZSwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGF0dHJpYnV0ZVZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgdmFyIHZhbCA9IHNjb3BlLiRldmFsKGF0dHJpYnV0ZVZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKHZhbCkgPyB2YWwgOiBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG5cbiAgICAgIC8vbW9kZWwgLT4gVUlcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcywgYW5ndWxhci5lcXVhbHMobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUsIGdldFRydWVWYWx1ZSgpKSk7XG4gICAgICB9O1xuXG4gICAgICAvL3VpLT5tb2RlbFxuICAgICAgZWxlbWVudC5iaW5kKGJ1dHRvbnNDdHJsLnRvZ2dsZUV2ZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGF0dHJzLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcykgPyBnZXRGYWxzZVZhbHVlKCkgOiBnZXRUcnVlVmFsdWUoKSk7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvL2FjY2Vzc2liaWxpdHlcbiAgICAgIGVsZW1lbnQub24oJ2tleXByZXNzJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoYXR0cnMuZGlzYWJsZWQgfHwgZS53aGljaCAhPT0gMzIgfHwgJGRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQgIT09IGVsZW1lbnRbMF0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKSA/IGdldEZhbHNlVmFsdWUoKSA6IGdldFRydWVWYWx1ZSgpKTtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV0pO1xuXG4vKipcbiogQG5nZG9jIG92ZXJ2aWV3XG4qIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbFxuKlxuKiBAZGVzY3JpcHRpb25cbiogQW5ndWxhckpTIHZlcnNpb24gb2YgYW4gaW1hZ2UgY2Fyb3VzZWwuXG4qXG4qL1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5jYXJvdXNlbCcsIFtdKVxuLmNvbnRyb2xsZXIoJ0Nhcm91c2VsQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRlbGVtZW50JywgJyRpbnRlcnZhbCcsICckYW5pbWF0ZScsIGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50LCAkaW50ZXJ2YWwsICRhbmltYXRlKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICBzbGlkZXMgPSBzZWxmLnNsaWRlcyA9ICRzY29wZS5zbGlkZXMgPSBbXSxcbiAgICBORVdfQU5JTUFURSA9IGFuZ3VsYXIudmVyc2lvbi5taW5vciA+PSA0LFxuICAgIE5PX1RSQU5TSVRJT04gPSAndWliLW5vVHJhbnNpdGlvbicsXG4gICAgU0xJREVfRElSRUNUSU9OID0gJ3VpYi1zbGlkZURpcmVjdGlvbicsXG4gICAgY3VycmVudEluZGV4ID0gLTEsXG4gICAgY3VycmVudEludGVydmFsLCBpc1BsYXlpbmc7XG4gIHNlbGYuY3VycmVudFNsaWRlID0gbnVsbDtcblxuICB2YXIgZGVzdHJveWVkID0gZmFsc2U7XG4gIC8qIGRpcmVjdGlvbjogXCJwcmV2XCIgb3IgXCJuZXh0XCIgKi9cbiAgc2VsZi5zZWxlY3QgPSAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24obmV4dFNsaWRlLCBkaXJlY3Rpb24pIHtcbiAgICB2YXIgbmV4dEluZGV4ID0gJHNjb3BlLmluZGV4T2ZTbGlkZShuZXh0U2xpZGUpO1xuICAgIC8vRGVjaWRlIGRpcmVjdGlvbiBpZiBpdCdzIG5vdCBnaXZlblxuICAgIGlmIChkaXJlY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgZGlyZWN0aW9uID0gbmV4dEluZGV4ID4gc2VsZi5nZXRDdXJyZW50SW5kZXgoKSA/ICduZXh0JyA6ICdwcmV2JztcbiAgICB9XG4gICAgLy9QcmV2ZW50IHRoaXMgdXNlci10cmlnZ2VyZWQgdHJhbnNpdGlvbiBmcm9tIG9jY3VycmluZyBpZiB0aGVyZSBpcyBhbHJlYWR5IG9uZSBpbiBwcm9ncmVzc1xuICAgIGlmIChuZXh0U2xpZGUgJiYgbmV4dFNsaWRlICE9PSBzZWxmLmN1cnJlbnRTbGlkZSAmJiAhJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbikge1xuICAgICAgZ29OZXh0KG5leHRTbGlkZSwgbmV4dEluZGV4LCBkaXJlY3Rpb24pO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBnb05leHQoc2xpZGUsIGluZGV4LCBkaXJlY3Rpb24pIHtcbiAgICAvLyBTY29wZSBoYXMgYmVlbiBkZXN0cm95ZWQsIHN0b3AgaGVyZS5cbiAgICBpZiAoZGVzdHJveWVkKSB7IHJldHVybjsgfVxuXG4gICAgYW5ndWxhci5leHRlbmQoc2xpZGUsIHtkaXJlY3Rpb246IGRpcmVjdGlvbiwgYWN0aXZlOiB0cnVlfSk7XG4gICAgYW5ndWxhci5leHRlbmQoc2VsZi5jdXJyZW50U2xpZGUgfHwge30sIHtkaXJlY3Rpb246IGRpcmVjdGlvbiwgYWN0aXZlOiBmYWxzZX0pO1xuICAgIGlmICgkYW5pbWF0ZS5lbmFibGVkKCkgJiYgISRzY29wZS5ub1RyYW5zaXRpb24gJiYgISRzY29wZS4kY3VycmVudFRyYW5zaXRpb24gJiZcbiAgICAgIHNsaWRlLiRlbGVtZW50ICYmIHNlbGYuc2xpZGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHNsaWRlLiRlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OLCBzbGlkZS5kaXJlY3Rpb24pO1xuICAgICAgaWYgKHNlbGYuY3VycmVudFNsaWRlICYmIHNlbGYuY3VycmVudFNsaWRlLiRlbGVtZW50KSB7XG4gICAgICAgIHNlbGYuY3VycmVudFNsaWRlLiRlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OLCBzbGlkZS5kaXJlY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gdHJ1ZTtcbiAgICAgIGlmIChORVdfQU5JTUFURSkge1xuICAgICAgICAkYW5pbWF0ZS5vbignYWRkQ2xhc3MnLCBzbGlkZS4kZWxlbWVudCwgZnVuY3Rpb24gKGVsZW1lbnQsIHBoYXNlKSB7XG4gICAgICAgICAgaWYgKHBoYXNlID09PSAnY2xvc2UnKSB7XG4gICAgICAgICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICRhbmltYXRlLm9mZignYWRkQ2xhc3MnLCBlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGUuJGVsZW1lbnQub25lKCckYW5pbWF0ZTpjbG9zZScsIGZ1bmN0aW9uIGNsb3NlRm4oKSB7XG4gICAgICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNlbGYuY3VycmVudFNsaWRlID0gc2xpZGU7XG4gICAgY3VycmVudEluZGV4ID0gaW5kZXg7XG5cbiAgICAvL2V2ZXJ5IHRpbWUgeW91IGNoYW5nZSBzbGlkZXMsIHJlc2V0IHRoZSB0aW1lclxuICAgIHJlc3RhcnRUaW1lcigpO1xuICB9XG5cbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG4gICAgZGVzdHJveWVkID0gdHJ1ZTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZ2V0U2xpZGVCeUluZGV4KGluZGV4KSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoc2xpZGVzW2luZGV4XS5pbmRleCkpIHtcbiAgICAgIHJldHVybiBzbGlkZXNbaW5kZXhdO1xuICAgIH1cbiAgICB2YXIgaSwgbGVuID0gc2xpZGVzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoc2xpZGVzW2ldLmluZGV4ID09IGluZGV4KSB7XG4gICAgICAgIHJldHVybiBzbGlkZXNbaV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2VsZi5nZXRDdXJyZW50SW5kZXggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZi5jdXJyZW50U2xpZGUgJiYgYW5ndWxhci5pc0RlZmluZWQoc2VsZi5jdXJyZW50U2xpZGUuaW5kZXgpKSB7XG4gICAgICByZXR1cm4gK3NlbGYuY3VycmVudFNsaWRlLmluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudEluZGV4O1xuICB9O1xuXG4gIC8qIEFsbG93IG91dHNpZGUgcGVvcGxlIHRvIGNhbGwgaW5kZXhPZiBvbiBzbGlkZXMgYXJyYXkgKi9cbiAgJHNjb3BlLmluZGV4T2ZTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgcmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKHNsaWRlLmluZGV4KSA/ICtzbGlkZS5pbmRleCA6IHNsaWRlcy5pbmRleE9mKHNsaWRlKTtcbiAgfTtcblxuICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdJbmRleCA9IChzZWxmLmdldEN1cnJlbnRJbmRleCgpICsgMSkgJSBzbGlkZXMubGVuZ3RoO1xuXG4gICAgaWYgKG5ld0luZGV4ID09PSAwICYmICRzY29wZS5ub1dyYXAoKSkge1xuICAgICAgJHNjb3BlLnBhdXNlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGYuc2VsZWN0KGdldFNsaWRlQnlJbmRleChuZXdJbmRleCksICduZXh0Jyk7XG4gIH07XG5cbiAgJHNjb3BlLnByZXYgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3SW5kZXggPSBzZWxmLmdldEN1cnJlbnRJbmRleCgpIC0gMSA8IDAgPyBzbGlkZXMubGVuZ3RoIC0gMSA6IHNlbGYuZ2V0Q3VycmVudEluZGV4KCkgLSAxO1xuXG4gICAgaWYgKCRzY29wZS5ub1dyYXAoKSAmJiBuZXdJbmRleCA9PT0gc2xpZGVzLmxlbmd0aCAtIDEpe1xuICAgICAgJHNjb3BlLnBhdXNlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGYuc2VsZWN0KGdldFNsaWRlQnlJbmRleChuZXdJbmRleCksICdwcmV2Jyk7XG4gIH07XG5cbiAgJHNjb3BlLmlzQWN0aXZlID0gZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAgcmV0dXJuIHNlbGYuY3VycmVudFNsaWRlID09PSBzbGlkZTtcbiAgfTtcblxuICAkc2NvcGUuJHdhdGNoKCdpbnRlcnZhbCcsIHJlc3RhcnRUaW1lcik7XG4gICRzY29wZS4kb24oJyRkZXN0cm95JywgcmVzZXRUaW1lcik7XG5cbiAgZnVuY3Rpb24gcmVzdGFydFRpbWVyKCkge1xuICAgIHJlc2V0VGltZXIoKTtcbiAgICB2YXIgaW50ZXJ2YWwgPSArJHNjb3BlLmludGVydmFsO1xuICAgIGlmICghaXNOYU4oaW50ZXJ2YWwpICYmIGludGVydmFsID4gMCkge1xuICAgICAgY3VycmVudEludGVydmFsID0gJGludGVydmFsKHRpbWVyRm4sIGludGVydmFsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRpbWVyKCkge1xuICAgIGlmIChjdXJyZW50SW50ZXJ2YWwpIHtcbiAgICAgICRpbnRlcnZhbC5jYW5jZWwoY3VycmVudEludGVydmFsKTtcbiAgICAgIGN1cnJlbnRJbnRlcnZhbCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJGbigpIHtcbiAgICB2YXIgaW50ZXJ2YWwgPSArJHNjb3BlLmludGVydmFsO1xuICAgIGlmIChpc1BsYXlpbmcgJiYgIWlzTmFOKGludGVydmFsKSAmJiBpbnRlcnZhbCA+IDAgJiYgc2xpZGVzLmxlbmd0aCkge1xuICAgICAgJHNjb3BlLm5leHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNjb3BlLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgJHNjb3BlLnBsYXkgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIWlzUGxheWluZykge1xuICAgICAgaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICAgIHJlc3RhcnRUaW1lcigpO1xuICAgIH1cbiAgfTtcbiAgJHNjb3BlLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9QYXVzZSkge1xuICAgICAgaXNQbGF5aW5nID0gZmFsc2U7XG4gICAgICByZXNldFRpbWVyKCk7XG4gICAgfVxuICB9O1xuXG4gIHNlbGYuYWRkU2xpZGUgPSBmdW5jdGlvbihzbGlkZSwgZWxlbWVudCkge1xuICAgIHNsaWRlLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICBzbGlkZXMucHVzaChzbGlkZSk7XG4gICAgLy9pZiB0aGlzIGlzIHRoZSBmaXJzdCBzbGlkZSBvciB0aGUgc2xpZGUgaXMgc2V0IHRvIGFjdGl2ZSwgc2VsZWN0IGl0XG4gICAgaWYoc2xpZGVzLmxlbmd0aCA9PT0gMSB8fCBzbGlkZS5hY3RpdmUpIHtcbiAgICAgIHNlbGYuc2VsZWN0KHNsaWRlc1tzbGlkZXMubGVuZ3RoLTFdKTtcbiAgICAgIGlmIChzbGlkZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgJHNjb3BlLnBsYXkoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIHNlbGYucmVtb3ZlU2xpZGUgPSBmdW5jdGlvbihzbGlkZSkge1xuICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChzbGlkZS5pbmRleCkpIHtcbiAgICAgIHNsaWRlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuICthLmluZGV4ID4gK2IuaW5kZXg7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy9nZXQgdGhlIGluZGV4IG9mIHRoZSBzbGlkZSBpbnNpZGUgdGhlIGNhcm91c2VsXG4gICAgdmFyIGluZGV4ID0gc2xpZGVzLmluZGV4T2Yoc2xpZGUpO1xuICAgIHNsaWRlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGlmIChzbGlkZXMubGVuZ3RoID4gMCAmJiBzbGlkZS5hY3RpdmUpIHtcbiAgICAgIGlmIChpbmRleCA+PSBzbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgIHNlbGYuc2VsZWN0KHNsaWRlc1tpbmRleC0xXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLnNlbGVjdChzbGlkZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRJbmRleCA+IGluZGV4KSB7XG4gICAgICBjdXJyZW50SW5kZXgtLTtcbiAgICB9XG4gICAgXG4gICAgLy9jbGVhbiB0aGUgY3VycmVudFNsaWRlIHdoZW4gbm8gbW9yZSBzbGlkZVxuICAgIGlmIChzbGlkZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZWxmLmN1cnJlbnRTbGlkZSA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goJ25vVHJhbnNpdGlvbicsIGZ1bmN0aW9uKG5vVHJhbnNpdGlvbikge1xuICAgICRlbGVtZW50LmRhdGEoTk9fVFJBTlNJVElPTiwgbm9UcmFuc2l0aW9uKTtcbiAgfSk7XG5cbn1dKVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWxcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ2Fyb3VzZWwgaXMgdGhlIG91dGVyIGNvbnRhaW5lciBmb3IgYSBzZXQgb2YgaW1hZ2UgJ3NsaWRlcycgdG8gc2hvd2Nhc2UuXG4gKlxuICogQHBhcmFtIHtudW1iZXI9fSBpbnRlcnZhbCBUaGUgdGltZSwgaW4gbWlsbGlzZWNvbmRzLCB0aGF0IGl0IHdpbGwgdGFrZSB0aGUgY2Fyb3VzZWwgdG8gZ28gdG8gdGhlIG5leHQgc2xpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub1RyYW5zaXRpb24gV2hldGhlciB0byBkaXNhYmxlIHRyYW5zaXRpb25zIG9uIHRoZSBjYXJvdXNlbC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vUGF1c2UgV2hldGhlciB0byBkaXNhYmxlIHBhdXNpbmcgb24gdGhlIGNhcm91c2VsIChieSBkZWZhdWx0LCB0aGUgY2Fyb3VzZWwgaW50ZXJ2YWwgcGF1c2VzIG9uIGhvdmVyKS5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgPGNhcm91c2VsPlxuICAgICAgPHNsaWRlPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTUwLzE1MFwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgICAgPHA+QmVhdXRpZnVsITwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NsaWRlPlxuICAgICAgPHNsaWRlPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTAwLzE1MFwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgICAgPHA+RCdhd3chPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2xpZGU+XG4gICAgPC9jYXJvdXNlbD5cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwiZGVtby5jc3NcIj5cbiAgICAuY2Fyb3VzZWwtaW5kaWNhdG9ycyB7XG4gICAgICB0b3A6IGF1dG87XG4gICAgICBib3R0b206IDE1cHg7XG4gICAgfVxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ2Nhcm91c2VsJywgW2Z1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAnQ2Fyb3VzZWxDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdjYXJvdXNlbCcsXG4gICAgcmVxdWlyZTogJ2Nhcm91c2VsJyxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCc7XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgaW50ZXJ2YWw6ICc9JyxcbiAgICAgIG5vVHJhbnNpdGlvbjogJz0nLFxuICAgICAgbm9QYXVzZTogJz0nLFxuICAgICAgbm9XcmFwOiAnJidcbiAgICB9XG4gIH07XG59XSlcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB1aS5ib290c3RyYXAuY2Fyb3VzZWwuZGlyZWN0aXZlOnNsaWRlXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBzbGlkZSBpbnNpZGUgYSB7QGxpbmsgdWkuYm9vdHN0cmFwLmNhcm91c2VsLmRpcmVjdGl2ZTpjYXJvdXNlbCBjYXJvdXNlbH0uICBNdXN0IGJlIHBsYWNlZCBhcyBhIGNoaWxkIG9mIGEgY2Fyb3VzZWwgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBhY3RpdmUgTW9kZWwgYmluZGluZywgd2hldGhlciBvciBub3QgdGhpcyBzbGlkZSBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICogQHBhcmFtIHtudW1iZXI9fSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIHNsaWRlLiBUaGUgc2xpZGVzIHdpbGwgYmUgc29ydGVkIGJ5IHRoaXMgcGFyYW1ldGVyLlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbjxkaXYgbmctY29udHJvbGxlcj1cIkNhcm91c2VsRGVtb0N0cmxcIj5cbiAgPGNhcm91c2VsPlxuICAgIDxzbGlkZSBuZy1yZXBlYXQ9XCJzbGlkZSBpbiBzbGlkZXNcIiBhY3RpdmU9XCJzbGlkZS5hY3RpdmVcIiBpbmRleD1cIiRpbmRleFwiPlxuICAgICAgPGltZyBuZy1zcmM9XCJ7e3NsaWRlLmltYWdlfX1cIiBzdHlsZT1cIm1hcmdpbjphdXRvO1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsLWNhcHRpb25cIj5cbiAgICAgICAgPGg0PlNsaWRlIHt7JGluZGV4fX08L2g0PlxuICAgICAgICA8cD57e3NsaWRlLnRleHR9fTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvc2xpZGU+XG4gIDwvY2Fyb3VzZWw+XG4gIEludGVydmFsLCBpbiBtaWxsaXNlY29uZHM6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJteUludGVydmFsXCI+XG4gIDxiciAvPkVudGVyIGEgbmVnYXRpdmUgbnVtYmVyIHRvIHN0b3AgdGhlIGludGVydmFsLlxuPC9kaXY+XG4gIDwvZmlsZT5cbiAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuZnVuY3Rpb24gQ2Fyb3VzZWxEZW1vQ3RybCgkc2NvcGUpIHtcbiAgJHNjb3BlLm15SW50ZXJ2YWwgPSA1MDAwO1xufVxuICA8L2ZpbGU+XG4gIDxmaWxlIG5hbWU9XCJkZW1vLmNzc1wiPlxuICAgIC5jYXJvdXNlbC1pbmRpY2F0b3JzIHtcbiAgICAgIHRvcDogYXV0bztcbiAgICAgIGJvdHRvbTogMTVweDtcbiAgICB9XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiovXG5cbi5kaXJlY3RpdmUoJ3NsaWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ15jYXJvdXNlbCcsXG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sJztcbiAgICB9LFxuICAgIHNjb3BlOiB7XG4gICAgICBhY3RpdmU6ICc9PycsXG4gICAgICBhY3R1YWw6ICc9PycsXG4gICAgICBpbmRleDogJz0/J1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY2Fyb3VzZWxDdHJsKSB7XG4gICAgICBjYXJvdXNlbEN0cmwuYWRkU2xpZGUoc2NvcGUsIGVsZW1lbnQpO1xuICAgICAgLy93aGVuIHRoZSBzY29wZSBpcyBkZXN0cm95ZWQgdGhlbiByZW1vdmUgdGhlIHNsaWRlIGZyb20gdGhlIGN1cnJlbnQgc2xpZGVzIGFycmF5XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhcm91c2VsQ3RybC5yZW1vdmVTbGlkZShzY29wZSk7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdhY3RpdmUnLCBmdW5jdGlvbihhY3RpdmUpIHtcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgIGNhcm91c2VsQ3RybC5zZWxlY3Qoc2NvcGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG4uYW5pbWF0aW9uKCcuaXRlbScsIFtcbiAgICAgICAgICckaW5qZWN0b3InLCAnJGFuaW1hdGUnLFxuZnVuY3Rpb24gKCRpbmplY3RvciwgJGFuaW1hdGUpIHtcbiAgdmFyIE5PX1RSQU5TSVRJT04gPSAndWliLW5vVHJhbnNpdGlvbicsXG4gICAgU0xJREVfRElSRUNUSU9OID0gJ3VpYi1zbGlkZURpcmVjdGlvbicsXG4gICAgJGFuaW1hdGVDc3MgPSBudWxsO1xuXG4gIGlmICgkaW5qZWN0b3IuaGFzKCckYW5pbWF0ZUNzcycpKSB7XG4gICAgJGFuaW1hdGVDc3MgPSAkaW5qZWN0b3IuZ2V0KCckYW5pbWF0ZUNzcycpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lLCBjYWxsYmFjaykge1xuICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiZWZvcmVBZGRDbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkge1xuICAgICAgLy8gRHVlIHRvIHRyYW5zY2x1c2lvbiwgbm9UcmFuc2l0aW9uIHByb3BlcnR5IGlzIG9uIHBhcmVudCdzIHNjb3BlXG4gICAgICBpZiAoY2xhc3NOYW1lID09ICdhY3RpdmUnICYmIGVsZW1lbnQucGFyZW50KCkgJiZcbiAgICAgICAgICAhZWxlbWVudC5wYXJlbnQoKS5kYXRhKE5PX1RSQU5TSVRJT04pKSB7XG4gICAgICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OKTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbkNsYXNzID0gZGlyZWN0aW9uID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIHZhciByZW1vdmVDbGFzc0ZuID0gcmVtb3ZlQ2xhc3MuYmluZCh0aGlzLCBlbGVtZW50LFxuICAgICAgICAgIGRpcmVjdGlvbkNsYXNzICsgJyAnICsgZGlyZWN0aW9uLCBkb25lKTtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhkaXJlY3Rpb24pO1xuXG4gICAgICAgIGlmICgkYW5pbWF0ZUNzcykge1xuICAgICAgICAgICRhbmltYXRlQ3NzKGVsZW1lbnQsIHthZGRDbGFzczogZGlyZWN0aW9uQ2xhc3N9KVxuICAgICAgICAgICAgLnN0YXJ0KClcbiAgICAgICAgICAgIC5kb25lKHJlbW92ZUNsYXNzRm4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIGRpcmVjdGlvbkNsYXNzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghc3RvcHBlZCkge1xuICAgICAgICAgICAgICByZW1vdmVDbGFzc0ZuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZG9uZSgpO1xuICAgIH0sXG4gICAgYmVmb3JlUmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpIHtcbiAgICAgIC8vIER1ZSB0byB0cmFuc2NsdXNpb24sIG5vVHJhbnNpdGlvbiBwcm9wZXJ0eSBpcyBvbiBwYXJlbnQncyBzY29wZVxuICAgICAgaWYgKGNsYXNzTmFtZSA9PT0gJ2FjdGl2ZScgJiYgZWxlbWVudC5wYXJlbnQoKSAmJlxuICAgICAgICAgICFlbGVtZW50LnBhcmVudCgpLmRhdGEoTk9fVFJBTlNJVElPTikpIHtcbiAgICAgICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGVsZW1lbnQuZGF0YShTTElERV9ESVJFQ1RJT04pO1xuICAgICAgICB2YXIgZGlyZWN0aW9uQ2xhc3MgPSBkaXJlY3Rpb24gPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgdmFyIHJlbW92ZUNsYXNzRm4gPSByZW1vdmVDbGFzcy5iaW5kKHRoaXMsIGVsZW1lbnQsIGRpcmVjdGlvbkNsYXNzLCBkb25lKTtcblxuICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7YWRkQ2xhc3M6IGRpcmVjdGlvbkNsYXNzfSlcbiAgICAgICAgICAgIC5zdGFydCgpXG4gICAgICAgICAgICAuZG9uZShyZW1vdmVDbGFzc0ZuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBkaXJlY3Rpb25DbGFzcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3NGbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBkb25lKCk7XG4gICAgfVxuICB9O1xuXG59XSlcblxuXG47XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZGF0ZXBhcnNlcicsIFtdKVxuXG4uc2VydmljZSgnZGF0ZVBhcnNlcicsIFsnJGxvZycsICckbG9jYWxlJywgJ29yZGVyQnlGaWx0ZXInLCBmdW5jdGlvbigkbG9nLCAkbG9jYWxlLCBvcmRlckJ5RmlsdGVyKSB7XG4gIC8vIFB1bGxlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9tYm9zdG9jay9kMy9ibG9iL21hc3Rlci9zcmMvZm9ybWF0L3JlcXVvdGUuanNcbiAgdmFyIFNQRUNJQUxfQ0hBUkFDVEVSU19SRUdFWFAgPSAvW1xcXFxcXF5cXCRcXCpcXCtcXD9cXHxcXFtcXF1cXChcXClcXC5cXHtcXH1dL2c7XG5cbiAgdGhpcy5wYXJzZXJzID0ge307XG5cbiAgdmFyIGZvcm1hdENvZGVUb1JlZ2V4ID0ge1xuICAgICd5eXl5Jzoge1xuICAgICAgcmVnZXg6ICdcXFxcZHs0fScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAneXknOiB7XG4gICAgICByZWdleDogJ1xcXFxkezJ9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnllYXIgPSArdmFsdWUgKyAyMDAwOyB9XG4gICAgfSxcbiAgICAneSc6IHtcbiAgICAgIHJlZ2V4OiAnXFxcXGR7MSw0fScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnTU1NTSc6IHtcbiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguam9pbignfCcpLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguaW5kZXhPZih2YWx1ZSk7IH1cbiAgICB9LFxuICAgICdNTU0nOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguam9pbignfCcpLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5pbmRleE9mKHZhbHVlKTsgfVxuICAgIH0sXG4gICAgJ01NJzoge1xuICAgICAgcmVnZXg6ICcwWzEtOV18MVswLTJdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gdmFsdWUgLSAxOyB9XG4gICAgfSxcbiAgICAnTSc6IHtcbiAgICAgIHJlZ2V4OiAnWzEtOV18MVswLTJdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gdmFsdWUgLSAxOyB9XG4gICAgfSxcbiAgICAnZGQnOiB7XG4gICAgICByZWdleDogJ1swLTJdWzAtOV17MX18M1swLTFdezF9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmRhdGUgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdkJzoge1xuICAgICAgcmVnZXg6ICdbMS0yXT9bMC05XXsxfXwzWzAtMV17MX0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuZGF0ZSA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ0VFRUUnOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkRBWS5qb2luKCd8JylcbiAgICB9LFxuICAgICdFRUUnOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUREFZLmpvaW4oJ3wnKVxuICAgIH0sXG4gICAgJ0hIJzoge1xuICAgICAgcmVnZXg6ICcoPzowfDEpWzAtOV18MlswLTNdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmhvdXJzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnaGgnOiB7XG4gICAgICByZWdleDogJzBbMC05XXwxWzAtMl0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuaG91cnMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdIJzoge1xuICAgICAgcmVnZXg6ICcxP1swLTldfDJbMC0zXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ2gnOiB7XG4gICAgICByZWdleDogJ1swLTldfDFbMC0yXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ21tJzoge1xuICAgICAgcmVnZXg6ICdbMC01XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1pbnV0ZXMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdtJzoge1xuICAgICAgcmVnZXg6ICdbMC05XXxbMS01XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1pbnV0ZXMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdzc3MnOiB7XG4gICAgICByZWdleDogJ1swLTldWzAtOV1bMC05XScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5taWxsaXNlY29uZHMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdzcyc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtNV1bMC05XScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5zZWNvbmRzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAncyc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtOV18WzEtNV1bMC05XScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5zZWNvbmRzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnYSc6IHtcbiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuQU1QTVMuam9pbignfCcpLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmhvdXJzID09PSAxMikge1xuICAgICAgICAgIHRoaXMuaG91cnMgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSAnUE0nKSB7XG4gICAgICAgICAgdGhpcy5ob3VycyArPSAxMjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVQYXJzZXIoZm9ybWF0KSB7XG4gICAgdmFyIG1hcCA9IFtdLCByZWdleCA9IGZvcm1hdC5zcGxpdCgnJyk7XG5cbiAgICBhbmd1bGFyLmZvckVhY2goZm9ybWF0Q29kZVRvUmVnZXgsIGZ1bmN0aW9uKGRhdGEsIGNvZGUpIHtcbiAgICAgIHZhciBpbmRleCA9IGZvcm1hdC5pbmRleE9mKGNvZGUpO1xuXG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBmb3JtYXQgPSBmb3JtYXQuc3BsaXQoJycpO1xuXG4gICAgICAgIHJlZ2V4W2luZGV4XSA9ICcoJyArIGRhdGEucmVnZXggKyAnKSc7XG4gICAgICAgIGZvcm1hdFtpbmRleF0gPSAnJCc7IC8vIEN1c3RvbSBzeW1ib2wgdG8gZGVmaW5lIGNvbnN1bWVkIHBhcnQgb2YgZm9ybWF0XG4gICAgICAgIGZvciAodmFyIGkgPSBpbmRleCArIDEsIG4gPSBpbmRleCArIGNvZGUubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcmVnZXhbaV0gPSAnJztcbiAgICAgICAgICBmb3JtYXRbaV0gPSAnJCc7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LmpvaW4oJycpO1xuXG4gICAgICAgIG1hcC5wdXNoKHsgaW5kZXg6IGluZGV4LCBhcHBseTogZGF0YS5hcHBseSB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICByZWdleDogbmV3IFJlZ0V4cCgnXicgKyByZWdleC5qb2luKCcnKSArICckJyksXG4gICAgICBtYXA6IG9yZGVyQnlGaWx0ZXIobWFwLCAnaW5kZXgnKVxuICAgIH07XG4gIH1cblxuICB0aGlzLnBhcnNlID0gZnVuY3Rpb24oaW5wdXQsIGZvcm1hdCwgYmFzZURhdGUpIHtcbiAgICBpZiAoIWFuZ3VsYXIuaXNTdHJpbmcoaW5wdXQpIHx8ICFmb3JtYXQpIHtcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBmb3JtYXQgPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XSB8fCBmb3JtYXQ7XG4gICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoU1BFQ0lBTF9DSEFSQUNURVJTX1JFR0VYUCwgJ1xcXFwkJicpO1xuXG4gICAgaWYgKCF0aGlzLnBhcnNlcnNbZm9ybWF0XSkge1xuICAgICAgdGhpcy5wYXJzZXJzW2Zvcm1hdF0gPSBjcmVhdGVQYXJzZXIoZm9ybWF0KTtcbiAgICB9XG5cbiAgICB2YXIgcGFyc2VyID0gdGhpcy5wYXJzZXJzW2Zvcm1hdF0sXG4gICAgICAgIHJlZ2V4ID0gcGFyc2VyLnJlZ2V4LFxuICAgICAgICBtYXAgPSBwYXJzZXIubWFwLFxuICAgICAgICByZXN1bHRzID0gaW5wdXQubWF0Y2gocmVnZXgpO1xuXG4gICAgaWYgKHJlc3VsdHMgJiYgcmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgIHZhciBmaWVsZHMsIGR0O1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKGJhc2VEYXRlKSAmJiAhaXNOYU4oYmFzZURhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICBmaWVsZHMgPSB7XG4gICAgICAgICAgeWVhcjogYmFzZURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICBtb250aDogYmFzZURhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICBkYXRlOiBiYXNlRGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgaG91cnM6IGJhc2VEYXRlLmdldEhvdXJzKCksXG4gICAgICAgICAgbWludXRlczogYmFzZURhdGUuZ2V0TWludXRlcygpLFxuICAgICAgICAgIHNlY29uZHM6IGJhc2VEYXRlLmdldFNlY29uZHMoKSxcbiAgICAgICAgICBtaWxsaXNlY29uZHM6IGJhc2VEYXRlLmdldE1pbGxpc2Vjb25kcygpXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYmFzZURhdGUpIHtcbiAgICAgICAgICAkbG9nLndhcm4oJ2RhdGVwYXJzZXI6JywgJ2Jhc2VEYXRlIGlzIG5vdCBhIHZhbGlkIGRhdGUnKTtcbiAgICAgICAgfVxuICAgICAgICBmaWVsZHMgPSB7IHllYXI6IDE5MDAsIG1vbnRoOiAwLCBkYXRlOiAxLCBob3VyczogMCwgbWludXRlczogMCwgc2Vjb25kczogMCwgbWlsbGlzZWNvbmRzOiAwIH07XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAxLCBuID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgdmFyIG1hcHBlciA9IG1hcFtpLTFdO1xuICAgICAgICBpZiAobWFwcGVyLmFwcGx5KSB7XG4gICAgICAgICAgbWFwcGVyLmFwcGx5LmNhbGwoZmllbGRzLCByZXN1bHRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNWYWxpZChmaWVsZHMueWVhciwgZmllbGRzLm1vbnRoLCBmaWVsZHMuZGF0ZSkpIHtcbiAgICAgICAgZHQgPSBuZXcgRGF0ZShmaWVsZHMueWVhciwgZmllbGRzLm1vbnRoLCBmaWVsZHMuZGF0ZSxcbiAgICAgICAgICBmaWVsZHMuaG91cnMsIGZpZWxkcy5taW51dGVzLCBmaWVsZHMuc2Vjb25kcyxcbiAgICAgICAgICBmaWVsZHMubWlsbGlzZWNvbmRzIHx8IDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZHQ7XG4gICAgfVxuICB9O1xuXG4gIC8vIENoZWNrIGlmIGRhdGUgaXMgdmFsaWQgZm9yIHNwZWNpZmljIG1vbnRoIChhbmQgeWVhciBmb3IgRmVicnVhcnkpLlxuICAvLyBNb250aDogMCA9IEphbiwgMSA9IEZlYiwgZXRjXG4gIGZ1bmN0aW9uIGlzVmFsaWQoeWVhciwgbW9udGgsIGRhdGUpIHtcbiAgICBpZiAoZGF0ZSA8IDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAobW9udGggPT09IDEgJiYgZGF0ZSA+IDI4KSB7XG4gICAgICByZXR1cm4gZGF0ZSA9PT0gMjkgJiYgKCh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwKTtcbiAgICB9XG5cbiAgICBpZiAobW9udGggPT09IDMgfHwgbW9udGggPT09IDUgfHwgbW9udGggPT09IDggfHwgbW9udGggPT09IDEwKSB7XG4gICAgICByZXR1cm4gZGF0ZSA8IDMxO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucG9zaXRpb24nLCBbXSlcblxuLyoqXG4gKiBBIHNldCBvZiB1dGlsaXR5IG1ldGhvZHMgdGhhdCBjYW4gYmUgdXNlIHRvIHJldHJpZXZlIHBvc2l0aW9uIG9mIERPTSBlbGVtZW50cy5cbiAqIEl0IGlzIG1lYW50IHRvIGJlIHVzZWQgd2hlcmUgd2UgbmVlZCB0byBhYnNvbHV0ZS1wb3NpdGlvbiBET00gZWxlbWVudHMgaW5cbiAqIHJlbGF0aW9uIHRvIG90aGVyLCBleGlzdGluZyBlbGVtZW50cyAodGhpcyBpcyB0aGUgY2FzZSBmb3IgdG9vbHRpcHMsIHBvcG92ZXJzLFxuICogdHlwZWFoZWFkIHN1Z2dlc3Rpb25zIGV0Yy4pLlxuICovXG4gIC5mYWN0b3J5KCckcG9zaXRpb24nLCBbJyRkb2N1bWVudCcsICckd2luZG93JywgZnVuY3Rpb24oJGRvY3VtZW50LCAkd2luZG93KSB7XG4gICAgZnVuY3Rpb24gZ2V0U3R5bGUoZWwsIGNzc3Byb3ApIHtcbiAgICAgIGlmIChlbC5jdXJyZW50U3R5bGUpIHsgLy9JRVxuICAgICAgICByZXR1cm4gZWwuY3VycmVudFN0eWxlW2Nzc3Byb3BdO1xuICAgICAgfSBlbHNlIGlmICgkd2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgcmV0dXJuICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbY3NzcHJvcF07XG4gICAgICB9XG4gICAgICAvLyBmaW5hbGx5IHRyeSBhbmQgZ2V0IGlubGluZSBzdHlsZVxuICAgICAgcmV0dXJuIGVsLnN0eWxlW2Nzc3Byb3BdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGdpdmVuIGVsZW1lbnQgaXMgc3RhdGljYWxseSBwb3NpdGlvbmVkXG4gICAgICogQHBhcmFtIGVsZW1lbnQgLSByYXcgRE9NIGVsZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0YXRpY1Bvc2l0aW9uZWQoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIChnZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKSB8fCAnc3RhdGljJyApID09PSAnc3RhdGljJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBjbG9zZXN0LCBub24tc3RhdGljYWxseSBwb3NpdGlvbmVkIHBhcmVudE9mZnNldCBvZiBhIGdpdmVuIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqL1xuICAgIHZhciBwYXJlbnRPZmZzZXRFbCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciBkb2NEb21FbCA9ICRkb2N1bWVudFswXTtcbiAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudCB8fCBkb2NEb21FbDtcbiAgICAgIHdoaWxlIChvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0UGFyZW50ICE9PSBkb2NEb21FbCAmJiBpc1N0YXRpY1Bvc2l0aW9uZWQob2Zmc2V0UGFyZW50KSApIHtcbiAgICAgICAgb2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jRG9tRWw7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIHJlYWQtb25seSBlcXVpdmFsZW50IG9mIGpRdWVyeSdzIHBvc2l0aW9uIGZ1bmN0aW9uOlxuICAgICAgICogaHR0cDovL2FwaS5qcXVlcnkuY29tL3Bvc2l0aW9uL1xuICAgICAgICovXG4gICAgICBwb3NpdGlvbjogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB2YXIgZWxCQ1IgPSB0aGlzLm9mZnNldChlbGVtZW50KTtcbiAgICAgICAgdmFyIG9mZnNldFBhcmVudEJDUiA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnRFbCA9IHBhcmVudE9mZnNldEVsKGVsZW1lbnRbMF0pO1xuICAgICAgICBpZiAob2Zmc2V0UGFyZW50RWwgIT0gJGRvY3VtZW50WzBdKSB7XG4gICAgICAgICAgb2Zmc2V0UGFyZW50QkNSID0gdGhpcy5vZmZzZXQoYW5ndWxhci5lbGVtZW50KG9mZnNldFBhcmVudEVsKSk7XG4gICAgICAgICAgb2Zmc2V0UGFyZW50QkNSLnRvcCArPSBvZmZzZXRQYXJlbnRFbC5jbGllbnRUb3AgLSBvZmZzZXRQYXJlbnRFbC5zY3JvbGxUb3A7XG4gICAgICAgICAgb2Zmc2V0UGFyZW50QkNSLmxlZnQgKz0gb2Zmc2V0UGFyZW50RWwuY2xpZW50TGVmdCAtIG9mZnNldFBhcmVudEVsLnNjcm9sbExlZnQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYm91bmRpbmdDbGllbnRSZWN0ID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogYm91bmRpbmdDbGllbnRSZWN0LndpZHRoIHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSxcbiAgICAgICAgICBoZWlnaHQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKSxcbiAgICAgICAgICB0b3A6IGVsQkNSLnRvcCAtIG9mZnNldFBhcmVudEJDUi50b3AsXG4gICAgICAgICAgbGVmdDogZWxCQ1IubGVmdCAtIG9mZnNldFBhcmVudEJDUi5sZWZ0XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIHJlYWQtb25seSBlcXVpdmFsZW50IG9mIGpRdWVyeSdzIG9mZnNldCBmdW5jdGlvbjpcbiAgICAgICAqIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vZmZzZXQvXG4gICAgICAgKi9cbiAgICAgIG9mZnNldDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB2YXIgYm91bmRpbmdDbGllbnRSZWN0ID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogYm91bmRpbmdDbGllbnRSZWN0LndpZHRoIHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSxcbiAgICAgICAgICBoZWlnaHQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKSxcbiAgICAgICAgICB0b3A6IGJvdW5kaW5nQ2xpZW50UmVjdC50b3AgKyAoJHdpbmRvdy5wYWdlWU9mZnNldCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCksXG4gICAgICAgICAgbGVmdDogYm91bmRpbmdDbGllbnRSZWN0LmxlZnQgKyAoJHdpbmRvdy5wYWdlWE9mZnNldCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpXG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIGNvb3JkaW5hdGVzIGZvciB0aGUgdGFyZ2V0RWwgaW4gcmVsYXRpb24gdG8gaG9zdEVsXG4gICAgICAgKi9cbiAgICAgIHBvc2l0aW9uRWxlbWVudHM6IGZ1bmN0aW9uKGhvc3RFbCwgdGFyZ2V0RWwsIHBvc2l0aW9uU3RyLCBhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uU3RyUGFydHMgPSBwb3NpdGlvblN0ci5zcGxpdCgnLScpO1xuICAgICAgICB2YXIgcG9zMCA9IHBvc2l0aW9uU3RyUGFydHNbMF0sIHBvczEgPSBwb3NpdGlvblN0clBhcnRzWzFdIHx8ICdjZW50ZXInO1xuXG4gICAgICAgIHZhciBob3N0RWxQb3MsXG4gICAgICAgICAgdGFyZ2V0RWxXaWR0aCxcbiAgICAgICAgICB0YXJnZXRFbEhlaWdodCxcbiAgICAgICAgICB0YXJnZXRFbFBvcztcblxuICAgICAgICBob3N0RWxQb3MgPSBhcHBlbmRUb0JvZHkgPyB0aGlzLm9mZnNldChob3N0RWwpIDogdGhpcy5wb3NpdGlvbihob3N0RWwpO1xuXG4gICAgICAgIHRhcmdldEVsV2lkdGggPSB0YXJnZXRFbC5wcm9wKCdvZmZzZXRXaWR0aCcpO1xuICAgICAgICB0YXJnZXRFbEhlaWdodCA9IHRhcmdldEVsLnByb3AoJ29mZnNldEhlaWdodCcpO1xuXG4gICAgICAgIHZhciBzaGlmdFdpZHRoID0ge1xuICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLmxlZnQgKyBob3N0RWxQb3Mud2lkdGggLyAyIC0gdGFyZ2V0RWxXaWR0aCAvIDI7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsZWZ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJpZ2h0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdCArIGhvc3RFbFBvcy53aWR0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHNoaWZ0SGVpZ2h0ID0ge1xuICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLnRvcCArIGhvc3RFbFBvcy5oZWlnaHQgLyAyIC0gdGFyZ2V0RWxIZWlnaHQgLyAyO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYm90dG9tOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wICsgaG9zdEVsUG9zLmhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc3dpdGNoIChwb3MwKSB7XG4gICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMV0oKSxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MwXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHtcbiAgICAgICAgICAgICAgdG9wOiBzaGlmdEhlaWdodFtwb3MxXSgpLFxuICAgICAgICAgICAgICBsZWZ0OiBob3N0RWxQb3MubGVmdCAtIHRhcmdldEVsV2lkdGhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMF0oKSxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MxXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRhcmdldEVsUG9zID0ge1xuICAgICAgICAgICAgICB0b3A6IGhvc3RFbFBvcy50b3AgLSB0YXJnZXRFbEhlaWdodCxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MxXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0RWxQb3M7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRhdGVwaWNrZXInLCBbJ3VpLmJvb3RzdHJhcC5kYXRlcGFyc2VyJywgJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4udmFsdWUoJyRkYXRlcGlja2VyU3VwcHJlc3NFcnJvcicsIGZhbHNlKVxuXG4uY29uc3RhbnQoJ2RhdGVwaWNrZXJDb25maWcnLCB7XG4gIGZvcm1hdERheTogJ2RkJyxcbiAgZm9ybWF0TW9udGg6ICdNTU1NJyxcbiAgZm9ybWF0WWVhcjogJ3l5eXknLFxuICBmb3JtYXREYXlIZWFkZXI6ICdFRUUnLFxuICBmb3JtYXREYXlUaXRsZTogJ01NTU0geXl5eScsXG4gIGZvcm1hdE1vbnRoVGl0bGU6ICd5eXl5JyxcbiAgZGF0ZXBpY2tlck1vZGU6ICdkYXknLFxuICBtaW5Nb2RlOiAnZGF5JyxcbiAgbWF4TW9kZTogJ3llYXInLFxuICBzaG93V2Vla3M6IHRydWUsXG4gIHN0YXJ0aW5nRGF5OiAwLFxuICB5ZWFyUmFuZ2U6IDIwLFxuICBtaW5EYXRlOiBudWxsLFxuICBtYXhEYXRlOiBudWxsLFxuICBzaG9ydGN1dFByb3BhZ2F0aW9uOiBmYWxzZVxufSlcblxuLmNvbnRyb2xsZXIoJ0RhdGVwaWNrZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICckaW50ZXJwb2xhdGUnLCAnJGxvZycsICdkYXRlRmlsdGVyJywgJ2RhdGVwaWNrZXJDb25maWcnLCAnJGRhdGVwaWNrZXJTdXBwcmVzc0Vycm9yJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgJGludGVycG9sYXRlLCAkbG9nLCBkYXRlRmlsdGVyLCBkYXRlcGlja2VyQ29uZmlnLCAkZGF0ZXBpY2tlclN1cHByZXNzRXJyb3IpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9OyAvLyBudWxsTW9kZWxDdHJsO1xuXG4gIC8vIE1vZGVzIGNoYWluXG4gIHRoaXMubW9kZXMgPSBbJ2RheScsICdtb250aCcsICd5ZWFyJ107XG5cbiAgLy8gQ29uZmlndXJhdGlvbiBhdHRyaWJ1dGVzXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ2Zvcm1hdERheScsICdmb3JtYXRNb250aCcsICdmb3JtYXRZZWFyJywgJ2Zvcm1hdERheUhlYWRlcicsICdmb3JtYXREYXlUaXRsZScsICdmb3JtYXRNb250aFRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAnc2hvd1dlZWtzJywgJ3N0YXJ0aW5nRGF5JywgJ3llYXJSYW5nZScsICdzaG9ydGN1dFByb3BhZ2F0aW9uJ10sIGZ1bmN0aW9uKGtleSwgaW5kZXgpIHtcbiAgICBzZWxmW2tleV0gPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnNba2V5XSkgPyAoaW5kZXggPCA2ID8gJGludGVycG9sYXRlKCRhdHRyc1trZXldKSgkc2NvcGUuJHBhcmVudCkgOiAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnNba2V5XSkpIDogZGF0ZXBpY2tlckNvbmZpZ1trZXldO1xuICB9KTtcblxuICAvLyBXYXRjaGFibGUgZGF0ZSBhdHRyaWJ1dGVzXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ21pbkRhdGUnLCAnbWF4RGF0ZSddLCBmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoJGF0dHJzW2tleV0pIHtcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzW2tleV0pLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBzZWxmW2tleV0gPSB2YWx1ZSA/IG5ldyBEYXRlKHZhbHVlKSA6IG51bGw7XG4gICAgICAgIHNlbGYucmVmcmVzaFZpZXcoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmW2tleV0gPSBkYXRlcGlja2VyQ29uZmlnW2tleV0gPyBuZXcgRGF0ZShkYXRlcGlja2VyQ29uZmlnW2tleV0pIDogbnVsbDtcbiAgICB9XG4gIH0pO1xuXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ21pbk1vZGUnLCAnbWF4TW9kZSddLCBmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoJGF0dHJzW2tleV0pIHtcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzW2tleV0pLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBzZWxmW2tleV0gPSBhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6ICRhdHRyc1trZXldO1xuICAgICAgICAkc2NvcGVba2V5XSA9IHNlbGZba2V5XTtcbiAgICAgICAgaWYgKChrZXkgPT0gJ21pbk1vZGUnICYmIHNlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpIDwgc2VsZi5tb2Rlcy5pbmRleE9mKHNlbGZba2V5XSkpIHx8IChrZXkgPT0gJ21heE1vZGUnICYmIHNlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpID4gc2VsZi5tb2Rlcy5pbmRleE9mKHNlbGZba2V5XSkpKSB7XG4gICAgICAgICAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gc2VsZltrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZltrZXldID0gZGF0ZXBpY2tlckNvbmZpZ1trZXldIHx8IG51bGw7XG4gICAgICAkc2NvcGVba2V5XSA9IHNlbGZba2V5XTtcbiAgICB9XG4gIH0pO1xuXG4gICRzY29wZS5kYXRlcGlja2VyTW9kZSA9ICRzY29wZS5kYXRlcGlja2VyTW9kZSB8fCBkYXRlcGlja2VyQ29uZmlnLmRhdGVwaWNrZXJNb2RlO1xuICAkc2NvcGUudW5pcXVlSWQgPSAnZGF0ZXBpY2tlci0nICsgJHNjb3BlLiRpZCArICctJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcblxuICBpZiAoYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmluaXREYXRlKSkge1xuICAgIHRoaXMuYWN0aXZlRGF0ZSA9ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5pbml0RGF0ZSkgfHwgbmV3IERhdGUoKTtcbiAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJGF0dHJzLmluaXREYXRlLCBmdW5jdGlvbihpbml0RGF0ZSkge1xuICAgICAgaWYgKGluaXREYXRlICYmIChuZ01vZGVsQ3RybC4kaXNFbXB0eShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSkgfHwgbmdNb2RlbEN0cmwuJGludmFsaWQpKSB7XG4gICAgICAgIHNlbGYuYWN0aXZlRGF0ZSA9IGluaXREYXRlO1xuICAgICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5hY3RpdmVEYXRlID0gbmV3IERhdGUoKTtcbiAgfVxuXG4gICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKGRhdGVPYmplY3QpIHtcbiAgICBpZiAoc2VsZi5jb21wYXJlKGRhdGVPYmplY3QuZGF0ZSwgc2VsZi5hY3RpdmVEYXRlKSA9PT0gMCkge1xuICAgICAgJHNjb3BlLmFjdGl2ZURhdGVJZCA9IGRhdGVPYmplY3QudWlkO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8pIHtcbiAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsXztcblxuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYucmVuZGVyKCk7XG4gICAgfTtcbiAgfTtcblxuICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSB7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpLFxuICAgICAgICAgIGlzVmFsaWQgPSAhaXNOYU4oZGF0ZSk7XG5cbiAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlRGF0ZSA9IGRhdGU7XG4gICAgICB9IGVsc2UgaWYgKCEkZGF0ZXBpY2tlclN1cHByZXNzRXJyb3IpIHtcbiAgICAgICAgJGxvZy5lcnJvcignRGF0ZXBpY2tlciBkaXJlY3RpdmU6IFwibmctbW9kZWxcIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVmcmVzaFZpZXcoKTtcbiAgfTtcblxuICB0aGlzLnJlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgdGhpcy5fcmVmcmVzaFZpZXcoKTtcblxuICAgICAgdmFyIGRhdGUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID8gbmV3IERhdGUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkgOiBudWxsO1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdkYXRlRGlzYWJsZWQnLCAhZGF0ZSB8fCAodGhpcy5lbGVtZW50ICYmICF0aGlzLmlzRGlzYWJsZWQoZGF0ZSkpKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5jcmVhdGVEYXRlT2JqZWN0ID0gZnVuY3Rpb24oZGF0ZSwgZm9ybWF0KSB7XG4gICAgdmFyIG1vZGVsID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA/IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpIDogbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGxhYmVsOiBkYXRlRmlsdGVyKGRhdGUsIGZvcm1hdCksXG4gICAgICBzZWxlY3RlZDogbW9kZWwgJiYgdGhpcy5jb21wYXJlKGRhdGUsIG1vZGVsKSA9PT0gMCxcbiAgICAgIGRpc2FibGVkOiB0aGlzLmlzRGlzYWJsZWQoZGF0ZSksXG4gICAgICBjdXJyZW50OiB0aGlzLmNvbXBhcmUoZGF0ZSwgbmV3IERhdGUoKSkgPT09IDAsXG4gICAgICBjdXN0b21DbGFzczogdGhpcy5jdXN0b21DbGFzcyhkYXRlKVxuICAgIH07XG4gIH07XG5cbiAgdGhpcy5pc0Rpc2FibGVkID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHJldHVybiAoKHRoaXMubWluRGF0ZSAmJiB0aGlzLmNvbXBhcmUoZGF0ZSwgdGhpcy5taW5EYXRlKSA8IDApIHx8ICh0aGlzLm1heERhdGUgJiYgdGhpcy5jb21wYXJlKGRhdGUsIHRoaXMubWF4RGF0ZSkgPiAwKSB8fCAoJGF0dHJzLmRhdGVEaXNhYmxlZCAmJiAkc2NvcGUuZGF0ZURpc2FibGVkKHtkYXRlOiBkYXRlLCBtb2RlOiAkc2NvcGUuZGF0ZXBpY2tlck1vZGV9KSkpO1xuICB9O1xuXG4gIHRoaXMuY3VzdG9tQ2xhc3MgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgcmV0dXJuICRzY29wZS5jdXN0b21DbGFzcyh7ZGF0ZTogZGF0ZSwgbW9kZTogJHNjb3BlLmRhdGVwaWNrZXJNb2RlfSk7XG4gIH07XG5cbiAgLy8gU3BsaXQgYXJyYXkgaW50byBzbWFsbGVyIGFycmF5c1xuICB0aGlzLnNwbGl0ID0gZnVuY3Rpb24oYXJyLCBzaXplKSB7XG4gICAgdmFyIGFycmF5cyA9IFtdO1xuICAgIHdoaWxlIChhcnIubGVuZ3RoID4gMCkge1xuICAgICAgYXJyYXlzLnB1c2goYXJyLnNwbGljZSgwLCBzaXplKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheXM7XG4gIH07XG5cbiAgLy8gRml4IGEgaGFyZC1yZXByb2R1c2libGUgYnVnIHdpdGggdGltZXpvbmVzXG4gIC8vIFRoZSBidWcgZGVwZW5kcyBvbiBPUywgYnJvd3NlciwgY3VycmVudCB0aW1lem9uZSBhbmQgY3VycmVudCBkYXRlXG4gIC8vIGkuZS5cbiAgLy8gdmFyIGRhdGUgPSBuZXcgRGF0ZSgyMDE0LCAwLCAxKTtcbiAgLy8gY29uc29sZS5sb2coZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpLCBkYXRlLmdldEhvdXJzKCkpO1xuICAvLyBjYW4gcmVzdWx0IGluIFwiMjAxMyAxMSAzMSAyM1wiIGJlY2F1c2Ugb2YgdGhlIGJ1Zy5cbiAgdGhpcy5maXhUaW1lWm9uZSA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICB2YXIgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgZGF0ZS5zZXRIb3Vycyhob3VycyA9PT0gMjMgPyBob3VycyArIDIgOiAwKTtcbiAgfTtcblxuICAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIGlmICgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWluTW9kZSkge1xuICAgICAgdmFyIGR0ID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA/IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpIDogbmV3IERhdGUoMCwgMCwgMCwgMCwgMCwgMCwgMCk7XG4gICAgICBkdC5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpO1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShkdCk7XG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuYWN0aXZlRGF0ZSA9IGRhdGU7XG4gICAgICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPSBzZWxmLm1vZGVzW3NlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpIC0gMV07XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5tb3ZlID0gZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgdmFyIHllYXIgPSBzZWxmLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSArIGRpcmVjdGlvbiAqIChzZWxmLnN0ZXAueWVhcnMgfHwgMCksXG4gICAgICAgIG1vbnRoID0gc2VsZi5hY3RpdmVEYXRlLmdldE1vbnRoKCkgKyBkaXJlY3Rpb24gKiAoc2VsZi5zdGVwLm1vbnRocyB8fCAwKTtcbiAgICBzZWxmLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoeWVhciwgbW9udGgsIDEpO1xuICAgIHNlbGYucmVmcmVzaFZpZXcoKTtcbiAgfTtcblxuICAkc2NvcGUudG9nZ2xlTW9kZSA9IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICAgIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiB8fCAxO1xuXG4gICAgaWYgKCgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWF4TW9kZSAmJiBkaXJlY3Rpb24gPT09IDEpIHx8ICgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWluTW9kZSAmJiBkaXJlY3Rpb24gPT09IC0xKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICRzY29wZS5kYXRlcGlja2VyTW9kZSA9IHNlbGYubW9kZXNbc2VsZi5tb2Rlcy5pbmRleE9mKCRzY29wZS5kYXRlcGlja2VyTW9kZSkgKyBkaXJlY3Rpb25dO1xuICB9O1xuXG4gIC8vIEtleSBldmVudCBtYXBwZXJcbiAgJHNjb3BlLmtleXMgPSB7IDEzOiAnZW50ZXInLCAzMjogJ3NwYWNlJywgMzM6ICdwYWdldXAnLCAzNDogJ3BhZ2Vkb3duJywgMzU6ICdlbmQnLCAzNjogJ2hvbWUnLCAzNzogJ2xlZnQnLCAzODogJ3VwJywgMzk6ICdyaWdodCcsIDQwOiAnZG93bicgfTtcblxuICB2YXIgZm9jdXNFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5lbGVtZW50WzBdLmZvY3VzKCk7XG4gIH07XG5cbiAgLy8gTGlzdGVuIGZvciBmb2N1cyByZXF1ZXN0cyBmcm9tIHBvcHVwIGRpcmVjdGl2ZVxuICAkc2NvcGUuJG9uKCdkYXRlcGlja2VyLmZvY3VzJywgZm9jdXNFbGVtZW50KTtcblxuICAkc2NvcGUua2V5ZG93biA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIHZhciBrZXkgPSAkc2NvcGUua2V5c1tldnQud2hpY2hdO1xuXG4gICAgaWYgKCFrZXkgfHwgZXZ0LnNoaWZ0S2V5IHx8IGV2dC5hbHRLZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIXNlbGYuc2hvcnRjdXRQcm9wYWdhdGlvbikge1xuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdlbnRlcicgfHwga2V5ID09PSAnc3BhY2UnKSB7XG4gICAgICBpZiAoc2VsZi5pc0Rpc2FibGVkKHNlbGYuYWN0aXZlRGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXG4gICAgICB9XG4gICAgICAkc2NvcGUuc2VsZWN0KHNlbGYuYWN0aXZlRGF0ZSk7XG4gICAgICBmb2N1c0VsZW1lbnQoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5jdHJsS2V5ICYmIChrZXkgPT09ICd1cCcgfHwga2V5ID09PSAnZG93bicpKSB7XG4gICAgICAkc2NvcGUudG9nZ2xlTW9kZShrZXkgPT09ICd1cCcgPyAxIDogLTEpO1xuICAgICAgZm9jdXNFbGVtZW50KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuaGFuZGxlS2V5RG93bihrZXksIGV2dCk7XG4gICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ2RhdGVwaWNrZXInLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCc7XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgZGF0ZXBpY2tlck1vZGU6ICc9PycsXG4gICAgICBkYXRlRGlzYWJsZWQ6ICcmJyxcbiAgICAgIGN1c3RvbUNsYXNzOiAnJicsXG4gICAgICBzaG9ydGN1dFByb3BhZ2F0aW9uOiAnJj8nXG4gICAgfSxcbiAgICByZXF1aXJlOiBbJ2RhdGVwaWNrZXInLCAnXm5nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnRGF0ZXBpY2tlckNvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ2RhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBkYXRlcGlja2VyQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBkYXRlcGlja2VyQ3RybC5pbml0KG5nTW9kZWxDdHJsKTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkYXlwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbihkYXRlRmlsdGVyKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwnLFxuICAgIHJlcXVpcmU6ICdeZGF0ZXBpY2tlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgICBzY29wZS5zaG93V2Vla3MgPSBjdHJsLnNob3dXZWVrcztcblxuICAgICAgY3RybC5zdGVwID0geyBtb250aHM6IDEgfTtcbiAgICAgIGN0cmwuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIHZhciBEQVlTX0lOX01PTlRIID0gWzMxLCAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdO1xuICAgICAgZnVuY3Rpb24gZ2V0RGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcbiAgICAgICAgcmV0dXJuICgobW9udGggPT09IDEpICYmICh5ZWFyICUgNCA9PT0gMCkgJiYgKCh5ZWFyICUgMTAwICE9PSAwKSB8fCAoeWVhciAlIDQwMCA9PT0gMCkpKSA/IDI5IDogREFZU19JTl9NT05USFttb250aF07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldERhdGVzKHN0YXJ0RGF0ZSwgbikge1xuICAgICAgICB2YXIgZGF0ZXMgPSBuZXcgQXJyYXkobiksIGN1cnJlbnQgPSBuZXcgRGF0ZShzdGFydERhdGUpLCBpID0gMCwgZGF0ZTtcbiAgICAgICAgd2hpbGUgKGkgPCBuKSB7XG4gICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnQpO1xuICAgICAgICAgIGN0cmwuZml4VGltZVpvbmUoZGF0ZSk7XG4gICAgICAgICAgZGF0ZXNbaSsrXSA9IGRhdGU7XG4gICAgICAgICAgY3VycmVudC5zZXREYXRlKGN1cnJlbnQuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGVzO1xuICAgICAgfVxuXG4gICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgeWVhciA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgIG1vbnRoID0gY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgZmlyc3REYXlPZk1vbnRoID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpLFxuICAgICAgICAgIGRpZmZlcmVuY2UgPSBjdHJsLnN0YXJ0aW5nRGF5IC0gZmlyc3REYXlPZk1vbnRoLmdldERheSgpLFxuICAgICAgICAgIG51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoID0gKGRpZmZlcmVuY2UgPiAwKSA/IDcgLSBkaWZmZXJlbmNlIDogLSBkaWZmZXJlbmNlLFxuICAgICAgICAgIGZpcnN0RGF0ZSA9IG5ldyBEYXRlKGZpcnN0RGF5T2ZNb250aCk7XG5cbiAgICAgICAgaWYgKG51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoID4gMCkge1xuICAgICAgICAgIGZpcnN0RGF0ZS5zZXREYXRlKC1udW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNDIgaXMgdGhlIG51bWJlciBvZiBkYXlzIG9uIGEgc2l4LW1vbnRoIGNhbGVuZGFyXG4gICAgICAgIHZhciBkYXlzID0gZ2V0RGF0ZXMoZmlyc3REYXRlLCA0Mik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDI7IGkgKyspIHtcbiAgICAgICAgICBkYXlzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRheXNbaV0sIGN0cmwuZm9ybWF0RGF5KSwge1xuICAgICAgICAgICAgc2Vjb25kYXJ5OiBkYXlzW2ldLmdldE1vbnRoKCkgIT09IG1vbnRoLFxuICAgICAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLmxhYmVscyA9IG5ldyBBcnJheSg3KTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA3OyBqKyspIHtcbiAgICAgICAgICBzY29wZS5sYWJlbHNbal0gPSB7XG4gICAgICAgICAgICBhYmJyOiBkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSwgY3RybC5mb3JtYXREYXlIZWFkZXIpLFxuICAgICAgICAgICAgZnVsbDogZGF0ZUZpbHRlcihkYXlzW2pdLmRhdGUsICdFRUVFJylcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUudGl0bGUgPSBkYXRlRmlsdGVyKGN0cmwuYWN0aXZlRGF0ZSwgY3RybC5mb3JtYXREYXlUaXRsZSk7XG4gICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KGRheXMsIDcpO1xuXG4gICAgICAgIGlmIChzY29wZS5zaG93V2Vla3MpIHtcbiAgICAgICAgICBzY29wZS53ZWVrTnVtYmVycyA9IFtdO1xuICAgICAgICAgIHZhciB0aHVyc2RheUluZGV4ID0gKDQgKyA3IC0gY3RybC5zdGFydGluZ0RheSkgJSA3LFxuICAgICAgICAgICAgICBudW1XZWVrcyA9IHNjb3BlLnJvd3MubGVuZ3RoO1xuICAgICAgICAgIGZvciAodmFyIGN1cldlZWsgPSAwOyBjdXJXZWVrIDwgbnVtV2Vla3M7IGN1cldlZWsrKykge1xuICAgICAgICAgICAgc2NvcGUud2Vla051bWJlcnMucHVzaChcbiAgICAgICAgICAgICAgZ2V0SVNPODYwMVdlZWtOdW1iZXIoc2NvcGUucm93c1tjdXJXZWVrXVt0aHVyc2RheUluZGV4XS5kYXRlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgcmV0dXJuIChuZXcgRGF0ZShkYXRlMS5nZXRGdWxsWWVhcigpLCBkYXRlMS5nZXRNb250aCgpLCBkYXRlMS5nZXREYXRlKCkpIC0gbmV3IERhdGUoZGF0ZTIuZ2V0RnVsbFllYXIoKSwgZGF0ZTIuZ2V0TW9udGgoKSwgZGF0ZTIuZ2V0RGF0ZSgpKSk7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBnZXRJU084NjAxV2Vla051bWJlcihkYXRlKSB7XG4gICAgICAgIHZhciBjaGVja0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgICAgY2hlY2tEYXRlLnNldERhdGUoY2hlY2tEYXRlLmdldERhdGUoKSArIDQgLSAoY2hlY2tEYXRlLmdldERheSgpIHx8IDcpKTsgLy8gVGh1cnNkYXlcbiAgICAgICAgdmFyIHRpbWUgPSBjaGVja0RhdGUuZ2V0VGltZSgpO1xuICAgICAgICBjaGVja0RhdGUuc2V0TW9udGgoMCk7IC8vIENvbXBhcmUgd2l0aCBKYW4gMVxuICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZSgxKTtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZSAtIGNoZWNrRGF0ZSkgLyA4NjQwMDAwMCkgLyA3KSArIDE7XG4gICAgICB9XG5cbiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGtleSwgZXZ0KSB7XG4gICAgICAgIHZhciBkYXRlID0gY3RybC5hY3RpdmVEYXRlLmdldERhdGUoKTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDE7ICAgLy8gdXBcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICd1cCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDc7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgMTsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZG93bicpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDc7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncGFnZXVwJyB8fCBrZXkgPT09ICdwYWdlZG93bicpIHtcbiAgICAgICAgICB2YXIgbW9udGggPSBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSArIChrZXkgPT09ICdwYWdldXAnID8gLSAxIDogMSk7XG4gICAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldE1vbnRoKG1vbnRoLCAxKTtcbiAgICAgICAgICBkYXRlID0gTWF0aC5taW4oZ2V0RGF5c0luTW9udGgoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksIGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKSwgZGF0ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnaG9tZScpIHtcbiAgICAgICAgICBkYXRlID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdlbmQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGdldERheXNJbk1vbnRoKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLCBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldERhdGUoZGF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ21vbnRocGlja2VyJywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24oZGF0ZUZpbHRlcikge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwnLFxuICAgIHJlcXVpcmU6ICdeZGF0ZXBpY2tlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgICBjdHJsLnN0ZXAgPSB7IHllYXJzOiAxIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbW9udGhzID0gbmV3IEFycmF5KDEyKSxcbiAgICAgICAgICAgIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgIGRhdGU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIGksIDEpO1xuICAgICAgICAgIGN0cmwuZml4VGltZVpvbmUoZGF0ZSk7XG4gICAgICAgICAgbW9udGhzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRhdGUsIGN0cmwuZm9ybWF0TW9udGgpLCB7XG4gICAgICAgICAgICB1aWQ6IHNjb3BlLnVuaXF1ZUlkICsgJy0nICsgaVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUudGl0bGUgPSBkYXRlRmlsdGVyKGN0cmwuYWN0aXZlRGF0ZSwgY3RybC5mb3JtYXRNb250aFRpdGxlKTtcbiAgICAgICAgc2NvcGUucm93cyA9IGN0cmwuc3BsaXQobW9udGhzLCAzKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSkgLSBuZXcgRGF0ZShkYXRlMi5nZXRGdWxsWWVhcigpLCBkYXRlMi5nZXRNb250aCgpKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGtleSwgZXZ0KSB7XG4gICAgICAgIHZhciBkYXRlID0gY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAxOyAgIC8vIHVwXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAzOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDE7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAzO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3BhZ2V1cCcgfHwga2V5ID09PSAncGFnZWRvd24nKSB7XG4gICAgICAgICAgdmFyIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSArIChrZXkgPT09ICdwYWdldXAnID8gLSAxIDogMSk7XG4gICAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7XG4gICAgICAgICAgZGF0ZSA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgICAgIGRhdGUgPSAxMTtcbiAgICAgICAgfVxuICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0TW9udGgoZGF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3llYXJwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbihkYXRlRmlsdGVyKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sJyxcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgdmFyIHJhbmdlID0gY3RybC55ZWFyUmFuZ2U7XG5cbiAgICAgIGN0cmwuc3RlcCA9IHsgeWVhcnM6IHJhbmdlIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICBmdW5jdGlvbiBnZXRTdGFydGluZ1llYXIoIHllYXIgKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCgoeWVhciAtIDEpIC8gcmFuZ2UsIDEwKSAqIHJhbmdlICsgMTtcbiAgICAgIH1cblxuICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHllYXJzID0gbmV3IEFycmF5KHJhbmdlKSwgZGF0ZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgc3RhcnQgPSBnZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpOyBpIDwgcmFuZ2U7IGkrKykge1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShzdGFydCArIGksIDAsIDEpO1xuICAgICAgICAgIGN0cmwuZml4VGltZVpvbmUoZGF0ZSk7XG4gICAgICAgICAgeWVhcnNbaV0gPSBhbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QoZGF0ZSwgY3RybC5mb3JtYXRZZWFyKSwge1xuICAgICAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnRpdGxlID0gW3llYXJzWzBdLmxhYmVsLCB5ZWFyc1tyYW5nZSAtIDFdLmxhYmVsXS5qb2luKCcgLSAnKTtcbiAgICAgICAgc2NvcGUucm93cyA9IGN0cmwuc3BsaXQoeWVhcnMsIDUpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgIHJldHVybiBkYXRlMS5nZXRGdWxsWWVhcigpIC0gZGF0ZTIuZ2V0RnVsbFllYXIoKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGtleSwgZXZ0KSB7XG4gICAgICAgIHZhciBkYXRlID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAxOyAgIC8vIHVwXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSA1OyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDE7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyA1O1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3BhZ2V1cCcgfHwga2V5ID09PSAncGFnZWRvd24nKSB7XG4gICAgICAgICAgZGF0ZSArPSAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpICogY3RybC5zdGVwLnllYXJzO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7XG4gICAgICAgICAgZGF0ZSA9IGdldFN0YXJ0aW5nWWVhcihjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpICsgcmFuZ2UgLSAxO1xuICAgICAgICB9XG4gICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcihkYXRlKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmNvbnN0YW50KCdkYXRlcGlja2VyUG9wdXBDb25maWcnLCB7XG4gIGRhdGVwaWNrZXJQb3B1cDogJ3l5eXktTU0tZGQnLFxuICBkYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCcsXG4gIGRhdGVwaWNrZXJUZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sJyxcbiAgaHRtbDVUeXBlczoge1xuICAgIGRhdGU6ICd5eXl5LU1NLWRkJyxcbiAgICAnZGF0ZXRpbWUtbG9jYWwnOiAneXl5eS1NTS1kZFRISDptbTpzcy5zc3MnLFxuICAgICdtb250aCc6ICd5eXl5LU1NJ1xuICB9LFxuICBjdXJyZW50VGV4dDogJ1RvZGF5JyxcbiAgY2xlYXJUZXh0OiAnQ2xlYXInLFxuICBjbG9zZVRleHQ6ICdEb25lJyxcbiAgY2xvc2VPbkRhdGVTZWxlY3Rpb246IHRydWUsXG4gIGFwcGVuZFRvQm9keTogZmFsc2UsXG4gIHNob3dCdXR0b25CYXI6IHRydWUsXG4gIG9uT3BlbkZvY3VzOiB0cnVlXG59KVxuXG4uZGlyZWN0aXZlKCdkYXRlcGlja2VyUG9wdXAnLCBbJyRjb21waWxlJywgJyRwYXJzZScsICckZG9jdW1lbnQnLCAnJHJvb3RTY29wZScsICckcG9zaXRpb24nLCAnZGF0ZUZpbHRlcicsICdkYXRlUGFyc2VyJywgJ2RhdGVwaWNrZXJQb3B1cENvbmZpZycsICckdGltZW91dCcsXG5mdW5jdGlvbigkY29tcGlsZSwgJHBhcnNlLCAkZG9jdW1lbnQsICRyb290U2NvcGUsICRwb3NpdGlvbiwgZGF0ZUZpbHRlciwgZGF0ZVBhcnNlciwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnLCAkdGltZW91dCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICBzY29wZToge1xuICAgICAgaXNPcGVuOiAnPT8nLFxuICAgICAgY3VycmVudFRleHQ6ICdAJyxcbiAgICAgIGNsZWFyVGV4dDogJ0AnLFxuICAgICAgY2xvc2VUZXh0OiAnQCcsXG4gICAgICBkYXRlRGlzYWJsZWQ6ICcmJyxcbiAgICAgIGN1c3RvbUNsYXNzOiAnJidcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgdmFyIGRhdGVGb3JtYXQsXG4gICAgICAgICAgY2xvc2VPbkRhdGVTZWxlY3Rpb24gPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5jbG9zZU9uRGF0ZVNlbGVjdGlvbixcbiAgICAgICAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlckFwcGVuZFRvQm9keSkgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuYXBwZW5kVG9Cb2R5LFxuICAgICAgICAgIG9uT3BlbkZvY3VzID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMub25PcGVuRm9jdXMpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5vbk9wZW5Gb2N1cykgOiBkYXRlcGlja2VyUG9wdXBDb25maWcub25PcGVuRm9jdXMsXG4gICAgICAgICAgZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybCkgPyBhdHRycy5kYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybCA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybCxcbiAgICAgICAgICBkYXRlcGlja2VyVGVtcGxhdGVVcmwgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyVGVtcGxhdGVVcmwpID8gYXR0cnMuZGF0ZXBpY2tlclRlbXBsYXRlVXJsIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmRhdGVwaWNrZXJUZW1wbGF0ZVVybCxcbiAgICAgICAgICBjYWNoZSA9IHt9O1xuXG4gICAgICBzY29wZS5zaG93QnV0dG9uQmFyID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuc2hvd0J1dHRvbkJhcikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnNob3dCdXR0b25CYXIpIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLnNob3dCdXR0b25CYXI7XG5cbiAgICAgIHNjb3BlLmdldFRleHQgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIHNjb3BlW2tleSArICdUZXh0J10gfHwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnW2tleSArICdUZXh0J107XG4gICAgICB9O1xuXG4gICAgICBzY29wZS5pc0Rpc2FibGVkID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICBpZiAoZGF0ZSA9PT0gJ3RvZGF5Jykge1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgoc2NvcGUud2F0Y2hEYXRhLm1pbkRhdGUgJiYgc2NvcGUuY29tcGFyZShkYXRlLCBjYWNoZS5taW5EYXRlKSA8IDApIHx8XG4gICAgICAgICAgKHNjb3BlLndhdGNoRGF0YS5tYXhEYXRlICYmIHNjb3BlLmNvbXBhcmUoZGF0ZSwgY2FjaGUubWF4RGF0ZSkgPiAwKSk7XG4gICAgICB9O1xuXG4gICAgICBzY29wZS5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgIHJldHVybiAobmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSwgZGF0ZTEuZ2V0RGF0ZSgpKSAtIG5ldyBEYXRlKGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCksIGRhdGUyLmdldERhdGUoKSkpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGlzSHRtbDVEYXRlSW5wdXQgPSBmYWxzZTtcbiAgICAgIGlmIChkYXRlcGlja2VyUG9wdXBDb25maWcuaHRtbDVUeXBlc1thdHRycy50eXBlXSkge1xuICAgICAgICBkYXRlRm9ybWF0ID0gZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmh0bWw1VHlwZXNbYXR0cnMudHlwZV07XG4gICAgICAgIGlzSHRtbDVEYXRlSW5wdXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0ZUZvcm1hdCA9IGF0dHJzLmRhdGVwaWNrZXJQb3B1cCB8fCBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwO1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZGF0ZXBpY2tlclBvcHVwJywgZnVuY3Rpb24odmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbmV3RGF0ZUZvcm1hdCA9IHZhbHVlIHx8IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyUG9wdXA7XG4gICAgICAgICAgICAvLyBJbnZhbGlkYXRlIHRoZSAkbW9kZWxWYWx1ZSB0byBlbnN1cmUgdGhhdCBmb3JtYXR0ZXJzIHJlLXJ1blxuICAgICAgICAgICAgLy8gRklYTUU6IFJlZmFjdG9yIHdoZW4gUFIgaXMgbWVyZ2VkOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMTA3NjRcbiAgICAgICAgICAgIGlmIChuZXdEYXRlRm9ybWF0ICE9PSBkYXRlRm9ybWF0KSB7XG4gICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBuZXdEYXRlRm9ybWF0O1xuICAgICAgICAgICAgICBuZ01vZGVsLiRtb2RlbFZhbHVlID0gbnVsbDtcblxuICAgICAgICAgICAgICBpZiAoIWRhdGVGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGVwaWNrZXJQb3B1cCBtdXN0IGhhdmUgYSBkYXRlIGZvcm1hdCBzcGVjaWZpZWQuJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZGF0ZUZvcm1hdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGVwaWNrZXJQb3B1cCBtdXN0IGhhdmUgYSBkYXRlIGZvcm1hdCBzcGVjaWZpZWQuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0h0bWw1RGF0ZUlucHV0ICYmIGF0dHJzLmRhdGVwaWNrZXJQb3B1cCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hUTUw1IGRhdGUgaW5wdXQgdHlwZXMgZG8gbm90IHN1cHBvcnQgY3VzdG9tIGZvcm1hdHMuJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHBvcHVwIGVsZW1lbnQgdXNlZCB0byBkaXNwbGF5IGNhbGVuZGFyXG4gICAgICB2YXIgcG9wdXBFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBkYXRlcGlja2VyLXBvcHVwLXdyYXA+PGRpdiBkYXRlcGlja2VyPjwvZGl2PjwvZGl2PicpO1xuICAgICAgcG9wdXBFbC5hdHRyKHtcbiAgICAgICAgJ25nLW1vZGVsJzogJ2RhdGUnLFxuICAgICAgICAnbmctY2hhbmdlJzogJ2RhdGVTZWxlY3Rpb24oZGF0ZSknLFxuICAgICAgICAndGVtcGxhdGUtdXJsJzogZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmxcbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiBjYW1lbHRvRGFzaChzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oW0EtWl0pL2csIGZ1bmN0aW9uKCQxKSB7IHJldHVybiAnLScgKyAkMS50b0xvd2VyQ2FzZSgpOyB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gZGF0ZXBpY2tlciBlbGVtZW50XG4gICAgICB2YXIgZGF0ZXBpY2tlckVsID0gYW5ndWxhci5lbGVtZW50KHBvcHVwRWwuY2hpbGRyZW4oKVswXSk7XG4gICAgICBkYXRlcGlja2VyRWwuYXR0cigndGVtcGxhdGUtdXJsJywgZGF0ZXBpY2tlclRlbXBsYXRlVXJsKTtcblxuICAgICAgaWYgKGlzSHRtbDVEYXRlSW5wdXQpIHtcbiAgICAgICAgaWYgKGF0dHJzLnR5cGUgPT09ICdtb250aCcpIHtcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignZGF0ZXBpY2tlci1tb2RlJywgJ1wibW9udGhcIicpO1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdtaW4tbW9kZScsICdtb250aCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycy5kYXRlcGlja2VyT3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMpO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmluaXREYXRlKSB7XG4gICAgICAgICAgc2NvcGUuaW5pdERhdGUgPSBvcHRpb25zLmluaXREYXRlO1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdpbml0LWRhdGUnLCAnaW5pdERhdGUnKTtcbiAgICAgICAgICBkZWxldGUgb3B0aW9ucy5pbml0RGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBhbmd1bGFyLmZvckVhY2gob3B0aW9ucywgZnVuY3Rpb24odmFsdWUsIG9wdGlvbikge1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCBjYW1lbHRvRGFzaChvcHRpb24pLCB2YWx1ZSApO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgc2NvcGUud2F0Y2hEYXRhID0ge307XG4gICAgICBhbmd1bGFyLmZvckVhY2goWydtaW5Nb2RlJywgJ21heE1vZGUnLCAnbWluRGF0ZScsICdtYXhEYXRlJywgJ2RhdGVwaWNrZXJNb2RlJywgJ2luaXREYXRlJywgJ3Nob3J0Y3V0UHJvcGFnYXRpb24nXSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChhdHRyc1trZXldKSB7XG4gICAgICAgICAgdmFyIGdldEF0dHJpYnV0ZSA9ICRwYXJzZShhdHRyc1trZXldKTtcbiAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaChnZXRBdHRyaWJ1dGUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBzY29wZS53YXRjaERhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ21pbkRhdGUnIHx8IGtleSA9PT0gJ21heERhdGUnKSB7XG4gICAgICAgICAgICAgIGNhY2hlW2tleV0gPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoY2FtZWx0b0Rhc2goa2V5KSwgJ3dhdGNoRGF0YS4nICsga2V5KTtcblxuICAgICAgICAgIC8vIFByb3BhZ2F0ZSBjaGFuZ2VzIGZyb20gZGF0ZXBpY2tlciB0byBvdXRzaWRlXG4gICAgICAgICAgaWYgKGtleSA9PT0gJ2RhdGVwaWNrZXJNb2RlJykge1xuICAgICAgICAgICAgdmFyIHNldEF0dHJpYnV0ZSA9IGdldEF0dHJpYnV0ZS5hc3NpZ247XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goJ3dhdGNoRGF0YS4nICsga2V5LCBmdW5jdGlvbih2YWx1ZSwgb2xkdmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzZXRBdHRyaWJ1dGUpICYmIHZhbHVlICE9PSBvbGR2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldEF0dHJpYnV0ZShzY29wZS4kcGFyZW50LCB2YWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoYXR0cnMuZGF0ZURpc2FibGVkKSB7XG4gICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdkYXRlLWRpc2FibGVkJywgJ2RhdGVEaXNhYmxlZCh7IGRhdGU6IGRhdGUsIG1vZGU6IG1vZGUgfSknKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGF0dHJzLnNob3dXZWVrcykge1xuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignc2hvdy13ZWVrcycsIGF0dHJzLnNob3dXZWVrcyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycy5jdXN0b21DbGFzcykge1xuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignY3VzdG9tLWNsYXNzJywgJ2N1c3RvbUNsYXNzKHsgZGF0ZTogZGF0ZSwgbW9kZTogbW9kZSB9KScpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwYXJzZURhdGUodmlld1ZhbHVlKSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICAvLyBwcmVzdW1hYmx5IHRpbWVzdGFtcCB0byBkYXRlIG9iamVjdFxuICAgICAgICAgIHZpZXdWYWx1ZSA9IG5ldyBEYXRlKHZpZXdWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXZpZXdWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEYXRlKHZpZXdWYWx1ZSkgJiYgIWlzTmFOKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmlld1ZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmlld1ZhbHVlKSkge1xuICAgICAgICAgIHZhciBkYXRlID0gZGF0ZVBhcnNlci5wYXJzZSh2aWV3VmFsdWUsIGRhdGVGb3JtYXQsIHNjb3BlLmRhdGUpO1xuICAgICAgICAgIGlmIChpc05hTihkYXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdmFsaWRhdG9yKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcblxuICAgICAgICBpZiAoIWF0dHJzLm5nUmVxdWlyZWQgJiYgIXZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0RhdGUodmFsdWUpICYmICFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgIHZhciBkYXRlID0gZGF0ZVBhcnNlci5wYXJzZSh2YWx1ZSwgZGF0ZUZvcm1hdCk7XG4gICAgICAgICAgcmV0dXJuICFpc05hTihkYXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0h0bWw1RGF0ZUlucHV0KSB7XG4gICAgICAgIC8vIEludGVybmFsIEFQSSB0byBtYWludGFpbiB0aGUgY29ycmVjdCBuZy1pbnZhbGlkLVtrZXldIGNsYXNzXG4gICAgICAgIG5nTW9kZWwuJCRwYXJzZXJOYW1lID0gJ2RhdGUnO1xuICAgICAgICBuZ01vZGVsLiR2YWxpZGF0b3JzLmRhdGUgPSB2YWxpZGF0b3I7XG4gICAgICAgIG5nTW9kZWwuJHBhcnNlcnMudW5zaGlmdChwYXJzZURhdGUpO1xuICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5kYXRlID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIG5nTW9kZWwuJGlzRW1wdHkodmFsdWUpID8gdmFsdWUgOiBkYXRlRmlsdGVyKHZhbHVlLCBkYXRlRm9ybWF0KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5kYXRlID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5uZXIgY2hhbmdlXG4gICAgICBzY29wZS5kYXRlU2VsZWN0aW9uID0gZnVuY3Rpb24oZHQpIHtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGR0KSkge1xuICAgICAgICAgIHNjb3BlLmRhdGUgPSBkdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0ZSA9IHNjb3BlLmRhdGUgPyBkYXRlRmlsdGVyKHNjb3BlLmRhdGUsIGRhdGVGb3JtYXQpIDogbnVsbDsgLy8gU2V0dGluZyB0byBOVUxMIGlzIG5lY2Vzc2FyeSBmb3IgZm9ybSB2YWxpZGF0b3JzIHRvIGZ1bmN0aW9uXG4gICAgICAgIGVsZW1lbnQudmFsKGRhdGUpO1xuICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoZGF0ZSk7XG5cbiAgICAgICAgaWYgKGNsb3NlT25EYXRlU2VsZWN0aW9uKSB7XG4gICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBEZXRlY3QgY2hhbmdlcyBpbiB0aGUgdmlldyBmcm9tIHRoZSB0ZXh0IGJveFxuICAgICAgbmdNb2RlbC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBzY29wZS5kYXRlID0gZGF0ZVBhcnNlci5wYXJzZShuZ01vZGVsLiR2aWV3VmFsdWUsIGRhdGVGb3JtYXQsIHNjb3BlLmRhdGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBkb2N1bWVudENsaWNrQmluZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChzY29wZS5pc09wZW4gJiYgIShlbGVtZW50WzBdLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHwgcG9wdXBFbFswXS5jb250YWlucyhldmVudC50YXJnZXQpKSkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgaW5wdXRLZXlkb3duQmluZCA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoZXZ0LndoaWNoID09PSAyNyAmJiBzY29wZS5pc09wZW4pIHtcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2dC53aGljaCA9PT0gNDAgJiYgIXNjb3BlLmlzT3Blbikge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSB0cnVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgaW5wdXRLZXlkb3duQmluZCk7XG5cbiAgICAgIHNjb3BlLmtleWRvd24gPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKGV2dC53aGljaCA9PT0gMjcpIHtcbiAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUucG9zaXRpb24gPSBhcHBlbmRUb0JvZHkgPyAkcG9zaXRpb24ub2Zmc2V0KGVsZW1lbnQpIDogJHBvc2l0aW9uLnBvc2l0aW9uKGVsZW1lbnQpO1xuICAgICAgICAgIHNjb3BlLnBvc2l0aW9uLnRvcCA9IHNjb3BlLnBvc2l0aW9uLnRvcCArIGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG5cbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChvbk9wZW5Gb2N1cykge1xuICAgICAgICAgICAgICBzY29wZS4kYnJvYWRjYXN0KCdkYXRlcGlja2VyLmZvY3VzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkZG9jdW1lbnQuYmluZCgnY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7XG4gICAgICAgICAgfSwgMCwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgZG9jdW1lbnRDbGlja0JpbmQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICBpZiAoZGF0ZSA9PT0gJ3RvZGF5Jykge1xuICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKHNjb3BlLmRhdGUpKSB7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoc2NvcGUuZGF0ZSk7XG4gICAgICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIHRvZGF5LmdldERhdGUoKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjb3BlLmRhdGVTZWxlY3Rpb24oZGF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgfTtcblxuICAgICAgdmFyICRwb3B1cCA9ICRjb21waWxlKHBvcHVwRWwpKHNjb3BlKTtcbiAgICAgIC8vIFByZXZlbnQgalF1ZXJ5IGNhY2hlIG1lbW9yeSBsZWFrICh0ZW1wbGF0ZSBpcyBub3cgcmVkdW5kYW50IGFmdGVyIGxpbmtpbmcpXG4gICAgICBwb3B1cEVsLnJlbW92ZSgpO1xuXG4gICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYXBwZW5kKCRwb3B1cCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LmFmdGVyKCRwb3B1cCk7XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHNjb3BlLmlzT3BlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJHBvcHVwLnJlbW92ZSgpO1xuICAgICAgICBlbGVtZW50LnVuYmluZCgna2V5ZG93bicsIGlucHV0S2V5ZG93bkJpbmQpO1xuICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdkYXRlcGlja2VyUG9wdXBXcmFwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6J0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCc7XG4gICAgfVxuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZHJvcGRvd24nLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4uY29uc3RhbnQoJ2Ryb3Bkb3duQ29uZmlnJywge1xuICBvcGVuQ2xhc3M6ICdvcGVuJ1xufSlcblxuLnNlcnZpY2UoJ2Ryb3Bkb3duU2VydmljZScsIFsnJGRvY3VtZW50JywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkZG9jdW1lbnQsICRyb290U2NvcGUpIHtcbiAgdmFyIG9wZW5TY29wZSA9IG51bGw7XG5cbiAgdGhpcy5vcGVuID0gZnVuY3Rpb24oZHJvcGRvd25TY29wZSkge1xuICAgIGlmICghb3BlblNjb3BlKSB7XG4gICAgICAkZG9jdW1lbnQuYmluZCgnY2xpY2snLCBjbG9zZURyb3Bkb3duKTtcbiAgICAgICRkb2N1bWVudC5iaW5kKCdrZXlkb3duJywga2V5YmluZEZpbHRlcik7XG4gICAgfVxuXG4gICAgaWYgKG9wZW5TY29wZSAmJiBvcGVuU2NvcGUgIT09IGRyb3Bkb3duU2NvcGUpIHtcbiAgICAgIG9wZW5TY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvcGVuU2NvcGUgPSBkcm9wZG93blNjb3BlO1xuICB9O1xuXG4gIHRoaXMuY2xvc2UgPSBmdW5jdGlvbihkcm9wZG93blNjb3BlKSB7XG4gICAgaWYgKG9wZW5TY29wZSA9PT0gZHJvcGRvd25TY29wZSkge1xuICAgICAgb3BlblNjb3BlID0gbnVsbDtcbiAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgY2xvc2VEcm9wZG93bik7XG4gICAgICAkZG9jdW1lbnQudW5iaW5kKCdrZXlkb3duJywga2V5YmluZEZpbHRlcik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjbG9zZURyb3Bkb3duID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgLy8gVGhpcyBtZXRob2QgbWF5IHN0aWxsIGJlIGNhbGxlZCBkdXJpbmcgdGhlIHNhbWUgbW91c2UgZXZlbnQgdGhhdFxuICAgIC8vIHVuYm91bmQgdGhpcyBldmVudCBoYW5kbGVyLiBTbyBjaGVjayBvcGVuU2NvcGUgYmVmb3JlIHByb2NlZWRpbmcuXG4gICAgaWYgKCFvcGVuU2NvcGUpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAoZXZ0ICYmIG9wZW5TY29wZS5nZXRBdXRvQ2xvc2UoKSA9PT0gJ2Rpc2FibGVkJykgIHsgcmV0dXJuIDsgfVxuXG4gICAgdmFyIHRvZ2dsZUVsZW1lbnQgPSBvcGVuU2NvcGUuZ2V0VG9nZ2xlRWxlbWVudCgpO1xuICAgIGlmIChldnQgJiYgdG9nZ2xlRWxlbWVudCAmJiB0b2dnbGVFbGVtZW50WzBdLmNvbnRhaW5zKGV2dC50YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRyb3Bkb3duRWxlbWVudCA9IG9wZW5TY29wZS5nZXREcm9wZG93bkVsZW1lbnQoKTtcbiAgICBpZiAoZXZ0ICYmIG9wZW5TY29wZS5nZXRBdXRvQ2xvc2UoKSA9PT0gJ291dHNpZGVDbGljaycgJiZcbiAgICAgIGRyb3Bkb3duRWxlbWVudCAmJiBkcm9wZG93bkVsZW1lbnRbMF0uY29udGFpbnMoZXZ0LnRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvcGVuU2NvcGUuaXNPcGVuID0gZmFsc2U7XG5cbiAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgb3BlblNjb3BlLiRhcHBseSgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIga2V5YmluZEZpbHRlciA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICBvcGVuU2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50KCk7XG4gICAgICBjbG9zZURyb3Bkb3duKCk7XG4gICAgfSBlbHNlIGlmIChvcGVuU2NvcGUuaXNLZXluYXZFbmFibGVkKCkgJiYgLygzOHw0MCkvLnRlc3QoZXZ0LndoaWNoKSAmJiBvcGVuU2NvcGUuaXNPcGVuKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIG9wZW5TY29wZS5mb2N1c0Ryb3Bkb3duRW50cnkoZXZ0LndoaWNoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmNvbnRyb2xsZXIoJ0Ryb3Bkb3duQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnZHJvcGRvd25Db25maWcnLCAnZHJvcGRvd25TZXJ2aWNlJywgJyRhbmltYXRlJywgJyRwb3NpdGlvbicsICckZG9jdW1lbnQnLCAnJGNvbXBpbGUnLCAnJHRlbXBsYXRlUmVxdWVzdCcsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UsIGRyb3Bkb3duQ29uZmlnLCBkcm9wZG93blNlcnZpY2UsICRhbmltYXRlLCAkcG9zaXRpb24sICRkb2N1bWVudCwgJGNvbXBpbGUsICR0ZW1wbGF0ZVJlcXVlc3QpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgIHNjb3BlID0gJHNjb3BlLiRuZXcoKSwgLy8gY3JlYXRlIGEgY2hpbGQgc2NvcGUgc28gd2UgYXJlIG5vdCBwb2xsdXRpbmcgb3JpZ2luYWwgb25lXG4gICAgdGVtcGxhdGVTY29wZSxcbiAgICBvcGVuQ2xhc3MgPSBkcm9wZG93bkNvbmZpZy5vcGVuQ2xhc3MsXG4gICAgZ2V0SXNPcGVuLFxuICAgIHNldElzT3BlbiA9IGFuZ3VsYXIubm9vcCxcbiAgICB0b2dnbGVJbnZva2VyID0gJGF0dHJzLm9uVG9nZ2xlID8gJHBhcnNlKCRhdHRycy5vblRvZ2dsZSkgOiBhbmd1bGFyLm5vb3AsXG4gICAgYXBwZW5kVG9Cb2R5ID0gZmFsc2UsXG4gICAga2V5bmF2RW5hYmxlZCA9IGZhbHNlLFxuICAgIHNlbGVjdGVkT3B0aW9uID0gbnVsbCxcbiAgICBib2R5ID0gJGRvY3VtZW50LmZpbmQoJ2JvZHknKTtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgc2VsZi4kZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICBpZiAoJGF0dHJzLmlzT3Blbikge1xuICAgICAgZ2V0SXNPcGVuID0gJHBhcnNlKCRhdHRycy5pc09wZW4pO1xuICAgICAgc2V0SXNPcGVuID0gZ2V0SXNPcGVuLmFzc2lnbjtcblxuICAgICAgJHNjb3BlLiR3YXRjaChnZXRJc09wZW4sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNjb3BlLmlzT3BlbiA9ICEhdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuZHJvcGRvd25BcHBlbmRUb0JvZHkpO1xuICAgIGtleW5hdkVuYWJsZWQgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMua2V5Ym9hcmROYXYpO1xuXG4gICAgaWYgKGFwcGVuZFRvQm9keSAmJiBzZWxmLmRyb3Bkb3duTWVudSkge1xuICAgICAgYm9keS5hcHBlbmQoc2VsZi5kcm9wZG93bk1lbnUpO1xuICAgICAgYm9keS5hZGRDbGFzcygnZHJvcGRvd24nKTtcbiAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24gaGFuZGxlRGVzdHJveUV2ZW50KCkge1xuICAgICAgICBzZWxmLmRyb3Bkb3duTWVudS5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uKG9wZW4pIHtcbiAgICByZXR1cm4gc2NvcGUuaXNPcGVuID0gYXJndW1lbnRzLmxlbmd0aCA/ICEhb3BlbiA6ICFzY29wZS5pc09wZW47XG4gIH07XG5cbiAgLy8gQWxsb3cgb3RoZXIgZGlyZWN0aXZlcyB0byB3YXRjaCBzdGF0dXNcbiAgdGhpcy5pc09wZW4gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2NvcGUuaXNPcGVuO1xuICB9O1xuXG4gIHNjb3BlLmdldFRvZ2dsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi50b2dnbGVFbGVtZW50O1xuICB9O1xuXG4gIHNjb3BlLmdldEF1dG9DbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkYXR0cnMuYXV0b0Nsb3NlIHx8ICdhbHdheXMnOyAvL29yICdvdXRzaWRlQ2xpY2snIG9yICdkaXNhYmxlZCdcbiAgfTtcblxuICBzY29wZS5nZXRFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYuJGVsZW1lbnQ7XG4gIH07XG5cbiAgc2NvcGUuaXNLZXluYXZFbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGtleW5hdkVuYWJsZWQ7XG4gIH07XG5cbiAgc2NvcGUuZm9jdXNEcm9wZG93bkVudHJ5ID0gZnVuY3Rpb24oa2V5Q29kZSkge1xuICAgIHZhciBlbGVtcyA9IHNlbGYuZHJvcGRvd25NZW51ID8gLy9JZiBhcHBlbmQgdG8gYm9keSBpcyB1c2VkLlxuICAgICAgKGFuZ3VsYXIuZWxlbWVudChzZWxmLmRyb3Bkb3duTWVudSkuZmluZCgnYScpKSA6XG4gICAgICAoYW5ndWxhci5lbGVtZW50KHNlbGYuJGVsZW1lbnQpLmZpbmQoJ3VsJykuZXEoMCkuZmluZCgnYScpKTtcblxuICAgIHN3aXRjaCAoa2V5Q29kZSkge1xuICAgICAgY2FzZSAoNDApOiB7XG4gICAgICAgIGlmICghYW5ndWxhci5pc051bWJlcihzZWxmLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSAoc2VsZi5zZWxlY3RlZE9wdGlvbiA9PT0gZWxlbXMubGVuZ3RoIC0xID9cbiAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gOlxuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAoMzgpOiB7XG4gICAgICAgIGlmICghYW5ndWxhci5pc051bWJlcihzZWxmLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSBlbGVtcy5sZW5ndGggLSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSBzZWxmLnNlbGVjdGVkT3B0aW9uID09PSAwID9cbiAgICAgICAgICAgIDAgOiBzZWxmLnNlbGVjdGVkT3B0aW9uIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgZWxlbXNbc2VsZi5zZWxlY3RlZE9wdGlvbl0uZm9jdXMoKTtcbiAgfTtcblxuICBzY29wZS5nZXREcm9wZG93bkVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi5kcm9wZG93bk1lbnU7XG4gIH07XG5cbiAgc2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHNlbGYudG9nZ2xlRWxlbWVudCkge1xuICAgICAgc2VsZi50b2dnbGVFbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24oaXNPcGVuLCB3YXNPcGVuKSB7XG4gICAgaWYgKGFwcGVuZFRvQm9keSAmJiBzZWxmLmRyb3Bkb3duTWVudSkge1xuICAgICAgdmFyIHBvcyA9ICRwb3NpdGlvbi5wb3NpdGlvbkVsZW1lbnRzKHNlbGYuJGVsZW1lbnQsIHNlbGYuZHJvcGRvd25NZW51LCAnYm90dG9tLWxlZnQnLCB0cnVlKTtcbiAgICAgIHZhciBjc3MgPSB7XG4gICAgICAgIHRvcDogcG9zLnRvcCArICdweCcsXG4gICAgICAgIGRpc3BsYXk6IGlzT3BlbiA/ICdibG9jaycgOiAnbm9uZSdcbiAgICAgIH07XG5cbiAgICAgIHZhciByaWdodGFsaWduID0gc2VsZi5kcm9wZG93bk1lbnUuaGFzQ2xhc3MoJ2Ryb3Bkb3duLW1lbnUtcmlnaHQnKTtcbiAgICAgIGlmICghcmlnaHRhbGlnbikge1xuICAgICAgICBjc3MubGVmdCA9IHBvcy5sZWZ0ICsgJ3B4JztcbiAgICAgICAgY3NzLnJpZ2h0ID0gJ2F1dG8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3NzLmxlZnQgPSAnYXV0byc7XG4gICAgICAgIGNzcy5yaWdodCA9ICh3aW5kb3cuaW5uZXJXaWR0aCAtIChwb3MubGVmdCArIHNlbGYuJGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSkpICsgJ3B4JztcbiAgICAgIH1cblxuICAgICAgc2VsZi5kcm9wZG93bk1lbnUuY3NzKGNzcyk7XG4gICAgfVxuXG4gICAgdmFyIG9wZW5Db250YWluZXIgPSBhcHBlbmRUb0JvZHkgPyBib2R5IDogc2VsZi4kZWxlbWVudDtcblxuICAgICRhbmltYXRlW2lzT3BlbiA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShvcGVuQ29udGFpbmVyLCBvcGVuQ2xhc3MpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaXNPcGVuKSAmJiBpc09wZW4gIT09IHdhc09wZW4pIHtcbiAgICAgICAgdG9nZ2xlSW52b2tlcigkc2NvcGUsIHsgb3BlbjogISFpc09wZW4gfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoaXNPcGVuKSB7XG4gICAgICBpZiAoc2VsZi5kcm9wZG93bk1lbnVUZW1wbGF0ZVVybCkge1xuICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KHNlbGYuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwpLnRoZW4oZnVuY3Rpb24odHBsQ29udGVudCkge1xuICAgICAgICAgIHRlbXBsYXRlU2NvcGUgPSBzY29wZS4kbmV3KCk7XG4gICAgICAgICAgJGNvbXBpbGUodHBsQ29udGVudC50cmltKCkpKHRlbXBsYXRlU2NvcGUsIGZ1bmN0aW9uKGRyb3Bkb3duRWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIG5ld0VsID0gZHJvcGRvd25FbGVtZW50O1xuICAgICAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUucmVwbGFjZVdpdGgobmV3RWwpO1xuICAgICAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUgPSBuZXdFbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCgpO1xuICAgICAgZHJvcGRvd25TZXJ2aWNlLm9wZW4oc2NvcGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc2VsZi5kcm9wZG93bk1lbnVUZW1wbGF0ZVVybCkge1xuICAgICAgICBpZiAodGVtcGxhdGVTY29wZSkge1xuICAgICAgICAgIHRlbXBsYXRlU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV3RWwgPSBhbmd1bGFyLmVsZW1lbnQoJzx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj48L3VsPicpO1xuICAgICAgICBzZWxmLmRyb3Bkb3duTWVudS5yZXBsYWNlV2l0aChuZXdFbCk7XG4gICAgICAgIHNlbGYuZHJvcGRvd25NZW51ID0gbmV3RWw7XG4gICAgICB9XG5cbiAgICAgIGRyb3Bkb3duU2VydmljZS5jbG9zZShzY29wZSk7XG4gICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHNldElzT3BlbikpIHtcbiAgICAgIHNldElzT3Blbigkc2NvcGUsIGlzT3Blbik7XG4gICAgfVxuICB9KTtcblxuICAkc2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKHNjb3BlLmdldEF1dG9DbG9zZSgpICE9PSAnZGlzYWJsZWQnKSB7XG4gICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBvZmZEZXN0cm95ID0gJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICBzY29wZS4kZGVzdHJveSgpO1xuICB9KTtcbiAgc2NvcGUuJG9uKCckZGVzdHJveScsIG9mZkRlc3Ryb3kpO1xufV0pXG5cbi5kaXJlY3RpdmUoJ2Ryb3Bkb3duJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgY29udHJvbGxlcjogJ0Ryb3Bkb3duQ29udHJvbGxlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHtcbiAgICAgIGRyb3Bkb3duQ3RybC5pbml0KCBlbGVtZW50ICk7XG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdkcm9wZG93bicpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2Ryb3Bkb3duTWVudScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQUMnLFxuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuICAgICAgaWYgKCFkcm9wZG93bkN0cmwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHRwbFVybCA9IGF0dHJzLnRlbXBsYXRlVXJsO1xuICAgICAgaWYgKHRwbFVybCkge1xuICAgICAgICBkcm9wZG93bkN0cmwuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwgPSB0cGxVcmw7XG4gICAgICB9XG4gICAgICBpZiAoIWRyb3Bkb3duQ3RybC5kcm9wZG93bk1lbnUpIHtcbiAgICAgICAgZHJvcGRvd25DdHJsLmRyb3Bkb3duTWVudSA9IGVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgna2V5Ym9hcmROYXYnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHtcblxuICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoWzM4LCA0MF0uaW5kZXhPZihlLndoaWNoKSAhPT0gLTEpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIHZhciBlbGVtcyA9IGRyb3Bkb3duQ3RybC5kcm9wZG93bk1lbnUuZmluZCgnYScpO1xuXG4gICAgICAgICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICAgICAgICBjYXNlICg0MCk6IHsgLy8gRG93blxuICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID0gZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID09PSBlbGVtcy5sZW5ndGggLTEgP1xuICAgICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uIDogZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uICsgMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgKDM4KTogeyAvLyBVcFxuICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9IGVsZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID0gZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID09PSAwID9cbiAgICAgICAgICAgICAgICAgIDAgOiBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gLSAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtc1tkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb25dLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2Ryb3Bkb3duVG9nZ2xlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJz9eZHJvcGRvd24nLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZHJvcGRvd25DdHJsKSB7XG4gICAgICBpZiAoIWRyb3Bkb3duQ3RybCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2Ryb3Bkb3duLXRvZ2dsZScpO1xuXG4gICAgICBkcm9wZG93bkN0cmwudG9nZ2xlRWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIHZhciB0b2dnbGVEcm9wZG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0NsYXNzKCdkaXNhYmxlZCcpICYmICFhdHRycy5kaXNhYmxlZCkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRyb3Bkb3duQ3RybC50b2dnbGUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZWxlbWVudC5iaW5kKCdjbGljaycsIHRvZ2dsZURyb3Bkb3duKTtcblxuICAgICAgLy8gV0FJLUFSSUFcbiAgICAgIGVsZW1lbnQuYXR0cih7ICdhcmlhLWhhc3BvcHVwJzogdHJ1ZSwgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZSB9KTtcbiAgICAgIHNjb3BlLiR3YXRjaChkcm9wZG93bkN0cmwuaXNPcGVuLCBmdW5jdGlvbiggaXNPcGVuICkge1xuICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAhIWlzT3Blbik7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LnVuYmluZCgnY2xpY2snLCB0b2dnbGVEcm9wZG93bik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5tb2RhbCcsIFtdKVxuXG4vKipcbiAqIEEgaGVscGVyLCBpbnRlcm5hbCBkYXRhIHN0cnVjdHVyZSB0aGF0IGFjdHMgYXMgYSBtYXAgYnV0IGFsc28gYWxsb3dzIGdldHRpbmcgLyByZW1vdmluZ1xuICogZWxlbWVudHMgaW4gdGhlIExJRk8gb3JkZXJcbiAqL1xuICAuZmFjdG9yeSgnJCRzdGFja2VkTWFwJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZU5ldzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFjayA9IFtdO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWRkOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKHtcbiAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoa2V5ID09IHN0YWNrW2ldLmtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGFja1tpXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAga2V5czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBrZXlzLnB1c2goc3RhY2tbaV0ua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gLTE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmIChrZXkgPT0gc3RhY2tbaV0ua2V5KSB7XG4gICAgICAgICAgICAgICAgaWR4ID0gaTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLnNwbGljZShpZHgsIDEpWzBdO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVtb3ZlVG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFjay5zcGxpY2Uoc3RhY2subGVuZ3RoIC0gMSwgMSlbMF07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuLyoqXG4gKiBBIGhlbHBlciwgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmUgdGhhdCBzdG9yZXMgYWxsIHJlZmVyZW5jZXMgYXR0YWNoZWQgdG8ga2V5XG4gKi9cbiAgLmZhY3RvcnkoJyQkbXVsdGlNYXAnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlTmV3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1hcCA9IHt9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZW50cmllczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobWFwKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgdmFsdWU6IG1hcFtrZXldXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbWFwW2tleV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBoYXNLZXk6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuICEhbWFwW2tleV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBrZXlzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcHV0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIW1hcFtrZXldKSB7XG4gICAgICAgICAgICAgIG1hcFtrZXldID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1hcFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gbWFwW2tleV07XG5cbiAgICAgICAgICAgIGlmICghdmFsdWVzKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGlkeCA9IHZhbHVlcy5pbmRleE9mKHZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgdmFsdWVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZGVsZXRlIG1hcFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9KVxuXG4vKipcbiAqIEEgaGVscGVyIGRpcmVjdGl2ZSBmb3IgdGhlICRtb2RhbCBzZXJ2aWNlLiBJdCBjcmVhdGVzIGEgYmFja2Ryb3AgZWxlbWVudC5cbiAqL1xuICAuZGlyZWN0aXZlKCdtb2RhbEJhY2tkcm9wJywgW1xuICAgICAgICAgICAnJGFuaW1hdGUnLCAnJGluamVjdG9yJywgJyRtb2RhbFN0YWNrJyxcbiAgZnVuY3Rpb24oJGFuaW1hdGUgLCAgJGluamVjdG9yLCAgICRtb2RhbFN0YWNrKSB7XG4gICAgdmFyICRhbmltYXRlQ3NzID0gbnVsbDtcblxuICAgIGlmICgkaW5qZWN0b3IuaGFzKCckYW5pbWF0ZUNzcycpKSB7XG4gICAgICAkYW5pbWF0ZUNzcyA9ICRpbmplY3Rvci5nZXQoJyRhbmltYXRlQ3NzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbCcsXG4gICAgICBjb21waWxlOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgICAgIHRFbGVtZW50LmFkZENsYXNzKHRBdHRycy5iYWNrZHJvcENsYXNzKTtcbiAgICAgICAgcmV0dXJuIGxpbmtGbjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgaWYgKGF0dHJzLm1vZGFsSW5DbGFzcykge1xuICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XG4gICAgICAgICAgICBhZGRDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXG4gICAgICAgICAgfSkuc3RhcnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBhdHRycy5tb2RhbEluQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJG9uKCRtb2RhbFN0YWNrLk5PV19DTE9TSU5HX0VWRU5ULCBmdW5jdGlvbihlLCBzZXRJc0FzeW5jKSB7XG4gICAgICAgICAgdmFyIGRvbmUgPSBzZXRJc0FzeW5jKCk7XG4gICAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XG4gICAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBhdHRycy5tb2RhbEluQ2xhc3NcbiAgICAgICAgICAgIH0pLnN0YXJ0KCkudGhlbihkb25lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgYXR0cnMubW9kYWxJbkNsYXNzKS50aGVuKGRvbmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XSlcblxuICAuZGlyZWN0aXZlKCdtb2RhbFdpbmRvdycsIFtcbiAgICAgICAgICAgJyRtb2RhbFN0YWNrJywgJyRxJywgJyRhbmltYXRlJywgJyRpbmplY3RvcicsXG4gIGZ1bmN0aW9uKCRtb2RhbFN0YWNrICwgICRxICwgICRhbmltYXRlLCAgICRpbmplY3Rvcikge1xuICAgIHZhciAkYW5pbWF0ZUNzcyA9IG51bGw7XG5cbiAgICBpZiAoJGluamVjdG9yLmhhcygnJGFuaW1hdGVDc3MnKSkge1xuICAgICAgJGFuaW1hdGVDc3MgPSAkaW5qZWN0b3IuZ2V0KCckYW5pbWF0ZUNzcycpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGluZGV4OiAnQCdcbiAgICAgIH0sXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgICAgIHJldHVybiB0QXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sJztcbiAgICAgIH0sXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhhdHRycy53aW5kb3dDbGFzcyB8fCAnJyk7XG4gICAgICAgIHNjb3BlLnNpemUgPSBhdHRycy5zaXplO1xuXG4gICAgICAgIHNjb3BlLmNsb3NlID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgdmFyIG1vZGFsID0gJG1vZGFsU3RhY2suZ2V0VG9wKCk7XG4gICAgICAgICAgaWYgKG1vZGFsICYmIG1vZGFsLnZhbHVlLmJhY2tkcm9wICYmIG1vZGFsLnZhbHVlLmJhY2tkcm9wICE9PSAnc3RhdGljJyAmJiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCAnYmFja2Ryb3AgY2xpY2snKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBpcyBvbmx5IGFkZGVkIHRvIHRoZSBzY29wZSBmb3IgdGhlIHB1cnBvc2Ugb2YgZGV0ZWN0aW5nIHdoZW4gdGhpcyBkaXJlY3RpdmUgaXMgcmVuZGVyZWQuXG4gICAgICAgIC8vIFdlIGNhbiBkZXRlY3QgdGhhdCBieSB1c2luZyB0aGlzIHByb3BlcnR5IGluIHRoZSB0ZW1wbGF0ZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBkaXJlY3RpdmUgYW5kIHRoZW4gdXNlXG4gICAgICAgIC8vIHtAbGluayBBdHRyaWJ1dGUjJG9ic2VydmV9IG9uIGl0LiBGb3IgbW9yZSBkZXRhaWxzIHBsZWFzZSBzZWUge0BsaW5rIFRhYmxlQ29sdW1uUmVzaXplfS5cbiAgICAgICAgc2NvcGUuJGlzUmVuZGVyZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIERlZmVycmVkIG9iamVjdCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiB0aGlzIG1vZGFsIGlzIHJlbmRlci5cbiAgICAgICAgdmFyIG1vZGFsUmVuZGVyRGVmZXJPYmogPSAkcS5kZWZlcigpO1xuICAgICAgICAvLyBPYnNlcnZlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIG9uIG5leHQgZGlnZXN0IGN5Y2xlIGFmdGVyIGNvbXBpbGF0aW9uLCBlbnN1cmluZyB0aGF0IHRoZSBET00gaXMgcmVhZHkuXG4gICAgICAgIC8vIEluIG9yZGVyIHRvIHVzZSB0aGlzIHdheSBvZiBmaW5kaW5nIHdoZXRoZXIgRE9NIGlzIHJlYWR5LCB3ZSBuZWVkIHRvIG9ic2VydmUgYSBzY29wZSBwcm9wZXJ0eSB1c2VkIGluIG1vZGFsJ3MgdGVtcGxhdGUuXG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdtb2RhbFJlbmRlcicsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHZhbHVlID09ICd0cnVlJykge1xuICAgICAgICAgICAgbW9kYWxSZW5kZXJEZWZlck9iai5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBtb2RhbFJlbmRlckRlZmVyT2JqLnByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYW5pbWF0aW9uUHJvbWlzZSA9IG51bGw7XG5cbiAgICAgICAgICBpZiAoYXR0cnMubW9kYWxJbkNsYXNzKSB7XG4gICAgICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uUHJvbWlzZSA9ICRhbmltYXRlQ3NzKGVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXG4gICAgICAgICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhbmltYXRpb25Qcm9taXNlID0gJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgYXR0cnMubW9kYWxJbkNsYXNzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2NvcGUuJG9uKCRtb2RhbFN0YWNrLk5PV19DTE9TSU5HX0VWRU5ULCBmdW5jdGlvbihlLCBzZXRJc0FzeW5jKSB7XG4gICAgICAgICAgICAgIHZhciBkb25lID0gc2V0SXNBc3luYygpO1xuICAgICAgICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgICByZW1vdmVDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXG4gICAgICAgICAgICAgICAgfSkuc3RhcnQoKS50aGVuKGRvbmUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcykudGhlbihkb25lKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG5cbiAgICAgICAgICAkcS53aGVuKGFuaW1hdGlvblByb21pc2UpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRzV2l0aEF1dG9mb2N1cyA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnW2F1dG9mb2N1c10nKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXV0by1mb2N1c2luZyBvZiBhIGZyZXNobHktb3BlbmVkIG1vZGFsIGVsZW1lbnQgY2F1c2VzIGFueSBjaGlsZCBlbGVtZW50c1xuICAgICAgICAgICAgICogd2l0aCB0aGUgYXV0b2ZvY3VzIGF0dHJpYnV0ZSB0byBsb3NlIGZvY3VzLiBUaGlzIGlzIGFuIGlzc3VlIG9uIHRvdWNoXG4gICAgICAgICAgICAgKiBiYXNlZCBkZXZpY2VzIHdoaWNoIHdpbGwgc2hvdyBhbmQgdGhlbiBoaWRlIHRoZSBvbnNjcmVlbiBrZXlib2FyZC5cbiAgICAgICAgICAgICAqIEF0dGVtcHRzIHRvIHJlZm9jdXMgdGhlIGF1dG9mb2N1cyBlbGVtZW50IHZpYSBKYXZhU2NyaXB0IHdpbGwgbm90IHJlb3BlblxuICAgICAgICAgICAgICogdGhlIG9uc2NyZWVuIGtleWJvYXJkLiBGaXhlZCBieSB1cGRhdGVkIHRoZSBmb2N1c2luZyBsb2dpYyB0byBvbmx5IGF1dG9mb2N1c1xuICAgICAgICAgICAgICogdGhlIG1vZGFsIGVsZW1lbnQgaWYgdGhlIG1vZGFsIGRvZXMgbm90IGNvbnRhaW4gYW4gYXV0b2ZvY3VzIGVsZW1lbnQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChpbnB1dHNXaXRoQXV0b2ZvY3VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBpbnB1dHNXaXRoQXV0b2ZvY3VzWzBdLmZvY3VzKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBOb3RpZnkge0BsaW5rICRtb2RhbFN0YWNrfSB0aGF0IG1vZGFsIGlzIHJlbmRlcmVkLlxuICAgICAgICAgIHZhciBtb2RhbCA9ICRtb2RhbFN0YWNrLmdldFRvcCgpO1xuICAgICAgICAgIGlmIChtb2RhbCkge1xuICAgICAgICAgICAgJG1vZGFsU3RhY2subW9kYWxSZW5kZXJlZChtb2RhbC5rZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pXG5cbiAgLmRpcmVjdGl2ZSgnbW9kYWxBbmltYXRpb25DbGFzcycsIFtcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb21waWxlOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgICAgICAgaWYgKHRBdHRycy5tb2RhbEFuaW1hdGlvbikge1xuICAgICAgICAgICAgdEVsZW1lbnQuYWRkQ2xhc3ModEF0dHJzLm1vZGFsQW5pbWF0aW9uQ2xhc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSlcblxuICAuZGlyZWN0aXZlKCdtb2RhbFRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCBjb250cm9sbGVyLCAkdHJhbnNjbHVkZSkge1xuICAgICAgICAkdHJhbnNjbHVkZSgkc2NvcGUuJHBhcmVudCwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAkZWxlbWVudC5lbXB0eSgpO1xuICAgICAgICAgICRlbGVtZW50LmFwcGVuZChjbG9uZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbiAgLmZhY3RvcnkoJyRtb2RhbFN0YWNrJywgW1xuICAgICAgICAgICAgICckYW5pbWF0ZScsICckdGltZW91dCcsICckZG9jdW1lbnQnLCAnJGNvbXBpbGUnLCAnJHJvb3RTY29wZScsXG4gICAgICAgICAgICAgJyRxJyxcbiAgICAgICAgICAgICAnJGluamVjdG9yJyxcbiAgICAgICAgICAgICAnJCRtdWx0aU1hcCcsXG4gICAgICAgICAgICAgJyQkc3RhY2tlZE1hcCcsXG4gICAgZnVuY3Rpb24oJGFuaW1hdGUgLCAgJHRpbWVvdXQgLCAgJGRvY3VtZW50ICwgICRjb21waWxlICwgICRyb290U2NvcGUgLFxuICAgICAgICAgICAgICAkcSxcbiAgICAgICAgICAgICAgJGluamVjdG9yLFxuICAgICAgICAgICAgICAkJG11bHRpTWFwLFxuICAgICAgICAgICAgICAkJHN0YWNrZWRNYXApIHtcbiAgICAgIHZhciAkYW5pbWF0ZUNzcyA9IG51bGw7XG5cbiAgICAgIGlmICgkaW5qZWN0b3IuaGFzKCckYW5pbWF0ZUNzcycpKSB7XG4gICAgICAgICRhbmltYXRlQ3NzID0gJGluamVjdG9yLmdldCgnJGFuaW1hdGVDc3MnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIE9QRU5FRF9NT0RBTF9DTEFTUyA9ICdtb2RhbC1vcGVuJztcblxuICAgICAgdmFyIGJhY2tkcm9wRG9tRWwsIGJhY2tkcm9wU2NvcGU7XG4gICAgICB2YXIgb3BlbmVkV2luZG93cyA9ICQkc3RhY2tlZE1hcC5jcmVhdGVOZXcoKTtcbiAgICAgIHZhciBvcGVuZWRDbGFzc2VzID0gJCRtdWx0aU1hcC5jcmVhdGVOZXcoKTtcbiAgICAgIHZhciAkbW9kYWxTdGFjayA9IHtcbiAgICAgICAgTk9XX0NMT1NJTkdfRVZFTlQ6ICdtb2RhbC5zdGFjay5ub3ctY2xvc2luZydcbiAgICAgIH07XG5cbiAgICAgIC8vTW9kYWwgZm9jdXMgYmVoYXZpb3JcbiAgICAgIHZhciBmb2N1c2FibGVFbGVtZW50TGlzdDtcbiAgICAgIHZhciBmb2N1c0luZGV4ID0gMDtcbiAgICAgIHZhciB0YWJhYmJsZVNlbGVjdG9yID0gJ2FbaHJlZl0sIGFyZWFbaHJlZl0sIGlucHV0Om5vdChbZGlzYWJsZWRdKSwgJyArXG4gICAgICAgICdidXR0b246bm90KFtkaXNhYmxlZF0pLHNlbGVjdDpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhOm5vdChbZGlzYWJsZWRdKSwgJyArXG4gICAgICAgICdpZnJhbWUsIG9iamVjdCwgZW1iZWQsICpbdGFiaW5kZXhdLCAqW2NvbnRlbnRlZGl0YWJsZT10cnVlXSc7XG5cbiAgICAgIGZ1bmN0aW9uIGJhY2tkcm9wSW5kZXgoKSB7XG4gICAgICAgIHZhciB0b3BCYWNrZHJvcEluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvcGVuZWQgPSBvcGVuZWRXaW5kb3dzLmtleXMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcGVuZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAob3BlbmVkV2luZG93cy5nZXQob3BlbmVkW2ldKS52YWx1ZS5iYWNrZHJvcCkge1xuICAgICAgICAgICAgdG9wQmFja2Ryb3BJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3BCYWNrZHJvcEluZGV4O1xuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiR3YXRjaChiYWNrZHJvcEluZGV4LCBmdW5jdGlvbihuZXdCYWNrZHJvcEluZGV4KSB7XG4gICAgICAgIGlmIChiYWNrZHJvcFNjb3BlKSB7XG4gICAgICAgICAgYmFja2Ryb3BTY29wZS5pbmRleCA9IG5ld0JhY2tkcm9wSW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlLCBlbGVtZW50VG9SZWNlaXZlRm9jdXMpIHtcbiAgICAgICAgdmFyIGJvZHkgPSAkZG9jdW1lbnQuZmluZCgnYm9keScpLmVxKDApO1xuICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKS52YWx1ZTtcblxuICAgICAgICAvL2NsZWFuIHVwIHRoZSBzdGFja1xuICAgICAgICBvcGVuZWRXaW5kb3dzLnJlbW92ZShtb2RhbEluc3RhbmNlKTtcblxuICAgICAgICByZW1vdmVBZnRlckFuaW1hdGUobW9kYWxXaW5kb3cubW9kYWxEb21FbCwgbW9kYWxXaW5kb3cubW9kYWxTY29wZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIG1vZGFsQm9keUNsYXNzID0gbW9kYWxXaW5kb3cub3BlbmVkQ2xhc3MgfHwgT1BFTkVEX01PREFMX0NMQVNTO1xuICAgICAgICAgIG9wZW5lZENsYXNzZXMucmVtb3ZlKG1vZGFsQm9keUNsYXNzLCBtb2RhbEluc3RhbmNlKTtcbiAgICAgICAgICBib2R5LnRvZ2dsZUNsYXNzKG1vZGFsQm9keUNsYXNzLCBvcGVuZWRDbGFzc2VzLmhhc0tleShtb2RhbEJvZHlDbGFzcykpO1xuICAgICAgICB9KTtcbiAgICAgICAgY2hlY2tSZW1vdmVCYWNrZHJvcCgpO1xuXG4gICAgICAgIC8vbW92ZSBmb2N1cyB0byBzcGVjaWZpZWQgZWxlbWVudCBpZiBhdmFpbGFibGUsIG9yIGVsc2UgdG8gYm9keVxuICAgICAgICBpZiAoZWxlbWVudFRvUmVjZWl2ZUZvY3VzICYmIGVsZW1lbnRUb1JlY2VpdmVGb2N1cy5mb2N1cykge1xuICAgICAgICAgIGVsZW1lbnRUb1JlY2VpdmVGb2N1cy5mb2N1cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJvZHkuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjaGVja1JlbW92ZUJhY2tkcm9wKCkge1xuICAgICAgICAgIC8vcmVtb3ZlIGJhY2tkcm9wIGlmIG5vIGxvbmdlciBuZWVkZWRcbiAgICAgICAgICBpZiAoYmFja2Ryb3BEb21FbCAmJiBiYWNrZHJvcEluZGV4KCkgPT0gLTEpIHtcbiAgICAgICAgICAgIHZhciBiYWNrZHJvcFNjb3BlUmVmID0gYmFja2Ryb3BTY29wZTtcbiAgICAgICAgICAgIHJlbW92ZUFmdGVyQW5pbWF0ZShiYWNrZHJvcERvbUVsLCBiYWNrZHJvcFNjb3BlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgYmFja2Ryb3BTY29wZVJlZiA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJhY2tkcm9wRG9tRWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBiYWNrZHJvcFNjb3BlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlQWZ0ZXJBbmltYXRlKGRvbUVsLCBzY29wZSwgZG9uZSkge1xuICAgICAgICB2YXIgYXN5bmNEZWZlcnJlZDtcbiAgICAgICAgdmFyIGFzeW5jUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHZhciBzZXRJc0FzeW5jID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFhc3luY0RlZmVycmVkKSB7XG4gICAgICAgICAgICBhc3luY0RlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIGFzeW5jUHJvbWlzZSA9IGFzeW5jRGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gYXN5bmNEb25lKCkge1xuICAgICAgICAgICAgYXN5bmNEZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgkbW9kYWxTdGFjay5OT1dfQ0xPU0lOR19FVkVOVCwgc2V0SXNBc3luYyk7XG5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGl0J3MgaW50ZW50aW9uYWwgdGhhdCBhc3luY1Byb21pc2UgbWlnaHQgYmUgbnVsbC5cbiAgICAgICAgLy8gVGhhdCdzIHdoZW4gc2V0SXNBc3luYyBoYXMgbm90IGJlZW4gY2FsbGVkIGR1cmluZyB0aGVcbiAgICAgICAgLy8gTk9XX0NMT1NJTkdfRVZFTlQgYnJvYWRjYXN0LlxuICAgICAgICByZXR1cm4gJHEud2hlbihhc3luY1Byb21pc2UpLnRoZW4oYWZ0ZXJBbmltYXRpbmcpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFmdGVyQW5pbWF0aW5nKCkge1xuICAgICAgICAgIGlmIChhZnRlckFuaW1hdGluZy5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGFmdGVyQW5pbWF0aW5nLmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgICAkYW5pbWF0ZUNzcyhkb21FbCwge1xuICAgICAgICAgICAgICBldmVudDogJ2xlYXZlJ1xuICAgICAgICAgICAgfSkuc3RhcnQoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBkb21FbC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShkb21FbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJGRvY3VtZW50LmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKGV2dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgIHJldHVybiBldnQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbW9kYWwgPSBvcGVuZWRXaW5kb3dzLnRvcCgpO1xuICAgICAgICBpZiAobW9kYWwgJiYgbW9kYWwudmFsdWUua2V5Ym9hcmQpIHtcbiAgICAgICAgICBzd2l0Y2ggKGV2dC53aGljaCl7XG4gICAgICAgICAgICBjYXNlIDI3OiB7XG4gICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwgJ2VzY2FwZSBrZXkgcHJlc3MnKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSA5OiB7XG4gICAgICAgICAgICAgICRtb2RhbFN0YWNrLmxvYWRGb2N1c0VsZW1lbnRMaXN0KG1vZGFsKTtcbiAgICAgICAgICAgICAgdmFyIGZvY3VzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBpZiAoZXZ0LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCRtb2RhbFN0YWNrLmlzRm9jdXNJbkZpcnN0SXRlbShldnQpKSB7XG4gICAgICAgICAgICAgICAgICBmb2N1c0NoYW5nZWQgPSAkbW9kYWxTdGFjay5mb2N1c0xhc3RGb2N1c2FibGVFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICgkbW9kYWxTdGFjay5pc0ZvY3VzSW5MYXN0SXRlbShldnQpKSB7XG4gICAgICAgICAgICAgICAgICBmb2N1c0NoYW5nZWQgPSAkbW9kYWxTdGFjay5mb2N1c0ZpcnN0Rm9jdXNhYmxlRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChmb2N1c0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgJG1vZGFsU3RhY2sub3BlbiA9IGZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UsIG1vZGFsKSB7XG4gICAgICAgIHZhciBtb2RhbE9wZW5lciA9ICRkb2N1bWVudFswXS5hY3RpdmVFbGVtZW50LFxuICAgICAgICAgIG1vZGFsQm9keUNsYXNzID0gbW9kYWwub3BlbmVkQ2xhc3MgfHwgT1BFTkVEX01PREFMX0NMQVNTO1xuXG4gICAgICAgIG9wZW5lZFdpbmRvd3MuYWRkKG1vZGFsSW5zdGFuY2UsIHtcbiAgICAgICAgICBkZWZlcnJlZDogbW9kYWwuZGVmZXJyZWQsXG4gICAgICAgICAgcmVuZGVyRGVmZXJyZWQ6IG1vZGFsLnJlbmRlckRlZmVycmVkLFxuICAgICAgICAgIG1vZGFsU2NvcGU6IG1vZGFsLnNjb3BlLFxuICAgICAgICAgIGJhY2tkcm9wOiBtb2RhbC5iYWNrZHJvcCxcbiAgICAgICAgICBrZXlib2FyZDogbW9kYWwua2V5Ym9hcmQsXG4gICAgICAgICAgb3BlbmVkQ2xhc3M6IG1vZGFsLm9wZW5lZENsYXNzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG9wZW5lZENsYXNzZXMucHV0KG1vZGFsQm9keUNsYXNzLCBtb2RhbEluc3RhbmNlKTtcblxuICAgICAgICB2YXIgYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5JykuZXEoMCksXG4gICAgICAgICAgICBjdXJyQmFja2Ryb3BJbmRleCA9IGJhY2tkcm9wSW5kZXgoKTtcblxuICAgICAgICBpZiAoY3VyckJhY2tkcm9wSW5kZXggPj0gMCAmJiAhYmFja2Ryb3BEb21FbCkge1xuICAgICAgICAgIGJhY2tkcm9wU2NvcGUgPSAkcm9vdFNjb3BlLiRuZXcodHJ1ZSk7XG4gICAgICAgICAgYmFja2Ryb3BTY29wZS5pbmRleCA9IGN1cnJCYWNrZHJvcEluZGV4O1xuICAgICAgICAgIHZhciBhbmd1bGFyQmFja2dyb3VuZERvbUVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IG1vZGFsLWJhY2tkcm9wPVwibW9kYWwtYmFja2Ryb3BcIj48L2Rpdj4nKTtcbiAgICAgICAgICBhbmd1bGFyQmFja2dyb3VuZERvbUVsLmF0dHIoJ2JhY2tkcm9wLWNsYXNzJywgbW9kYWwuYmFja2Ryb3BDbGFzcyk7XG4gICAgICAgICAgaWYgKG1vZGFsLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgYW5ndWxhckJhY2tncm91bmREb21FbC5hdHRyKCdtb2RhbC1hbmltYXRpb24nLCAndHJ1ZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiYWNrZHJvcERvbUVsID0gJGNvbXBpbGUoYW5ndWxhckJhY2tncm91bmREb21FbCkoYmFja2Ryb3BTY29wZSk7XG4gICAgICAgICAgYm9keS5hcHBlbmQoYmFja2Ryb3BEb21FbCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYW5ndWxhckRvbUVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IG1vZGFsLXdpbmRvdz1cIm1vZGFsLXdpbmRvd1wiPjwvZGl2PicpO1xuICAgICAgICBhbmd1bGFyRG9tRWwuYXR0cih7XG4gICAgICAgICAgJ3RlbXBsYXRlLXVybCc6IG1vZGFsLndpbmRvd1RlbXBsYXRlVXJsLFxuICAgICAgICAgICd3aW5kb3ctY2xhc3MnOiBtb2RhbC53aW5kb3dDbGFzcyxcbiAgICAgICAgICAnc2l6ZSc6IG1vZGFsLnNpemUsXG4gICAgICAgICAgJ2luZGV4Jzogb3BlbmVkV2luZG93cy5sZW5ndGgoKSAtIDEsXG4gICAgICAgICAgJ2FuaW1hdGUnOiAnYW5pbWF0ZSdcbiAgICAgICAgfSkuaHRtbChtb2RhbC5jb250ZW50KTtcbiAgICAgICAgaWYgKG1vZGFsLmFuaW1hdGlvbikge1xuICAgICAgICAgIGFuZ3VsYXJEb21FbC5hdHRyKCdtb2RhbC1hbmltYXRpb24nLCAndHJ1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1vZGFsRG9tRWwgPSAkY29tcGlsZShhbmd1bGFyRG9tRWwpKG1vZGFsLnNjb3BlKTtcbiAgICAgICAgb3BlbmVkV2luZG93cy50b3AoKS52YWx1ZS5tb2RhbERvbUVsID0gbW9kYWxEb21FbDtcbiAgICAgICAgb3BlbmVkV2luZG93cy50b3AoKS52YWx1ZS5tb2RhbE9wZW5lciA9IG1vZGFsT3BlbmVyO1xuICAgICAgICBib2R5LmFwcGVuZChtb2RhbERvbUVsKTtcbiAgICAgICAgYm9keS5hZGRDbGFzcyhtb2RhbEJvZHlDbGFzcyk7XG5cbiAgICAgICAgJG1vZGFsU3RhY2suY2xlYXJGb2N1c0xpc3RDYWNoZSgpO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gYnJvYWRjYXN0Q2xvc2luZyhtb2RhbFdpbmRvdywgcmVzdWx0T3JSZWFzb24sIGNsb3NpbmcpIHtcbiAgICAgICAgICByZXR1cm4gIW1vZGFsV2luZG93LnZhbHVlLm1vZGFsU2NvcGUuJGJyb2FkY2FzdCgnbW9kYWwuY2xvc2luZycsIHJlc3VsdE9yUmVhc29uLCBjbG9zaW5nKS5kZWZhdWx0UHJldmVudGVkO1xuICAgICAgfVxuXG4gICAgICAkbW9kYWxTdGFjay5jbG9zZSA9IGZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UsIHJlc3VsdCkge1xuICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKTtcbiAgICAgICAgaWYgKG1vZGFsV2luZG93ICYmIGJyb2FkY2FzdENsb3NpbmcobW9kYWxXaW5kb3csIHJlc3VsdCwgdHJ1ZSkpIHtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbFNjb3BlLiQkdWliRGVzdHJ1Y3Rpb25TY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLmRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlLCBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbE9wZW5lcik7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFtb2RhbFdpbmRvdztcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MgPSBmdW5jdGlvbihtb2RhbEluc3RhbmNlLCByZWFzb24pIHtcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7XG4gICAgICAgIGlmIChtb2RhbFdpbmRvdyAmJiBicm9hZGNhc3RDbG9zaW5nKG1vZGFsV2luZG93LCByZWFzb24sIGZhbHNlKSkge1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLm1vZGFsU2NvcGUuJCR1aWJEZXN0cnVjdGlvblNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgbW9kYWxXaW5kb3cudmFsdWUuZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgICAgICAgcmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSwgbW9kYWxXaW5kb3cudmFsdWUubW9kYWxPcGVuZXIpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhbW9kYWxXaW5kb3c7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5kaXNtaXNzQWxsID0gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIHZhciB0b3BNb2RhbCA9IHRoaXMuZ2V0VG9wKCk7XG4gICAgICAgIHdoaWxlICh0b3BNb2RhbCAmJiB0aGlzLmRpc21pc3ModG9wTW9kYWwua2V5LCByZWFzb24pKSB7XG4gICAgICAgICAgdG9wTW9kYWwgPSB0aGlzLmdldFRvcCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5nZXRUb3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG9wZW5lZFdpbmRvd3MudG9wKCk7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5tb2RhbFJlbmRlcmVkID0gZnVuY3Rpb24obW9kYWxJbnN0YW5jZSkge1xuICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKTtcbiAgICAgICAgaWYgKG1vZGFsV2luZG93KSB7XG4gICAgICAgICAgbW9kYWxXaW5kb3cudmFsdWUucmVuZGVyRGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5mb2N1c0ZpcnN0Rm9jdXNhYmxlRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvY3VzYWJsZUVsZW1lbnRMaXN0WzBdLmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcbiAgICAgICRtb2RhbFN0YWNrLmZvY3VzTGFzdEZvY3VzYWJsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb2N1c2FibGVFbGVtZW50TGlzdFtmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGggLSAxXS5mb2N1cygpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmlzRm9jdXNJbkZpcnN0SXRlbSA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiAoZXZ0LnRhcmdldCB8fCBldnQuc3JjRWxlbWVudCkgPT0gZm9jdXNhYmxlRWxlbWVudExpc3RbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suaXNGb2N1c0luTGFzdEl0ZW0gPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gKGV2dC50YXJnZXQgfHwgZXZ0LnNyY0VsZW1lbnQpID09IGZvY3VzYWJsZUVsZW1lbnRMaXN0W2ZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmNsZWFyRm9jdXNMaXN0Q2FjaGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9jdXNhYmxlRWxlbWVudExpc3QgPSBbXTtcbiAgICAgICAgZm9jdXNJbmRleCA9IDA7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5sb2FkRm9jdXNFbGVtZW50TGlzdCA9IGZ1bmN0aW9uKG1vZGFsV2luZG93KSB7XG4gICAgICAgIGlmIChmb2N1c2FibGVFbGVtZW50TGlzdCA9PT0gdW5kZWZpbmVkIHx8ICFmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGgwKSB7XG4gICAgICAgICAgaWYgKG1vZGFsV2luZG93KSB7XG4gICAgICAgICAgICB2YXIgbW9kYWxEb21FMSA9IG1vZGFsV2luZG93LnZhbHVlLm1vZGFsRG9tRWw7XG4gICAgICAgICAgICBpZiAobW9kYWxEb21FMSAmJiBtb2RhbERvbUUxLmxlbmd0aCkge1xuICAgICAgICAgICAgICBmb2N1c2FibGVFbGVtZW50TGlzdCA9IG1vZGFsRG9tRTFbMF0ucXVlcnlTZWxlY3RvckFsbCh0YWJhYmJsZVNlbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiAkbW9kYWxTdGFjaztcbiAgICB9XSlcblxuICAucHJvdmlkZXIoJyRtb2RhbCcsIGZ1bmN0aW9uKCkge1xuICAgIHZhciAkbW9kYWxQcm92aWRlciA9IHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICBiYWNrZHJvcDogdHJ1ZSwgLy9jYW4gYWxzbyBiZSBmYWxzZSBvciAnc3RhdGljJ1xuICAgICAgICBrZXlib2FyZDogdHJ1ZVxuICAgICAgfSxcbiAgICAgICRnZXQ6IFsnJGluamVjdG9yJywgJyRyb290U2NvcGUnLCAnJHEnLCAnJHRlbXBsYXRlUmVxdWVzdCcsICckY29udHJvbGxlcicsICckbW9kYWxTdGFjaycsXG4gICAgICAgIGZ1bmN0aW9uICgkaW5qZWN0b3IsICRyb290U2NvcGUsICRxLCAkdGVtcGxhdGVSZXF1ZXN0LCAkY29udHJvbGxlciwgJG1vZGFsU3RhY2spIHtcbiAgICAgICAgICB2YXIgJG1vZGFsID0ge307XG5cbiAgICAgICAgICBmdW5jdGlvbiBnZXRUZW1wbGF0ZVByb21pc2Uob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMudGVtcGxhdGUgPyAkcS53aGVuKG9wdGlvbnMudGVtcGxhdGUpIDpcbiAgICAgICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChhbmd1bGFyLmlzRnVuY3Rpb24ob3B0aW9ucy50ZW1wbGF0ZVVybCkgPyAob3B0aW9ucy50ZW1wbGF0ZVVybCkoKSA6IG9wdGlvbnMudGVtcGxhdGVVcmwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGdldFJlc29sdmVQcm9taXNlcyhyZXNvbHZlcykge1xuICAgICAgICAgICAgdmFyIHByb21pc2VzQXJyID0gW107XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocmVzb2x2ZXMsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odmFsdWUpIHx8IGFuZ3VsYXIuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlc0Fyci5wdXNoKCRxLndoZW4oJGluamVjdG9yLmludm9rZSh2YWx1ZSkpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHByb21pc2VzQXJyLnB1c2goJHEud2hlbigkaW5qZWN0b3IuZ2V0KHZhbHVlKSkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb21pc2VzQXJyLnB1c2goJHEud2hlbih2YWx1ZSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlc0FycjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcHJvbWlzZUNoYWluID0gbnVsbDtcbiAgICAgICAgICAkbW9kYWwuZ2V0UHJvbWlzZUNoYWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZUNoYWluO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkbW9kYWwub3BlbiA9IGZ1bmN0aW9uIChtb2RhbE9wdGlvbnMpIHtcblxuICAgICAgICAgICAgdmFyIG1vZGFsUmVzdWx0RGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIG1vZGFsT3BlbmVkRGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIG1vZGFsUmVuZGVyRGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICAvL3ByZXBhcmUgYW4gaW5zdGFuY2Ugb2YgYSBtb2RhbCB0byBiZSBpbmplY3RlZCBpbnRvIGNvbnRyb2xsZXJzIGFuZCByZXR1cm5lZCB0byBhIGNhbGxlclxuICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSB7XG4gICAgICAgICAgICAgIHJlc3VsdDogbW9kYWxSZXN1bHREZWZlcnJlZC5wcm9taXNlLFxuICAgICAgICAgICAgICBvcGVuZWQ6IG1vZGFsT3BlbmVkRGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICAgICAgcmVuZGVyZWQ6IG1vZGFsUmVuZGVyRGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJG1vZGFsU3RhY2suY2xvc2UobW9kYWxJbnN0YW5jZSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGlzbWlzczogZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiAkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsSW5zdGFuY2UsIHJlYXNvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vbWVyZ2UgYW5kIGNsZWFuIHVwIG9wdGlvbnNcbiAgICAgICAgICAgIG1vZGFsT3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCAkbW9kYWxQcm92aWRlci5vcHRpb25zLCBtb2RhbE9wdGlvbnMpO1xuICAgICAgICAgICAgbW9kYWxPcHRpb25zLnJlc29sdmUgPSBtb2RhbE9wdGlvbnMucmVzb2x2ZSB8fCB7fTtcblxuICAgICAgICAgICAgLy92ZXJpZnkgb3B0aW9uc1xuICAgICAgICAgICAgaWYgKCFtb2RhbE9wdGlvbnMudGVtcGxhdGUgJiYgIW1vZGFsT3B0aW9ucy50ZW1wbGF0ZVVybCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09uZSBvZiB0ZW1wbGF0ZSBvciB0ZW1wbGF0ZVVybCBvcHRpb25zIGlzIHJlcXVpcmVkLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZSA9XG4gICAgICAgICAgICAgICRxLmFsbChbZ2V0VGVtcGxhdGVQcm9taXNlKG1vZGFsT3B0aW9ucyldLmNvbmNhdChnZXRSZXNvbHZlUHJvbWlzZXMobW9kYWxPcHRpb25zLnJlc29sdmUpKSk7XG5cbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBleGlzdGluZyBwcm9taXNlIGNoYWluLlxuICAgICAgICAgICAgLy8gVGhlbiBzd2l0Y2ggdG8gb3VyIG93biBjb21iaW5lZCBwcm9taXNlIGRlcGVuZGVuY3kgKHJlZ2FyZGxlc3Mgb2YgaG93IHRoZSBwcmV2aW91cyBtb2RhbCBmYXJlZCkuXG4gICAgICAgICAgICAvLyBUaGVuIGFkZCB0byAkbW9kYWxTdGFjayBhbmQgcmVzb2x2ZSBvcGVuZWQuXG4gICAgICAgICAgICAvLyBGaW5hbGx5IGNsZWFuIHVwIHRoZSBjaGFpbiB2YXJpYWJsZSBpZiBubyBzdWJzZXF1ZW50IG1vZGFsIGhhcyBvdmVyd3JpdHRlbiBpdC5cbiAgICAgICAgICAgIHZhciBzYW1lUHJvbWlzZTtcbiAgICAgICAgICAgIHNhbWVQcm9taXNlID0gcHJvbWlzZUNoYWluID0gJHEuYWxsKFtwcm9taXNlQ2hhaW5dKVxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHsgcmV0dXJuIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2U7IH0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZTsgfSlcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gcmVzb2x2ZVN1Y2Nlc3ModHBsQW5kVmFycykge1xuXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsU2NvcGUgPSAobW9kYWxPcHRpb25zLnNjb3BlIHx8ICRyb290U2NvcGUpLiRuZXcoKTtcbiAgICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRjbG9zZSA9IG1vZGFsSW5zdGFuY2UuY2xvc2U7XG4gICAgICAgICAgICAgICAgbW9kYWxTY29wZS4kZGlzbWlzcyA9IG1vZGFsSW5zdGFuY2UuZGlzbWlzcztcblxuICAgICAgICAgICAgICAgIG1vZGFsU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFtb2RhbFNjb3BlLiQkdWliRGVzdHJ1Y3Rpb25TY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxTY29wZS4kZGlzbWlzcygnJHVpYlVuc2NoZWR1bGVkRGVzdHJ1Y3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBjdHJsSW5zdGFuY2UsIGN0cmxMb2NhbHMgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb2x2ZUl0ZXIgPSAxO1xuXG4gICAgICAgICAgICAgICAgLy9jb250cm9sbGVyc1xuICAgICAgICAgICAgICAgIGlmIChtb2RhbE9wdGlvbnMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgY3RybExvY2Fscy4kc2NvcGUgPSBtb2RhbFNjb3BlO1xuICAgICAgICAgICAgICAgICAgY3RybExvY2Fscy4kbW9kYWxJbnN0YW5jZSA9IG1vZGFsSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gobW9kYWxPcHRpb25zLnJlc29sdmUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3RybExvY2Fsc1trZXldID0gdHBsQW5kVmFyc1tyZXNvbHZlSXRlcisrXTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICBjdHJsSW5zdGFuY2UgPSAkY29udHJvbGxlcihtb2RhbE9wdGlvbnMuY29udHJvbGxlciwgY3RybExvY2Fscyk7XG4gICAgICAgICAgICAgICAgICBpZiAobW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kYWxPcHRpb25zLmJpbmRUb0NvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChjdHJsSW5zdGFuY2UsIG1vZGFsU2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbW9kYWxTY29wZVttb2RhbE9wdGlvbnMuY29udHJvbGxlckFzXSA9IGN0cmxJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkbW9kYWxTdGFjay5vcGVuKG1vZGFsSW5zdGFuY2UsIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlOiBtb2RhbFNjb3BlLFxuICAgICAgICAgICAgICAgICAgZGVmZXJyZWQ6IG1vZGFsUmVzdWx0RGVmZXJyZWQsXG4gICAgICAgICAgICAgICAgICByZW5kZXJEZWZlcnJlZDogbW9kYWxSZW5kZXJEZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRwbEFuZFZhcnNbMF0sXG4gICAgICAgICAgICAgICAgICBhbmltYXRpb246IG1vZGFsT3B0aW9ucy5hbmltYXRpb24sXG4gICAgICAgICAgICAgICAgICBiYWNrZHJvcDogbW9kYWxPcHRpb25zLmJhY2tkcm9wLFxuICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IG1vZGFsT3B0aW9ucy5rZXlib2FyZCxcbiAgICAgICAgICAgICAgICAgIGJhY2tkcm9wQ2xhc3M6IG1vZGFsT3B0aW9ucy5iYWNrZHJvcENsYXNzLFxuICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6IG1vZGFsT3B0aW9ucy53aW5kb3dDbGFzcyxcbiAgICAgICAgICAgICAgICAgIHdpbmRvd1RlbXBsYXRlVXJsOiBtb2RhbE9wdGlvbnMud2luZG93VGVtcGxhdGVVcmwsXG4gICAgICAgICAgICAgICAgICBzaXplOiBtb2RhbE9wdGlvbnMuc2l6ZSxcbiAgICAgICAgICAgICAgICAgIG9wZW5lZENsYXNzOiBtb2RhbE9wdGlvbnMub3BlbmVkQ2xhc3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtb2RhbE9wZW5lZERlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG5cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIHJlc29sdmVFcnJvcihyZWFzb24pIHtcbiAgICAgICAgICAgICAgbW9kYWxPcGVuZWREZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgICAgbW9kYWxSZXN1bHREZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZmluYWxseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKHByb21pc2VDaGFpbiA9PT0gc2FtZVByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlQ2hhaW4gPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIG1vZGFsSW5zdGFuY2U7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybiAkbW9kYWw7XG4gICAgICAgIH1dXG4gICAgfTtcblxuICAgIHJldHVybiAkbW9kYWxQcm92aWRlcjtcbiAgfSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucGFnaW5hdGlvbicsIFtdKVxuLmNvbnRyb2xsZXIoJ1BhZ2luYXRpb25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9LCAvLyBudWxsTW9kZWxDdHJsXG4gICAgICBzZXROdW1QYWdlcyA9ICRhdHRycy5udW1QYWdlcyA/ICRwYXJzZSgkYXR0cnMubnVtUGFnZXMpLmFzc2lnbiA6IGFuZ3VsYXIubm9vcDtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8sIGNvbmZpZykge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5yZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgaWYgKCRhdHRycy5pdGVtc1BlclBhZ2UpIHtcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLml0ZW1zUGVyUGFnZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNlbGYuaXRlbXNQZXJQYWdlID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLml0ZW1zUGVyUGFnZSA9IGNvbmZpZy5pdGVtc1BlclBhZ2U7XG4gICAgfVxuXG4gICAgJHNjb3BlLiR3YXRjaCgndG90YWxJdGVtcycsIGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTtcbiAgICB9KTtcblxuICAgICRzY29wZS4kd2F0Y2goJ3RvdGFsUGFnZXMnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgc2V0TnVtUGFnZXMoJHNjb3BlLiRwYXJlbnQsIHZhbHVlKTsgLy8gUmVhZG9ubHkgdmFyaWFibGVcblxuICAgICAgaWYgKCAkc2NvcGUucGFnZSA+IHZhbHVlICkge1xuICAgICAgICAkc2NvcGUuc2VsZWN0UGFnZSh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5jYWxjdWxhdGVUb3RhbFBhZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRvdGFsUGFnZXMgPSB0aGlzLml0ZW1zUGVyUGFnZSA8IDEgPyAxIDogTWF0aC5jZWlsKCRzY29wZS50b3RhbEl0ZW1zIC8gdGhpcy5pdGVtc1BlclBhZ2UpO1xuICAgIHJldHVybiBNYXRoLm1heCh0b3RhbFBhZ2VzIHx8IDAsIDEpO1xuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnBhZ2UgPSBwYXJzZUludChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlLCAxMCkgfHwgMTtcbiAgfTtcblxuICAkc2NvcGUuc2VsZWN0UGFnZSA9IGZ1bmN0aW9uKHBhZ2UsIGV2dCkge1xuICAgIGlmIChldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHZhciBjbGlja0FsbG93ZWQgPSAhJHNjb3BlLm5nRGlzYWJsZWQgfHwgIWV2dDtcbiAgICBpZiAoY2xpY2tBbGxvd2VkICYmICRzY29wZS5wYWdlICE9PSBwYWdlICYmIHBhZ2UgPiAwICYmIHBhZ2UgPD0gJHNjb3BlLnRvdGFsUGFnZXMpIHtcbiAgICAgIGlmIChldnQgJiYgZXZ0LnRhcmdldCkge1xuICAgICAgICBldnQudGFyZ2V0LmJsdXIoKTtcbiAgICAgIH1cbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUocGFnZSk7XG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5nZXRUZXh0ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuICRzY29wZVtrZXkgKyAnVGV4dCddIHx8IHNlbGYuY29uZmlnW2tleSArICdUZXh0J107XG4gIH07XG5cbiAgJHNjb3BlLm5vUHJldmlvdXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJHNjb3BlLnBhZ2UgPT09IDE7XG4gIH07XG5cbiAgJHNjb3BlLm5vTmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkc2NvcGUucGFnZSA9PT0gJHNjb3BlLnRvdGFsUGFnZXM7XG4gIH07XG59XSlcblxuLmNvbnN0YW50KCdwYWdpbmF0aW9uQ29uZmlnJywge1xuICBpdGVtc1BlclBhZ2U6IDEwLFxuICBib3VuZGFyeUxpbmtzOiBmYWxzZSxcbiAgZGlyZWN0aW9uTGlua3M6IHRydWUsXG4gIGZpcnN0VGV4dDogJ0ZpcnN0JyxcbiAgcHJldmlvdXNUZXh0OiAnUHJldmlvdXMnLFxuICBuZXh0VGV4dDogJ05leHQnLFxuICBsYXN0VGV4dDogJ0xhc3QnLFxuICByb3RhdGU6IHRydWVcbn0pXG5cbi5kaXJlY3RpdmUoJ3BhZ2luYXRpb24nLCBbJyRwYXJzZScsICdwYWdpbmF0aW9uQ29uZmlnJywgZnVuY3Rpb24oJHBhcnNlLCBwYWdpbmF0aW9uQ29uZmlnKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHRvdGFsSXRlbXM6ICc9JyxcbiAgICAgIGZpcnN0VGV4dDogJ0AnLFxuICAgICAgcHJldmlvdXNUZXh0OiAnQCcsXG4gICAgICBuZXh0VGV4dDogJ0AnLFxuICAgICAgbGFzdFRleHQ6ICdAJyxcbiAgICAgIG5nRGlzYWJsZWQ6Jz0nXG4gICAgfSxcbiAgICByZXF1aXJlOiBbJ3BhZ2luYXRpb24nLCAnP25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnUGFnaW5hdGlvbkNvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ3BhZ2luYXRpb24nLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCc7XG4gICAgfSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcbiAgICAgIH1cblxuICAgICAgLy8gU2V0dXAgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzXG4gICAgICB2YXIgbWF4U2l6ZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLm1heFNpemUpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5tYXhTaXplKSA6IHBhZ2luYXRpb25Db25maWcubWF4U2l6ZSxcbiAgICAgICAgICByb3RhdGUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5yb3RhdGUpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5yb3RhdGUpIDogcGFnaW5hdGlvbkNvbmZpZy5yb3RhdGU7XG4gICAgICBzY29wZS5ib3VuZGFyeUxpbmtzID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYm91bmRhcnlMaW5rcykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmJvdW5kYXJ5TGlua3MpIDogcGFnaW5hdGlvbkNvbmZpZy5ib3VuZGFyeUxpbmtzO1xuICAgICAgc2NvcGUuZGlyZWN0aW9uTGlua3MgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kaXJlY3Rpb25MaW5rcykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRpcmVjdGlvbkxpbmtzKSA6IHBhZ2luYXRpb25Db25maWcuZGlyZWN0aW9uTGlua3M7XG5cbiAgICAgIHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwsIHBhZ2luYXRpb25Db25maWcpO1xuXG4gICAgICBpZiAoYXR0cnMubWF4U2l6ZSkge1xuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMubWF4U2l6ZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgbWF4U2l6ZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgcGFnaW5hdGlvbkN0cmwucmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgcGFnZSBvYmplY3QgdXNlZCBpbiB0ZW1wbGF0ZVxuICAgICAgZnVuY3Rpb24gbWFrZVBhZ2UobnVtYmVyLCB0ZXh0LCBpc0FjdGl2ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG51bWJlcjogbnVtYmVyLFxuICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgYWN0aXZlOiBpc0FjdGl2ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRQYWdlcyhjdXJyZW50UGFnZSwgdG90YWxQYWdlcykge1xuICAgICAgICB2YXIgcGFnZXMgPSBbXTtcblxuICAgICAgICAvLyBEZWZhdWx0IHBhZ2UgbGltaXRzXG4gICAgICAgIHZhciBzdGFydFBhZ2UgPSAxLCBlbmRQYWdlID0gdG90YWxQYWdlcztcbiAgICAgICAgdmFyIGlzTWF4U2l6ZWQgPSBhbmd1bGFyLmlzRGVmaW5lZChtYXhTaXplKSAmJiBtYXhTaXplIDwgdG90YWxQYWdlcztcblxuICAgICAgICAvLyByZWNvbXB1dGUgaWYgbWF4U2l6ZVxuICAgICAgICBpZiAoaXNNYXhTaXplZCkge1xuICAgICAgICAgIGlmIChyb3RhdGUpIHtcbiAgICAgICAgICAgIC8vIEN1cnJlbnQgcGFnZSBpcyBkaXNwbGF5ZWQgaW4gdGhlIG1pZGRsZSBvZiB0aGUgdmlzaWJsZSBvbmVzXG4gICAgICAgICAgICBzdGFydFBhZ2UgPSBNYXRoLm1heChjdXJyZW50UGFnZSAtIE1hdGguZmxvb3IobWF4U2l6ZS8yKSwgMSk7XG4gICAgICAgICAgICBlbmRQYWdlICAgPSBzdGFydFBhZ2UgKyBtYXhTaXplIC0gMTtcblxuICAgICAgICAgICAgLy8gQWRqdXN0IGlmIGxpbWl0IGlzIGV4Y2VlZGVkXG4gICAgICAgICAgICBpZiAoZW5kUGFnZSA+IHRvdGFsUGFnZXMpIHtcbiAgICAgICAgICAgICAgZW5kUGFnZSAgID0gdG90YWxQYWdlcztcbiAgICAgICAgICAgICAgc3RhcnRQYWdlID0gZW5kUGFnZSAtIG1heFNpemUgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBWaXNpYmxlIHBhZ2VzIGFyZSBwYWdpbmF0ZWQgd2l0aCBtYXhTaXplXG4gICAgICAgICAgICBzdGFydFBhZ2UgPSAoKE1hdGguY2VpbChjdXJyZW50UGFnZSAvIG1heFNpemUpIC0gMSkgKiBtYXhTaXplKSArIDE7XG5cbiAgICAgICAgICAgIC8vIEFkanVzdCBsYXN0IHBhZ2UgaWYgbGltaXQgaXMgZXhjZWVkZWRcbiAgICAgICAgICAgIGVuZFBhZ2UgPSBNYXRoLm1pbihzdGFydFBhZ2UgKyBtYXhTaXplIC0gMSwgdG90YWxQYWdlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIHBhZ2UgbnVtYmVyIGxpbmtzXG4gICAgICAgIGZvciAodmFyIG51bWJlciA9IHN0YXJ0UGFnZTsgbnVtYmVyIDw9IGVuZFBhZ2U7IG51bWJlcisrKSB7XG4gICAgICAgICAgdmFyIHBhZ2UgPSBtYWtlUGFnZShudW1iZXIsIG51bWJlciwgbnVtYmVyID09PSBjdXJyZW50UGFnZSk7XG4gICAgICAgICAgcGFnZXMucHVzaChwYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBsaW5rcyB0byBtb3ZlIGJldHdlZW4gcGFnZSBzZXRzXG4gICAgICAgIGlmIChpc01heFNpemVkICYmICEgcm90YXRlKSB7XG4gICAgICAgICAgaWYgKHN0YXJ0UGFnZSA+IDEpIHtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c1BhZ2VTZXQgPSBtYWtlUGFnZShzdGFydFBhZ2UgLSAxLCAnLi4uJywgZmFsc2UpO1xuICAgICAgICAgICAgcGFnZXMudW5zaGlmdChwcmV2aW91c1BhZ2VTZXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlbmRQYWdlIDwgdG90YWxQYWdlcykge1xuICAgICAgICAgICAgdmFyIG5leHRQYWdlU2V0ID0gbWFrZVBhZ2UoZW5kUGFnZSArIDEsICcuLi4nLCBmYWxzZSk7XG4gICAgICAgICAgICBwYWdlcy5wdXNoKG5leHRQYWdlU2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFnZXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBvcmlnaW5hbFJlbmRlciA9IHBhZ2luYXRpb25DdHJsLnJlbmRlcjtcbiAgICAgIHBhZ2luYXRpb25DdHJsLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBvcmlnaW5hbFJlbmRlcigpO1xuICAgICAgICBpZiAoc2NvcGUucGFnZSA+IDAgJiYgc2NvcGUucGFnZSA8PSBzY29wZS50b3RhbFBhZ2VzKSB7XG4gICAgICAgICAgc2NvcGUucGFnZXMgPSBnZXRQYWdlcyhzY29wZS5wYWdlLCBzY29wZS50b3RhbFBhZ2VzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSlcblxuLmNvbnN0YW50KCdwYWdlckNvbmZpZycsIHtcbiAgaXRlbXNQZXJQYWdlOiAxMCxcbiAgcHJldmlvdXNUZXh0OiAnwqsgUHJldmlvdXMnLFxuICBuZXh0VGV4dDogJ05leHQgwrsnLFxuICBhbGlnbjogdHJ1ZVxufSlcblxuLmRpcmVjdGl2ZSgncGFnZXInLCBbJ3BhZ2VyQ29uZmlnJywgZnVuY3Rpb24ocGFnZXJDb25maWcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICBzY29wZToge1xuICAgICAgdG90YWxJdGVtczogJz0nLFxuICAgICAgcHJldmlvdXNUZXh0OiAnQCcsXG4gICAgICBuZXh0VGV4dDogJ0AnLFxuICAgICAgbmdEaXNhYmxlZDogJz0nXG4gICAgfSxcbiAgICByZXF1aXJlOiBbJ3BhZ2VyJywgJz9uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ1BhZ2luYXRpb25Db250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdwYWdpbmF0aW9uJyxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sJztcbiAgICB9LFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHBhZ2luYXRpb25DdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGlmICghbmdNb2RlbEN0cmwpIHtcbiAgICAgICAgIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbFxuICAgICAgfVxuXG4gICAgICBzY29wZS5hbGlnbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmFsaWduKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuYWxpZ24pIDogcGFnZXJDb25maWcuYWxpZ247XG4gICAgICBwYWdpbmF0aW9uQ3RybC5pbml0KG5nTW9kZWxDdHJsLCBwYWdlckNvbmZpZyk7XG4gICAgfVxuICB9O1xufV0pO1xuXG4vKipcbiAqIFRoZSBmb2xsb3dpbmcgZmVhdHVyZXMgYXJlIHN0aWxsIG91dHN0YW5kaW5nOiBhbmltYXRpb24gYXMgYVxuICogZnVuY3Rpb24sIHBsYWNlbWVudCBhcyBhIGZ1bmN0aW9uLCBpbnNpZGUsIHN1cHBvcnQgZm9yIG1vcmUgdHJpZ2dlcnMgdGhhblxuICoganVzdCBtb3VzZSBlbnRlci9sZWF2ZSwgaHRtbCB0b29sdGlwcywgYW5kIHNlbGVjdG9yIGRlbGVnYXRpb24uXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudG9vbHRpcCcsIFsndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgJ3VpLmJvb3RzdHJhcC5iaW5kSHRtbCddKVxuXG4vKipcbiAqIFRoZSAkdG9vbHRpcCBzZXJ2aWNlIGNyZWF0ZXMgdG9vbHRpcC0gYW5kIHBvcG92ZXItbGlrZSBkaXJlY3RpdmVzIGFzIHdlbGwgYXNcbiAqIGhvdXNlcyBnbG9iYWwgb3B0aW9ucyBmb3IgdGhlbS5cbiAqL1xuLnByb3ZpZGVyKCckdG9vbHRpcCcsIGZ1bmN0aW9uKCkge1xuICAvLyBUaGUgZGVmYXVsdCBvcHRpb25zIHRvb2x0aXAgYW5kIHBvcG92ZXIuXG4gIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICBwb3B1cERlbGF5OiAwLFxuICAgIHVzZUNvbnRlbnRFeHA6IGZhbHNlXG4gIH07XG5cbiAgLy8gRGVmYXVsdCBoaWRlIHRyaWdnZXJzIGZvciBlYWNoIHNob3cgdHJpZ2dlclxuICB2YXIgdHJpZ2dlck1hcCA9IHtcbiAgICAnbW91c2VlbnRlcic6ICdtb3VzZWxlYXZlJyxcbiAgICAnY2xpY2snOiAnY2xpY2snLFxuICAgICdmb2N1cyc6ICdibHVyJyxcbiAgICAnbm9uZSc6ICcnXG4gIH07XG5cbiAgLy8gVGhlIG9wdGlvbnMgc3BlY2lmaWVkIHRvIHRoZSBwcm92aWRlciBnbG9iYWxseS5cbiAgdmFyIGdsb2JhbE9wdGlvbnMgPSB7fTtcblxuICAvKipcbiAgICogYG9wdGlvbnMoe30pYCBhbGxvd3MgZ2xvYmFsIGNvbmZpZ3VyYXRpb24gb2YgYWxsIHRvb2x0aXBzIGluIHRoZVxuICAgKiBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoICdBcHAnLCBbJ3VpLmJvb3RzdHJhcC50b29sdGlwJ10sIGZ1bmN0aW9uKCAkdG9vbHRpcFByb3ZpZGVyICkge1xuICAgKiAgICAgLy8gcGxhY2UgdG9vbHRpcHMgbGVmdCBpbnN0ZWFkIG9mIHRvcCBieSBkZWZhdWx0XG4gICAqICAgICAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnMoIHsgcGxhY2VtZW50OiAnbGVmdCcgfSApO1xuICAgKiAgIH0pO1xuICAgKi9cblx0dGhpcy5vcHRpb25zID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHRhbmd1bGFyLmV4dGVuZChnbG9iYWxPcHRpb25zLCB2YWx1ZSk7XG5cdH07XG5cbiAgLyoqXG4gICAqIFRoaXMgYWxsb3dzIHlvdSB0byBleHRlbmQgdGhlIHNldCBvZiB0cmlnZ2VyIG1hcHBpbmdzIGF2YWlsYWJsZS4gRS5nLjpcbiAgICpcbiAgICogICAkdG9vbHRpcFByb3ZpZGVyLnNldFRyaWdnZXJzKCAnb3BlblRyaWdnZXInOiAnY2xvc2VUcmlnZ2VyJyApO1xuICAgKi9cbiAgdGhpcy5zZXRUcmlnZ2VycyA9IGZ1bmN0aW9uIHNldFRyaWdnZXJzKHRyaWdnZXJzKSB7XG4gICAgYW5ndWxhci5leHRlbmQodHJpZ2dlck1hcCwgdHJpZ2dlcnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGEgaGVscGVyIGZ1bmN0aW9uIGZvciB0cmFuc2xhdGluZyBjYW1lbC1jYXNlIHRvIHNuYWtlLWNhc2UuXG4gICAqL1xuICBmdW5jdGlvbiBzbmFrZV9jYXNlKG5hbWUpIHtcbiAgICB2YXIgcmVnZXhwID0gL1tBLVpdL2c7XG4gICAgdmFyIHNlcGFyYXRvciA9ICctJztcbiAgICByZXR1cm4gbmFtZS5yZXBsYWNlKHJlZ2V4cCwgZnVuY3Rpb24obGV0dGVyLCBwb3MpIHtcbiAgICAgIHJldHVybiAocG9zID8gc2VwYXJhdG9yIDogJycpICsgbGV0dGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYWN0dWFsIGluc3RhbmNlIG9mIHRoZSAkdG9vbHRpcCBzZXJ2aWNlLlxuICAgKiBUT0RPIHN1cHBvcnQgbXVsdGlwbGUgdHJpZ2dlcnNcbiAgICovXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckY29tcGlsZScsICckdGltZW91dCcsICckZG9jdW1lbnQnLCAnJHBvc2l0aW9uJywgJyRpbnRlcnBvbGF0ZScsICckcm9vdFNjb3BlJywgJyRwYXJzZScsIGZ1bmN0aW9uKCR3aW5kb3csICRjb21waWxlLCAkdGltZW91dCwgJGRvY3VtZW50LCAkcG9zaXRpb24sICRpbnRlcnBvbGF0ZSwgJHJvb3RTY29wZSwgJHBhcnNlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICR0b29sdGlwKHR5cGUsIHByZWZpeCwgZGVmYXVsdFRyaWdnZXJTaG93LCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gYW5ndWxhci5leHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBnbG9iYWxPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCBvZiBzaG93IGFuZCBoaWRlIHRyaWdnZXJzLlxuICAgICAgICpcbiAgICAgICAqIElmIGEgdHJpZ2dlciBpcyBzdXBwbGllZCxcbiAgICAgICAqIGl0IGlzIHVzZWQgdG8gc2hvdyB0aGUgdG9vbHRpcDsgb3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRyaWdnZXJgXG4gICAgICAgKiBvcHRpb24gcGFzc2VkIHRvIHRoZSBgJHRvb2x0aXBQcm92aWRlci5vcHRpb25zYCBtZXRob2Q7IGVsc2UgaXQgd2lsbFxuICAgICAgICogZGVmYXVsdCB0byB0aGUgdHJpZ2dlciBzdXBwbGllZCB0byB0aGlzIGRpcmVjdGl2ZSBmYWN0b3J5LlxuICAgICAgICpcbiAgICAgICAqIFRoZSBoaWRlIHRyaWdnZXIgaXMgYmFzZWQgb24gdGhlIHNob3cgdHJpZ2dlci4gSWYgdGhlIGB0cmlnZ2VyYCBvcHRpb25cbiAgICAgICAqIHdhcyBwYXNzZWQgdG8gdGhlIGAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnNgIG1ldGhvZCwgaXQgd2lsbCB1c2UgdGhlXG4gICAgICAgKiBtYXBwZWQgdHJpZ2dlciBmcm9tIGB0cmlnZ2VyTWFwYCBvciB0aGUgcGFzc2VkIHRyaWdnZXIgaWYgdGhlIG1hcCBpc1xuICAgICAgICogdW5kZWZpbmVkOyBvdGhlcndpc2UsIGl0IHVzZXMgdGhlIGB0cmlnZ2VyTWFwYCB2YWx1ZSBvZiB0aGUgc2hvd1xuICAgICAgICogdHJpZ2dlcjsgZWxzZSBpdCB3aWxsIGp1c3QgdXNlIHRoZSBzaG93IHRyaWdnZXIuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGdldFRyaWdnZXJzKHRyaWdnZXIpIHtcbiAgICAgICAgdmFyIHNob3cgPSAodHJpZ2dlciB8fCBvcHRpb25zLnRyaWdnZXIgfHwgZGVmYXVsdFRyaWdnZXJTaG93KS5zcGxpdCgnICcpO1xuICAgICAgICB2YXIgaGlkZSA9IHNob3cubWFwKGZ1bmN0aW9uKHRyaWdnZXIpIHtcbiAgICAgICAgICByZXR1cm4gdHJpZ2dlck1hcFt0cmlnZ2VyXSB8fCB0cmlnZ2VyO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzaG93OiBzaG93LFxuICAgICAgICAgIGhpZGU6IGhpZGVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRpcmVjdGl2ZU5hbWUgPSBzbmFrZV9jYXNlKHR5cGUpO1xuXG4gICAgICB2YXIgc3RhcnRTeW0gPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKTtcbiAgICAgIHZhciBlbmRTeW0gPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCk7XG4gICAgICB2YXIgdGVtcGxhdGUgPVxuICAgICAgICAnPGRpdiAnKyBkaXJlY3RpdmVOYW1lICsnLXBvcHVwICcrXG4gICAgICAgICAgJ3RpdGxlPVwiJytzdGFydFN5bSsndGl0bGUnK2VuZFN5bSsnXCIgJytcbiAgICAgICAgICAob3B0aW9ucy51c2VDb250ZW50RXhwID9cbiAgICAgICAgICAgICdjb250ZW50LWV4cD1cImNvbnRlbnRFeHAoKVwiICcgOlxuICAgICAgICAgICAgJ2NvbnRlbnQ9XCInK3N0YXJ0U3ltKydjb250ZW50JytlbmRTeW0rJ1wiICcpICtcbiAgICAgICAgICAncGxhY2VtZW50PVwiJytzdGFydFN5bSsncGxhY2VtZW50JytlbmRTeW0rJ1wiICcrXG4gICAgICAgICAgJ3BvcHVwLWNsYXNzPVwiJytzdGFydFN5bSsncG9wdXBDbGFzcycrZW5kU3ltKydcIiAnK1xuICAgICAgICAgICdhbmltYXRpb249XCJhbmltYXRpb25cIiAnK1xuICAgICAgICAgICdpcy1vcGVuPVwiaXNPcGVuXCInK1xuICAgICAgICAgICdvcmlnaW4tc2NvcGU9XCJvcmlnU2NvcGVcIiAnK1xuICAgICAgICAgICc+JytcbiAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbih0RWxlbSwgdEF0dHJzKSB7XG4gICAgICAgICAgdmFyIHRvb2x0aXBMaW5rZXIgPSAkY29tcGlsZSggdGVtcGxhdGUgKTtcblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgdG9vbHRpcEN0cmwpIHtcbiAgICAgICAgICAgIHZhciB0b29sdGlwO1xuICAgICAgICAgICAgdmFyIHRvb2x0aXBMaW5rZWRTY29wZTtcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgICAgICAgIHZhciBwb3B1cFRpbWVvdXQ7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb25UaW1lb3V0O1xuICAgICAgICAgICAgdmFyIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMuYXBwZW5kVG9Cb2R5KSA/IG9wdGlvbnMuYXBwZW5kVG9Cb2R5IDogZmFsc2U7XG4gICAgICAgICAgICB2YXIgdHJpZ2dlcnMgPSBnZXRUcmlnZ2Vycyh1bmRlZmluZWQpO1xuICAgICAgICAgICAgdmFyIGhhc0VuYWJsZUV4cCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzW3ByZWZpeCArICdFbmFibGUnXSk7XG4gICAgICAgICAgICB2YXIgdHRTY29wZSA9IHNjb3BlLiRuZXcodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgcmVwb3NpdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGlzT3BlbkV4cCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzW3ByZWZpeCArICdJc09wZW4nXSkgPyAkcGFyc2UoYXR0cnNbcHJlZml4ICsgJ0lzT3BlbiddKSA6IGZhbHNlO1xuXG4gICAgICAgICAgICB2YXIgcG9zaXRpb25Ub29sdGlwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICghdG9vbHRpcCkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgICBpZiAoIXBvc2l0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uVGltZW91dCA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgdGhlIHBvc2l0aW9uaW5nIGFuZCBib3ggc2l6ZSBmb3IgY29ycmVjdCB3aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgIHRvb2x0aXAuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwLCB3aWR0aDogJ2F1dG8nLCBoZWlnaHQ6ICdhdXRvJyB9KTtcblxuICAgICAgICAgICAgICAgICAgdmFyIHR0Qm94ID0gJHBvc2l0aW9uLnBvc2l0aW9uKHRvb2x0aXApO1xuICAgICAgICAgICAgICAgICAgdmFyIHR0Q3NzID0gJHBvc2l0aW9uLnBvc2l0aW9uRWxlbWVudHMoZWxlbWVudCwgdG9vbHRpcCwgdHRTY29wZS5wbGFjZW1lbnQsIGFwcGVuZFRvQm9keSk7XG4gICAgICAgICAgICAgICAgICB0dENzcy50b3AgKz0gJ3B4JztcbiAgICAgICAgICAgICAgICAgIHR0Q3NzLmxlZnQgKz0gJ3B4JztcblxuICAgICAgICAgICAgICAgICAgdHRDc3Mud2lkdGggPSB0dEJveC53aWR0aCArICdweCc7XG4gICAgICAgICAgICAgICAgICB0dENzcy5oZWlnaHQgPSB0dEJveC5oZWlnaHQgKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgICAvLyBOb3cgc2V0IHRoZSBjYWxjdWxhdGVkIHBvc2l0aW9uaW5nIGFuZCBzaXplLlxuICAgICAgICAgICAgICAgICAgdG9vbHRpcC5jc3ModHRDc3MpO1xuXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvblRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgfSwgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBTZXQgdXAgdGhlIGNvcnJlY3Qgc2NvcGUgdG8gYWxsb3cgdHJhbnNjbHVzaW9uIGxhdGVyXG4gICAgICAgICAgICB0dFNjb3BlLm9yaWdTY29wZSA9IHNjb3BlO1xuXG4gICAgICAgICAgICAvLyBCeSBkZWZhdWx0LCB0aGUgdG9vbHRpcCBpcyBub3Qgb3Blbi5cbiAgICAgICAgICAgIC8vIFRPRE8gYWRkIGFiaWxpdHkgdG8gc3RhcnQgdG9vbHRpcCBvcGVuZWRcbiAgICAgICAgICAgIHR0U2NvcGUuaXNPcGVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZVRvb2x0aXBCaW5kKCkge1xuICAgICAgICAgICAgICBpZiAoIXR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgc2hvd1Rvb2x0aXBCaW5kKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGlkZVRvb2x0aXBCaW5kKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgdG9vbHRpcCB3aXRoIGRlbGF5IGlmIHNwZWNpZmllZCwgb3RoZXJ3aXNlIHNob3cgaXQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dUb29sdGlwQmluZCgpIHtcbiAgICAgICAgICAgICAgaWYgKGhhc0VuYWJsZUV4cCAmJiAhc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4ICsgJ0VuYWJsZSddKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHByZXBhcmVUb29sdGlwKCk7XG5cbiAgICAgICAgICAgICAgaWYgKHR0U2NvcGUucG9wdXBEZWxheSkge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIHRvb2x0aXAgd2FzIGFscmVhZHkgc2NoZWR1bGVkIHRvIHBvcC11cC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgc2hvdyBpcyB0cmlnZ2VyZWQgbXVsdGlwbGUgdGltZXMgYmVmb3JlIGFueSBoaWRlIGlzIHRyaWdnZXJlZC5cbiAgICAgICAgICAgICAgICBpZiAoIXBvcHVwVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gJHRpbWVvdXQoc2hvdywgdHRTY29wZS5wb3B1cERlbGF5LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNob3coKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBoaWRlVG9vbHRpcEJpbmQgKCkge1xuICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgdG9vbHRpcCBwb3B1cCBlbGVtZW50LlxuICAgICAgICAgICAgZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHBlbmRpbmcgcmVtb3ZlIHRyYW5zaXRpb24sIHdlIG11c3QgY2FuY2VsIGl0LCBsZXN0IHRoZVxuICAgICAgICAgICAgICAvLyB0b29sdGlwIGJlIG15c3RlcmlvdXNseSByZW1vdmVkLlxuICAgICAgICAgICAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodHJhbnNpdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIERvbid0IHNob3cgZW1wdHkgdG9vbHRpcHMuXG4gICAgICAgICAgICAgIGlmICghKG9wdGlvbnMudXNlQ29udGVudEV4cCA/IHR0U2NvcGUuY29udGVudEV4cCgpIDogdHRTY29wZS5jb250ZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLm5vb3A7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjcmVhdGVUb29sdGlwKCk7XG5cbiAgICAgICAgICAgICAgLy8gQW5kIHNob3cgdGhlIHRvb2x0aXAuXG4gICAgICAgICAgICAgIHR0U2NvcGUuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaWYgKGlzT3BlbkV4cCkge1xuICAgICAgICAgICAgICAgIGlzT3BlbkV4cC5hc3NpZ24odHRTY29wZS5vcmlnU2NvcGUsIHR0U2NvcGUuaXNPcGVuKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgICAgdHRTY29wZS4kYXBwbHkoKTsgLy8gZGlnZXN0IHJlcXVpcmVkIGFzICRhcHBseSBpcyBub3QgY2FsbGVkXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0b29sdGlwLmNzcyh7IGRpc3BsYXk6ICdibG9jaycgfSk7XG5cbiAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhpZGUgdGhlIHRvb2x0aXAgcG9wdXAgZWxlbWVudC5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICAgIC8vIEZpcnN0IHRoaW5ncyBmaXJzdDogd2UgZG9uJ3Qgc2hvdyBpdCBhbnltb3JlLlxuICAgICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICBpZiAoaXNPcGVuRXhwKSB7XG4gICAgICAgICAgICAgICAgaXNPcGVuRXhwLmFzc2lnbih0dFNjb3BlLm9yaWdTY29wZSwgdHRTY29wZS5pc09wZW4pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy9pZiB0b29sdGlwIGlzIGdvaW5nIHRvIGJlIHNob3duIGFmdGVyIGRlbGF5LCB3ZSBtdXN0IGNhbmNlbCB0aGlzXG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3B1cFRpbWVvdXQpO1xuICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3NpdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICBwb3NpdGlvblRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgIC8vIEFuZCBub3cgd2UgcmVtb3ZlIGl0IGZyb20gdGhlIERPTS4gSG93ZXZlciwgaWYgd2UgaGF2ZSBhbmltYXRpb24sIHdlXG4gICAgICAgICAgICAgIC8vIG5lZWQgdG8gd2FpdCBmb3IgaXQgdG8gZXhwaXJlIGJlZm9yZWhhbmQuXG4gICAgICAgICAgICAgIC8vIEZJWE1FOiB0aGlzIGlzIGEgcGxhY2Vob2xkZXIgZm9yIGEgcG9ydCBvZiB0aGUgdHJhbnNpdGlvbnMgbGlicmFyeS5cbiAgICAgICAgICAgICAgaWYgKHR0U2NvcGUuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFuc2l0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSAkdGltZW91dChyZW1vdmVUb29sdGlwLCA1MDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlVG9vbHRpcCgpIHtcbiAgICAgICAgICAgICAgLy8gVGhlcmUgY2FuIG9ubHkgYmUgb25lIHRvb2x0aXAgZWxlbWVudCBwZXIgZGlyZWN0aXZlIHNob3duIGF0IG9uY2UuXG4gICAgICAgICAgICAgIGlmICh0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRvb2x0aXBMaW5rZWRTY29wZSA9IHR0U2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgICB0b29sdGlwID0gdG9vbHRpcExpbmtlcih0b29sdGlwTGlua2VkU2NvcGUsIGZ1bmN0aW9uKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCh0b29sdGlwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZnRlcih0b29sdGlwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUNvbnRlbnRFeHApIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJHdhdGNoKCdjb250ZW50RXhwKCknLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICAgIGlmICghdmFsICYmIHR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRvb2x0aXBMaW5rZWRTY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIXJlcG9zaXRpb25TY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3NpdGlvblNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBMaW5rZWRTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVwb3NpdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRvb2x0aXAgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0b29sdGlwTGlua2VkU2NvcGUpIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBhcmVUb29sdGlwKCkge1xuICAgICAgICAgICAgICBwcmVwUG9wdXBDbGFzcygpO1xuICAgICAgICAgICAgICBwcmVwUGxhY2VtZW50KCk7XG4gICAgICAgICAgICAgIHByZXBQb3B1cERlbGF5KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHR0U2NvcGUuY29udGVudEV4cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuJGV2YWwoYXR0cnNbdHlwZV0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPYnNlcnZlIHRoZSByZWxldmFudCBhdHRyaWJ1dGVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMudXNlQ29udGVudEV4cCkge1xuICAgICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSh0eXBlLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICB0dFNjb3BlLmNvbnRlbnQgPSB2YWw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXZhbCAmJiB0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZGlzYWJsZWQnLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgaWYgKHBvcHVwVGltZW91dCAmJiB2YWwpIHtcbiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocG9wdXBUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHZhbCAmJiB0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKHByZWZpeCArICdUaXRsZScsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICB0dFNjb3BlLnRpdGxlID0gdmFsO1xuICAgICAgICAgICAgICBwb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZShwcmVmaXggKyAnUGxhY2VtZW50JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICh0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgIHByZXBQbGFjZW1lbnQoKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChpc09wZW5FeHApIHtcbiAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGlzT3BlbkV4cCwgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCAhPT0gdHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICAgIHRvZ2dsZVRvb2x0aXBCaW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFBvcHVwQ2xhc3MoKSB7XG4gICAgICAgICAgICAgIHR0U2NvcGUucG9wdXBDbGFzcyA9IGF0dHJzW3ByZWZpeCArICdDbGFzcyddO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwUGxhY2VtZW50KCkge1xuICAgICAgICAgICAgICB2YXIgdmFsID0gYXR0cnNbcHJlZml4ICsgJ1BsYWNlbWVudCddO1xuICAgICAgICAgICAgICB0dFNjb3BlLnBsYWNlbWVudCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHZhbCkgPyB2YWwgOiBvcHRpb25zLnBsYWNlbWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFBvcHVwRGVsYXkoKSB7XG4gICAgICAgICAgICAgIHZhciB2YWwgPSBhdHRyc1twcmVmaXggKyAnUG9wdXBEZWxheSddO1xuICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBwYXJzZUludCh2YWwsIDEwKTtcbiAgICAgICAgICAgICAgdHRTY29wZS5wb3B1cERlbGF5ID0gIWlzTmFOKGRlbGF5KSA/IGRlbGF5IDogb3B0aW9ucy5wb3B1cERlbGF5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdW5yZWdpc3RlclRyaWdnZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHRyaWdnZXJzLnNob3cuZm9yRWFjaChmdW5jdGlvbih0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlciwgc2hvd1Rvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHRyaWdnZXJzLmhpZGUuZm9yRWFjaChmdW5jdGlvbih0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlciwgaGlkZVRvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwVHJpZ2dlcnMoKSB7XG4gICAgICAgICAgICAgIHZhciB2YWwgPSBhdHRyc1twcmVmaXggKyAnVHJpZ2dlciddO1xuICAgICAgICAgICAgICB1bnJlZ2lzdGVyVHJpZ2dlcnMoKTtcblxuICAgICAgICAgICAgICB0cmlnZ2VycyA9IGdldFRyaWdnZXJzKHZhbCk7XG5cbiAgICAgICAgICAgICAgaWYgKHRyaWdnZXJzLnNob3cgIT09ICdub25lJykge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJzLnNob3cuZm9yRWFjaChmdW5jdGlvbih0cmlnZ2VyLCBpZHgpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFVzaW5nIHJhdyBhZGRFdmVudExpc3RlbmVyIGR1ZSB0byBqcUxpdGUvalF1ZXJ5IGJ1ZyAtICM0MDYwXG4gICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlciA9PT0gdHJpZ2dlcnMuaGlkZVtpZHhdKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uYWRkRXZlbnRMaXN0ZW5lcih0cmlnZ2VyLCB0b2dnbGVUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKHRyaWdnZXIsIHNob3dUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uYWRkRXZlbnRMaXN0ZW5lcih0cmlnZ2Vycy5oaWRlW2lkeF0sIGhpZGVUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXBUcmlnZ2VycygpO1xuXG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4ICsgJ0FuaW1hdGlvbiddKTtcbiAgICAgICAgICAgIHR0U2NvcGUuYW5pbWF0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYW5pbWF0aW9uKSA/ICEhYW5pbWF0aW9uIDogb3B0aW9ucy5hbmltYXRpb247XG5cbiAgICAgICAgICAgIHZhciBhcHBlbmRUb0JvZHlWYWwgPSBzY29wZS4kZXZhbChhdHRyc1twcmVmaXggKyAnQXBwZW5kVG9Cb2R5J10pO1xuICAgICAgICAgICAgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoYXBwZW5kVG9Cb2R5VmFsKSA/IGFwcGVuZFRvQm9keVZhbCA6IGFwcGVuZFRvQm9keTtcblxuICAgICAgICAgICAgLy8gaWYgYSB0b29sdGlwIGlzIGF0dGFjaGVkIHRvIDxib2R5PiB3ZSBuZWVkIHRvIHJlbW92ZSBpdCBvblxuICAgICAgICAgICAgLy8gbG9jYXRpb24gY2hhbmdlIGFzIGl0cyBwYXJlbnQgc2NvcGUgd2lsbCBwcm9iYWJseSBub3QgYmUgZGVzdHJveWVkXG4gICAgICAgICAgICAvLyBieSB0aGUgY2hhbmdlLlxuICAgICAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgICAgICBzY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiBjbG9zZVRvb2x0aXBPbkxvY2F0aW9uQ2hhbmdlU3VjY2VzcygpIHtcbiAgICAgICAgICAgICAgICBpZiAodHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdG9vbHRpcCBpcyBkZXN0cm95ZWQgYW5kIHJlbW92ZWQuXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gb25EZXN0cm95VG9vbHRpcCgpIHtcbiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRyYW5zaXRpb25UaW1lb3V0KTtcbiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHBvcHVwVGltZW91dCk7XG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3NpdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICB1bnJlZ2lzdGVyVHJpZ2dlcnMoKTtcbiAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpO1xuICAgICAgICAgICAgICB0dFNjb3BlID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfV07XG59KVxuXG4vLyBUaGlzIGlzIG1vc3RseSBuZ0luY2x1ZGUgY29kZSBidXQgd2l0aCBhIGN1c3RvbSBzY29wZVxuLmRpcmVjdGl2ZSgndG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZScsIFtcbiAgICAgICAgICckYW5pbWF0ZScsICckc2NlJywgJyRjb21waWxlJywgJyR0ZW1wbGF0ZVJlcXVlc3QnLFxuZnVuY3Rpb24gKCRhbmltYXRlICwgICRzY2UgLCAgJGNvbXBpbGUgLCAgJHRlbXBsYXRlUmVxdWVzdCkge1xuICByZXR1cm4ge1xuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRycykge1xuICAgICAgdmFyIG9yaWdTY29wZSA9IHNjb3BlLiRldmFsKGF0dHJzLnRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGVTY29wZSk7XG5cbiAgICAgIHZhciBjaGFuZ2VDb3VudGVyID0gMCxcbiAgICAgICAgY3VycmVudFNjb3BlLFxuICAgICAgICBwcmV2aW91c0VsZW1lbnQsXG4gICAgICAgIGN1cnJlbnRFbGVtZW50O1xuXG4gICAgICB2YXIgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50KSB7XG4gICAgICAgICAgcHJldmlvdXNFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRTY29wZSkge1xuICAgICAgICAgIGN1cnJlbnRTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgJGFuaW1hdGUubGVhdmUoY3VycmVudEVsZW1lbnQpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IGN1cnJlbnRFbGVtZW50O1xuICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCRzY2UucGFyc2VBc1Jlc291cmNlVXJsKGF0dHJzLnRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGUpLCBmdW5jdGlvbihzcmMpIHtcbiAgICAgICAgdmFyIHRoaXNDaGFuZ2VJZCA9ICsrY2hhbmdlQ291bnRlcjtcblxuICAgICAgICBpZiAoc3JjKSB7XG4gICAgICAgICAgLy9zZXQgdGhlIDJuZCBwYXJhbSB0byB0cnVlIHRvIGlnbm9yZSB0aGUgdGVtcGxhdGUgcmVxdWVzdCBlcnJvciBzbyB0aGF0IHRoZSBpbm5lclxuICAgICAgICAgIC8vY29udGVudHMgYW5kIHNjb3BlIGNhbiBiZSBjbGVhbmVkIHVwLlxuICAgICAgICAgICR0ZW1wbGF0ZVJlcXVlc3Qoc3JjLCB0cnVlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkICE9PSBjaGFuZ2VDb3VudGVyKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgdmFyIG5ld1Njb3BlID0gb3JpZ1Njb3BlLiRuZXcoKTtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IHJlc3BvbnNlO1xuXG4gICAgICAgICAgICB2YXIgY2xvbmUgPSAkY29tcGlsZSh0ZW1wbGF0ZSkobmV3U2NvcGUsIGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsIGVsZW0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG5ld1Njb3BlO1xuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjbG9uZTtcblxuICAgICAgICAgICAgY3VycmVudFNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRMb2FkZWQnLCBzcmMpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCA9PT0gY2hhbmdlQ291bnRlcikge1xuICAgICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRFcnJvcicsIHNyYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZCcsIHNyYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4vKipcbiAqIE5vdGUgdGhhdCBpdCdzIGludGVudGlvbmFsIHRoYXQgdGhlc2UgY2xhc3NlcyBhcmUgKm5vdCogYXBwbGllZCB0aHJvdWdoICRhbmltYXRlLlxuICogVGhleSBtdXN0IG5vdCBiZSBhbmltYXRlZCBhcyB0aGV5J3JlIGV4cGVjdGVkIHRvIGJlIHByZXNlbnQgb24gdGhlIHRvb2x0aXAgb25cbiAqIGluaXRpYWxpemF0aW9uLlxuICovXG4uZGlyZWN0aXZlKCd0b29sdGlwQ2xhc3NlcycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICBpZiAoc2NvcGUucGxhY2VtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3Moc2NvcGUucGxhY2VtZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChzY29wZS5wb3B1cENsYXNzKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3Moc2NvcGUucG9wdXBDbGFzcyk7XG4gICAgICB9XG4gICAgICBpZiAoc2NvcGUuYW5pbWF0aW9uKCkpIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhhdHRycy50b29sdGlwQW5pbWF0aW9uQ2xhc3MpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudDogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndG9vbHRpcCcsIFsgJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcbiAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicpO1xufV0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBUZW1wbGF0ZVBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyBjb250ZW50RXhwOiAnJicsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyxcbiAgICAgIG9yaWdpblNjb3BlOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndG9vbHRpcFRlbXBsYXRlJywgWyckdG9vbHRpcCcsIGZ1bmN0aW9uKCR0b29sdGlwKSB7XG4gIHJldHVybiAkdG9vbHRpcCgndG9vbHRpcFRlbXBsYXRlJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicsIHtcbiAgICB1c2VDb250ZW50RXhwOiB0cnVlXG4gIH0pO1xufV0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBIdG1sUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnRFeHA6ICcmJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndG9vbHRpcEh0bWwnLCBbJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcbiAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwSHRtbCcsICd0b29sdGlwJywgJ21vdXNlZW50ZXInLCB7XG4gICAgdXNlQ29udGVudEV4cDogdHJ1ZVxuICB9KTtcbn1dKVxuXG4vKlxuRGVwcmVjYXRlZFxuKi9cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBIdG1sVW5zYWZlUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbCdcbiAgfTtcbn0pXG5cbi52YWx1ZSgndG9vbHRpcEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQnLCBmYWxzZSlcbi5kaXJlY3RpdmUoJ3Rvb2x0aXBIdG1sVW5zYWZlJywgW1xuICAgICAgICAgICckdG9vbHRpcCcsICd0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCcsICckbG9nJyxcbmZ1bmN0aW9uKCR0b29sdGlwICwgIHRvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkICwgICRsb2cpIHtcbiAgaWYgKCF0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCkge1xuICAgICRsb2cud2FybigndG9vbHRpcC1odG1sLXVuc2FmZSBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHRvb2x0aXAtaHRtbCBvciB0b29sdGlwLXRlbXBsYXRlIGluc3RlYWQuJyk7XG4gIH1cbiAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwSHRtbFVuc2FmZScsICd0b29sdGlwJywgJ21vdXNlZW50ZXInKTtcbn1dKTtcblxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGZlYXR1cmVzIGFyZSBzdGlsbCBvdXRzdGFuZGluZzogcG9wdXAgZGVsYXksIGFuaW1hdGlvbiBhcyBhXG4gKiBmdW5jdGlvbiwgcGxhY2VtZW50IGFzIGEgZnVuY3Rpb24sIGluc2lkZSwgc3VwcG9ydCBmb3IgbW9yZSB0cmlnZ2VycyB0aGFuXG4gKiBqdXN0IG1vdXNlIGVudGVyL2xlYXZlLCBhbmQgc2VsZWN0b3IgZGVsZWdhdGF0aW9uLlxuICovXG5hbmd1bGFyLm1vZHVsZSggJ3VpLmJvb3RzdHJhcC5wb3BvdmVyJywgWyd1aS5ib290c3RyYXAudG9vbHRpcCddKVxuXG4uZGlyZWN0aXZlKCdwb3BvdmVyVGVtcGxhdGVQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgdGl0bGU6ICdAJywgY29udGVudEV4cDogJyYnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicsXG4gICAgICBvcmlnaW5TY29wZTogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3BvcG92ZXJUZW1wbGF0ZScsIFsnJHRvb2x0aXAnLCBmdW5jdGlvbigkdG9vbHRpcCkge1xuICByZXR1cm4gJHRvb2x0aXAoJ3BvcG92ZXJUZW1wbGF0ZScsICdwb3BvdmVyJywgJ2NsaWNrJywge1xuICAgIHVzZUNvbnRlbnRFeHA6IHRydWVcbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgncG9wb3Zlckh0bWxQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudEV4cDogJyYnLCB0aXRsZTogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci1odG1sLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdwb3BvdmVySHRtbCcsIFsnJHRvb2x0aXAnLCBmdW5jdGlvbigkdG9vbHRpcCkge1xuICByZXR1cm4gJHRvb2x0aXAoICdwb3BvdmVySHRtbCcsICdwb3BvdmVyJywgJ2NsaWNrJywge1xuICAgIHVzZUNvbnRlbnRFeHA6IHRydWVcbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgncG9wb3ZlclBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyB0aXRsZTogJ0AnLCBjb250ZW50OiAnQCcsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdwb3BvdmVyJywgWyckdG9vbHRpcCcsIGZ1bmN0aW9uKCR0b29sdGlwKSB7XG4gIHJldHVybiAkdG9vbHRpcCggJ3BvcG92ZXInLCAncG9wb3ZlcicsICdjbGljaycgKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5wcm9ncmVzc2JhcicsIFtdKVxuXG4uY29uc3RhbnQoJ3Byb2dyZXNzQ29uZmlnJywge1xuICBhbmltYXRlOiB0cnVlLFxuICBtYXg6IDEwMFxufSlcblxuLnZhbHVlKCckcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcnLCBmYWxzZSlcblxuLmNvbnRyb2xsZXIoJ1Byb2dyZXNzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICdwcm9ncmVzc0NvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCBwcm9ncmVzc0NvbmZpZykge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBhbmltYXRlID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmFuaW1hdGUpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmFuaW1hdGUpIDogcHJvZ3Jlc3NDb25maWcuYW5pbWF0ZTtcblxuICB0aGlzLmJhcnMgPSBbXTtcbiAgJHNjb3BlLm1heCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRzY29wZS5tYXgpID8gJHNjb3BlLm1heCA6IHByb2dyZXNzQ29uZmlnLm1heDtcblxuICB0aGlzLmFkZEJhciA9IGZ1bmN0aW9uKGJhciwgZWxlbWVudCkge1xuICAgIGlmICghYW5pbWF0ZSkge1xuICAgICAgZWxlbWVudC5jc3Moeyd0cmFuc2l0aW9uJzogJ25vbmUnfSk7XG4gICAgfVxuXG4gICAgdGhpcy5iYXJzLnB1c2goYmFyKTtcblxuICAgIGJhci5tYXggPSAkc2NvcGUubWF4O1xuXG4gICAgYmFyLiR3YXRjaCgndmFsdWUnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgYmFyLnJlY2FsY3VsYXRlUGVyY2VudGFnZSgpO1xuICAgIH0pO1xuXG4gICAgYmFyLnJlY2FsY3VsYXRlUGVyY2VudGFnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgYmFyLnBlcmNlbnQgPSArKDEwMCAqIGJhci52YWx1ZSAvIGJhci5tYXgpLnRvRml4ZWQoMik7XG5cbiAgICAgIHZhciB0b3RhbFBlcmNlbnRhZ2UgPSBzZWxmLmJhcnMucmVkdWNlKGZ1bmN0aW9uKHRvdGFsLCBiYXIpIHtcbiAgICAgICAgcmV0dXJuIHRvdGFsICsgYmFyLnBlcmNlbnQ7XG4gICAgICB9LCAwKTtcblxuICAgICAgaWYgKHRvdGFsUGVyY2VudGFnZSA+IDEwMCkge1xuICAgICAgICBiYXIucGVyY2VudCAtPSB0b3RhbFBlcmNlbnRhZ2UgLSAxMDA7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGJhci4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAgIHNlbGYucmVtb3ZlQmFyKGJhcik7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5yZW1vdmVCYXIgPSBmdW5jdGlvbihiYXIpIHtcbiAgICAgIHRoaXMuYmFycy5zcGxpY2UodGhpcy5iYXJzLmluZGV4T2YoYmFyKSwgMSk7XG4gIH07XG5cbiAgJHNjb3BlLiR3YXRjaCgnbWF4JywgZnVuY3Rpb24obWF4KSB7XG4gICAgc2VsZi5iYXJzLmZvckVhY2goZnVuY3Rpb24oYmFyKSB7XG4gICAgICBiYXIubWF4ID0gJHNjb3BlLm1heDtcbiAgICAgIGJhci5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2UoKTtcbiAgICB9KTtcbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgndWliUHJvZ3Jlc3MnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ1Byb2dyZXNzQ29udHJvbGxlcicsXG4gICAgcmVxdWlyZTogJ3VpYlByb2dyZXNzJyxcbiAgICBzY29wZToge1xuICAgICAgbWF4OiAnPT8nXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdwcm9ncmVzcycsIFsnJGxvZycsICckcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcnLCBmdW5jdGlvbigkbG9nLCAkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ1Byb2dyZXNzQ29udHJvbGxlcicsXG4gICAgcmVxdWlyZTogJ3Byb2dyZXNzJyxcbiAgICBzY29wZToge1xuICAgICAgbWF4OiAnPT8nXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCRwcm9ncmVzc1N1cHByZXNzV2FybmluZykge1xuICAgICAgICAkbG9nLndhcm4oJ3Byb2dyZXNzIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLXByb2dyZXNzIGluc3RlYWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgndWliQmFyJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcXVpcmU6ICdedWliUHJvZ3Jlc3MnLFxuICAgIHNjb3BlOiB7XG4gICAgICB2YWx1ZTogJz0nLFxuICAgICAgdHlwZTogJ0AnXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIHByb2dyZXNzQ3RybCkge1xuICAgICAgcHJvZ3Jlc3NDdHJsLmFkZEJhcihzY29wZSwgZWxlbWVudCk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgnYmFyJywgWyckbG9nJywgJyRwcm9ncmVzc1N1cHByZXNzV2FybmluZycsIGZ1bmN0aW9uKCRsb2csICRwcm9ncmVzc1N1cHByZXNzV2FybmluZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXF1aXJlOiAnXnByb2dyZXNzJyxcbiAgICBzY29wZToge1xuICAgICAgdmFsdWU6ICc9JyxcbiAgICAgIHR5cGU6ICdAJ1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwcm9ncmVzc0N0cmwpIHtcbiAgICAgIGlmICgkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcpIHtcbiAgICAgICAgJGxvZy53YXJuKCdiYXIgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItYmFyIGluc3RlYWQnKTtcbiAgICAgIH1cbiAgICAgIHByb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsIGVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdwcm9ncmVzc2JhcicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAnUHJvZ3Jlc3NDb250cm9sbGVyJyxcbiAgICBzY29wZToge1xuICAgICAgdmFsdWU6ICc9JyxcbiAgICAgIG1heDogJz0/JyxcbiAgICAgIHR5cGU6ICdAJ1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIHByb2dyZXNzQ3RybCkge1xuICAgICAgcHJvZ3Jlc3NDdHJsLmFkZEJhcihzY29wZSwgYW5ndWxhci5lbGVtZW50KGVsZW1lbnQuY2hpbGRyZW4oKVswXSkpO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnJhdGluZycsIFtdKVxuXG4uY29uc3RhbnQoJ3JhdGluZ0NvbmZpZycsIHtcbiAgbWF4OiA1LFxuICBzdGF0ZU9uOiBudWxsLFxuICBzdGF0ZU9mZjogbnVsbCxcbiAgdGl0bGVzIDogWydvbmUnLCAndHdvJywgJ3RocmVlJywgJ2ZvdXInLCAnZml2ZSddXG59KVxuXG4uY29udHJvbGxlcignUmF0aW5nQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICdyYXRpbmdDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgcmF0aW5nQ29uZmlnKSB7XG4gIHZhciBuZ01vZGVsQ3RybCAgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9O1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXykge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSB0aGlzLnJlbmRlcjtcblxuICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSA8PCAwICE9PSB2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zdGF0ZU9uID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnN0YXRlT24pID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnN0YXRlT24pIDogcmF0aW5nQ29uZmlnLnN0YXRlT247XG4gICAgdGhpcy5zdGF0ZU9mZiA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zdGF0ZU9mZikgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPZmYpIDogcmF0aW5nQ29uZmlnLnN0YXRlT2ZmO1xuICAgIHZhciB0bXBUaXRsZXMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMudGl0bGVzKSAgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMudGl0bGVzKSA6IHJhdGluZ0NvbmZpZy50aXRsZXMgOyAgICBcbiAgICB0aGlzLnRpdGxlcyA9IGFuZ3VsYXIuaXNBcnJheSh0bXBUaXRsZXMpICYmIHRtcFRpdGxlcy5sZW5ndGggPiAwID9cbiAgICAgIHRtcFRpdGxlcyA6IHJhdGluZ0NvbmZpZy50aXRsZXM7XG4gICAgXG4gICAgdmFyIHJhdGluZ1N0YXRlcyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5yYXRpbmdTdGF0ZXMpID9cbiAgICAgICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yYXRpbmdTdGF0ZXMpIDpcbiAgICAgIG5ldyBBcnJheShhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWF4KSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tYXgpIDogcmF0aW5nQ29uZmlnLm1heCk7XG4gICAgJHNjb3BlLnJhbmdlID0gdGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cyhyYXRpbmdTdGF0ZXMpO1xuICB9O1xuXG4gIHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHMgPSBmdW5jdGlvbihzdGF0ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IHN0YXRlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHN0YXRlc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKHsgaW5kZXg6IGkgfSwgeyBzdGF0ZU9uOiB0aGlzLnN0YXRlT24sIHN0YXRlT2ZmOiB0aGlzLnN0YXRlT2ZmLCB0aXRsZTogdGhpcy5nZXRUaXRsZShpKSB9LCBzdGF0ZXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGVzO1xuICB9O1xuICBcbiAgdGhpcy5nZXRUaXRsZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgaWYgKGluZGV4ID49IHRoaXMudGl0bGVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGluZGV4ICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMudGl0bGVzW2luZGV4XTtcbiAgICB9XG4gIH07XG4gIFxuICAkc2NvcGUucmF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCEkc2NvcGUucmVhZG9ubHkgJiYgdmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAkc2NvcGUucmFuZ2UubGVuZ3RoKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPT09IHZhbHVlID8gMCA6IHZhbHVlKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmVudGVyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoISRzY29wZS5yZWFkb25seSkge1xuICAgICAgJHNjb3BlLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgICRzY29wZS5vbkhvdmVyKHt2YWx1ZTogdmFsdWV9KTtcbiAgfTtcblxuICAkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUudmFsdWUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuICAgICRzY29wZS5vbkxlYXZlKCk7XG4gIH07XG5cbiAgJHNjb3BlLm9uS2V5ZG93biA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIGlmICgvKDM3fDM4fDM5fDQwKS8udGVzdChldnQud2hpY2gpKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICRzY29wZS5yYXRlKCRzY29wZS52YWx1ZSArIChldnQud2hpY2ggPT09IDM4IHx8IGV2dC53aGljaCA9PT0gMzkgPyAxIDogLTEpKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUudmFsdWUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3JhdGluZycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcXVpcmU6IFsncmF0aW5nJywgJ25nTW9kZWwnXSxcbiAgICBzY29wZToge1xuICAgICAgcmVhZG9ubHk6ICc9PycsXG4gICAgICBvbkhvdmVyOiAnJicsXG4gICAgICBvbkxlYXZlOiAnJidcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6ICdSYXRpbmdDb250cm9sbGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCcsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgcmF0aW5nQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuICAgICAgcmF0aW5nQ3RybC5pbml0KCBuZ01vZGVsQ3RybCApO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5cbi8qKlxuICogQG5nZG9jIG92ZXJ2aWV3XG4gKiBAbmFtZSB1aS5ib290c3RyYXAudGFic1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQW5ndWxhckpTIHZlcnNpb24gb2YgdGhlIHRhYnMgZGlyZWN0aXZlLlxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudGFicycsIFtdKVxuXG4uY29udHJvbGxlcignVGFic2V0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24gVGFic2V0Q3RybCgkc2NvcGUpIHtcbiAgdmFyIGN0cmwgPSB0aGlzLFxuICAgICAgdGFicyA9IGN0cmwudGFicyA9ICRzY29wZS50YWJzID0gW107XG5cbiAgY3RybC5zZWxlY3QgPSBmdW5jdGlvbihzZWxlY3RlZFRhYikge1xuICAgIGFuZ3VsYXIuZm9yRWFjaCh0YWJzLCBmdW5jdGlvbih0YWIpIHtcbiAgICAgIGlmICh0YWIuYWN0aXZlICYmIHRhYiAhPT0gc2VsZWN0ZWRUYWIpIHtcbiAgICAgICAgdGFiLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0YWIub25EZXNlbGVjdCgpO1xuICAgICAgICBzZWxlY3RlZFRhYi5zZWxlY3RDYWxsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZWxlY3RlZFRhYi5hY3RpdmUgPSB0cnVlO1xuICAgIC8vIG9ubHkgY2FsbCBzZWxlY3QgaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gY2FsbGVkXG4gICAgaWYgKCFzZWxlY3RlZFRhYi5zZWxlY3RDYWxsZWQpIHtcbiAgICAgIHNlbGVjdGVkVGFiLm9uU2VsZWN0KCk7XG4gICAgICBzZWxlY3RlZFRhYi5zZWxlY3RDYWxsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBjdHJsLmFkZFRhYiA9IGZ1bmN0aW9uIGFkZFRhYih0YWIpIHtcbiAgICB0YWJzLnB1c2godGFiKTtcbiAgICAvLyB3ZSBjYW4ndCBydW4gdGhlIHNlbGVjdCBmdW5jdGlvbiBvbiB0aGUgZmlyc3QgdGFiXG4gICAgLy8gc2luY2UgdGhhdCB3b3VsZCBzZWxlY3QgaXQgdHdpY2VcbiAgICBpZiAodGFicy5sZW5ndGggPT09IDEgJiYgdGFiLmFjdGl2ZSAhPT0gZmFsc2UpIHtcbiAgICAgIHRhYi5hY3RpdmUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGFiLmFjdGl2ZSkge1xuICAgICAgY3RybC5zZWxlY3QodGFiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFiLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBjdHJsLnJlbW92ZVRhYiA9IGZ1bmN0aW9uIHJlbW92ZVRhYih0YWIpIHtcbiAgICB2YXIgaW5kZXggPSB0YWJzLmluZGV4T2YodGFiKTtcbiAgICAvL1NlbGVjdCBhIG5ldyB0YWIgaWYgdGhlIHRhYiB0byBiZSByZW1vdmVkIGlzIHNlbGVjdGVkIGFuZCBub3QgZGVzdHJveWVkXG4gICAgaWYgKHRhYi5hY3RpdmUgJiYgdGFicy5sZW5ndGggPiAxICYmICFkZXN0cm95ZWQpIHtcbiAgICAgIC8vSWYgdGhpcyBpcyB0aGUgbGFzdCB0YWIsIHNlbGVjdCB0aGUgcHJldmlvdXMgdGFiLiBlbHNlLCB0aGUgbmV4dCB0YWIuXG4gICAgICB2YXIgbmV3QWN0aXZlSW5kZXggPSBpbmRleCA9PSB0YWJzLmxlbmd0aCAtIDEgPyBpbmRleCAtIDEgOiBpbmRleCArIDE7XG4gICAgICBjdHJsLnNlbGVjdCh0YWJzW25ld0FjdGl2ZUluZGV4XSk7XG4gICAgfVxuICAgIHRhYnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfTtcblxuICB2YXIgZGVzdHJveWVkO1xuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgIGRlc3Ryb3llZCA9IHRydWU7XG4gIH0pO1xufV0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYnNldFxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUYWJzZXQgaXMgdGhlIG91dGVyIGNvbnRhaW5lciBmb3IgdGhlIHRhYnMgZGlyZWN0aXZlXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gdmVydGljYWwgV2hldGhlciBvciBub3QgdG8gdXNlIHZlcnRpY2FsIHN0eWxpbmcgZm9yIHRoZSB0YWJzLlxuICogQHBhcmFtIHtib29sZWFuPX0ganVzdGlmaWVkIFdoZXRoZXIgb3Igbm90IHRvIHVzZSBqdXN0aWZpZWQgc3R5bGluZyBmb3IgdGhlIHRhYnMuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDx0YWJzZXQ+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJUYWIgMVwiPjxiPkZpcnN0PC9iPiBDb250ZW50ITwvdGFiPlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVGFiIDJcIj48aT5TZWNvbmQ8L2k+IENvbnRlbnQhPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gICAgPGhyIC8+XG4gICAgPHRhYnNldCB2ZXJ0aWNhbD1cInRydWVcIj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIlZlcnRpY2FsIFRhYiAxXCI+PGI+Rmlyc3Q8L2I+IFZlcnRpY2FsIENvbnRlbnQhPC90YWI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJWZXJ0aWNhbCBUYWIgMlwiPjxpPlNlY29uZDwvaT4gVmVydGljYWwgQ29udGVudCE8L3RhYj5cbiAgICA8L3RhYnNldD5cbiAgICA8dGFic2V0IGp1c3RpZmllZD1cInRydWVcIj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIkp1c3RpZmllZCBUYWIgMVwiPjxiPkZpcnN0PC9iPiBKdXN0aWZpZWQgQ29udGVudCE8L3RhYj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIkp1c3RpZmllZCBUYWIgMlwiPjxpPlNlY29uZDwvaT4gSnVzdGlmaWVkIENvbnRlbnQhPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndGFic2V0JywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICB0eXBlOiAnQCdcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6ICdUYWJzZXRDb250cm9sbGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgc2NvcGUudmVydGljYWwgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy52ZXJ0aWNhbCkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnZlcnRpY2FsKSA6IGZhbHNlO1xuICAgICAgc2NvcGUuanVzdGlmaWVkID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuanVzdGlmaWVkKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuanVzdGlmaWVkKSA6IGZhbHNlO1xuICAgIH1cbiAgfTtcbn0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYlxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBoZWFkaW5nIFRoZSB2aXNpYmxlIGhlYWRpbmcsIG9yIHRpdGxlLCBvZiB0aGUgdGFiLiBTZXQgSFRNTCBoZWFkaW5ncyB3aXRoIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiSGVhZGluZyB0YWJIZWFkaW5nfS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gc2VsZWN0IEFuIGV4cHJlc3Npb24gdG8gZXZhbHVhdGUgd2hlbiB0aGUgdGFiIGlzIHNlbGVjdGVkLlxuICogQHBhcmFtIHtib29sZWFuPX0gYWN0aXZlIEEgYmluZGluZywgdGVsbGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHRhYiBpcyBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGRpc2FibGVkIEEgYmluZGluZywgdGVsbGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHRhYiBpcyBkaXNhYmxlZC5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSB0YWIgd2l0aCBhIGhlYWRpbmcgYW5kIGNvbnRlbnQuIE11c3QgYmUgcGxhY2VkIHdpdGhpbiBhIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFic2V0IHRhYnNldH0uXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDxkaXYgbmctY29udHJvbGxlcj1cIlRhYnNEZW1vQ3RybFwiPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc21hbGxcIiBuZy1jbGljaz1cIml0ZW1zWzBdLmFjdGl2ZSA9IHRydWVcIj5cbiAgICAgICAgU2VsZWN0IGl0ZW0gMSwgdXNpbmcgYWN0aXZlIGJpbmRpbmdcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc21hbGxcIiBuZy1jbGljaz1cIml0ZW1zWzFdLmRpc2FibGVkID0gIWl0ZW1zWzFdLmRpc2FibGVkXCI+XG4gICAgICAgIEVuYWJsZS9kaXNhYmxlIGl0ZW0gMiwgdXNpbmcgZGlzYWJsZWQgYmluZGluZ1xuICAgICAgPC9idXR0b24+XG4gICAgICA8YnIgLz5cbiAgICAgIDx0YWJzZXQ+XG4gICAgICAgIDx0YWIgaGVhZGluZz1cIlRhYiAxXCI+Rmlyc3QgVGFiPC90YWI+XG4gICAgICAgIDx0YWIgc2VsZWN0PVwiYWxlcnRNZSgpXCI+XG4gICAgICAgICAgPHRhYi1oZWFkaW5nPjxpIGNsYXNzPVwiaWNvbi1iZWxsXCI+PC9pPiBBbGVydCBtZSE8L3RhYi1oZWFkaW5nPlxuICAgICAgICAgIFNlY29uZCBUYWIsIHdpdGggYWxlcnQgY2FsbGJhY2sgYW5kIGh0bWwgaGVhZGluZyFcbiAgICAgICAgPC90YWI+XG4gICAgICAgIDx0YWIgbmctcmVwZWF0PVwiaXRlbSBpbiBpdGVtc1wiXG4gICAgICAgICAgaGVhZGluZz1cInt7aXRlbS50aXRsZX19XCJcbiAgICAgICAgICBkaXNhYmxlZD1cIml0ZW0uZGlzYWJsZWRcIlxuICAgICAgICAgIGFjdGl2ZT1cIml0ZW0uYWN0aXZlXCI+XG4gICAgICAgICAge3tpdGVtLmNvbnRlbnR9fVxuICAgICAgICA8L3RhYj5cbiAgICAgIDwvdGFic2V0PlxuICAgIDwvZGl2PlxuICA8L2ZpbGU+XG4gIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICBmdW5jdGlvbiBUYWJzRGVtb0N0cmwoJHNjb3BlKSB7XG4gICAgICAkc2NvcGUuaXRlbXMgPSBbXG4gICAgICAgIHsgdGl0bGU6XCJEeW5hbWljIFRpdGxlIDFcIiwgY29udGVudDpcIkR5bmFtaWMgSXRlbSAwXCIgfSxcbiAgICAgICAgeyB0aXRsZTpcIkR5bmFtaWMgVGl0bGUgMlwiLCBjb250ZW50OlwiRHluYW1pYyBJdGVtIDFcIiwgZGlzYWJsZWQ6IHRydWUgfVxuICAgICAgXTtcblxuICAgICAgJHNjb3BlLmFsZXJ0TWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBhbGVydChcIllvdSd2ZSBzZWxlY3RlZCB0aGUgYWxlcnQgdGFiIVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH07XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJIZWFkaW5nXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYW4gSFRNTCBoZWFkaW5nIGZvciBhIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiIHRhYn0uIE11c3QgYmUgcGxhY2VkIGFzIGEgY2hpbGQgb2YgYSB0YWIgZWxlbWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgPHRhYnNldD5cbiAgICAgIDx0YWI+XG4gICAgICAgIDx0YWItaGVhZGluZz48Yj5IVE1MPC9iPiBpbiBteSB0aXRsZXM/ITwvdGFiLWhlYWRpbmc+XG4gICAgICAgIEFuZCBzb21lIGNvbnRlbnQsIHRvbyFcbiAgICAgIDwvdGFiPlxuICAgICAgPHRhYj5cbiAgICAgICAgPHRhYi1oZWFkaW5nPjxpIGNsYXNzPVwiaWNvbi1oZWFydFwiPjwvaT4gSWNvbiBoZWFkaW5nPyE/PC90YWItaGVhZGluZz5cbiAgICAgICAgVGhhdCdzIHJpZ2h0LlxuICAgICAgPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndGFiJywgWyckcGFyc2UnLCAnJGxvZycsIGZ1bmN0aW9uKCRwYXJzZSwgJGxvZykge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICdedGFic2V0JyxcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdGFicy90YWIuaHRtbCcsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgYWN0aXZlOiAnPT8nLFxuICAgICAgaGVhZGluZzogJ0AnLFxuICAgICAgb25TZWxlY3Q6ICcmc2VsZWN0JywgLy9UaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCBpbiBjb250ZW50SGVhZGluZ1RyYW5zY2x1ZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmNlIGl0IGluc2VydHMgdGhlIHRhYidzIGNvbnRlbnQgaW50byB0aGUgZG9tXG4gICAgICBvbkRlc2VsZWN0OiAnJmRlc2VsZWN0J1xuICAgIH0sXG4gICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICAvL0VtcHR5IGNvbnRyb2xsZXIgc28gb3RoZXIgZGlyZWN0aXZlcyBjYW4gcmVxdWlyZSBiZWluZyAndW5kZXInIGEgdGFiXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycywgdGFic2V0Q3RybCwgdHJhbnNjbHVkZSkge1xuICAgICAgc2NvcGUuJHdhdGNoKCdhY3RpdmUnLCBmdW5jdGlvbihhY3RpdmUpIHtcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgIHRhYnNldEN0cmwuc2VsZWN0KHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBpZiAoYXR0cnMuZGlzYWJsZSkge1xuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMuZGlzYWJsZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUuZGlzYWJsZWQgPSAhISB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIERlcHJlY2F0aW9uIHN1cHBvcnQgb2YgXCJkaXNhYmxlZFwiIHBhcmFtZXRlclxuICAgICAgLy8gZml4KHRhYik6IElFOSBkaXNhYmxlZCBhdHRyIHJlbmRlcnMgZ3JleSB0ZXh0IG9uIGVuYWJsZWQgdGFiICMyNjc3XG4gICAgICAvLyBUaGlzIGNvZGUgaXMgZHVwbGljYXRlZCBmcm9tIHRoZSBsaW5lcyBhYm92ZSB0byBtYWtlIGl0IGVhc3kgdG8gcmVtb3ZlIG9uY2VcbiAgICAgIC8vIHRoZSBmZWF0dXJlIGhhcyBiZWVuIGNvbXBsZXRlbHkgZGVwcmVjYXRlZFxuICAgICAgaWYgKGF0dHJzLmRpc2FibGVkKSB7XG4gICAgICAgICRsb2cud2FybignVXNlIG9mIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBcImRpc2FibGVcIicpO1xuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMuZGlzYWJsZWQpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLmRpc2FibGVkID0gISEgdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzY29wZS5zZWxlY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFzY29wZS5kaXNhYmxlZCkge1xuICAgICAgICAgIHNjb3BlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRhYnNldEN0cmwuYWRkVGFiKHNjb3BlKTtcbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdGFic2V0Q3RybC5yZW1vdmVUYWIoc2NvcGUpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vV2UgbmVlZCB0byB0cmFuc2NsdWRlIGxhdGVyLCBvbmNlIHRoZSBjb250ZW50IGNvbnRhaW5lciBpcyByZWFkeS5cbiAgICAgIC8vd2hlbiB0aGlzIGxpbmsgaGFwcGVucywgd2UncmUgaW5zaWRlIGEgdGFiIGhlYWRpbmcuXG4gICAgICBzY29wZS4kdHJhbnNjbHVkZUZuID0gdHJhbnNjbHVkZTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgndGFiSGVhZGluZ1RyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICdedGFiJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycywgdGFiQ3RybCkge1xuICAgICAgc2NvcGUuJHdhdGNoKCdoZWFkaW5nRWxlbWVudCcsIGZ1bmN0aW9uIHVwZGF0ZUhlYWRpbmdFbGVtZW50KGhlYWRpbmcpIHtcbiAgICAgICAgaWYgKGhlYWRpbmcpIHtcbiAgICAgICAgICBlbG0uaHRtbCgnJyk7XG4gICAgICAgICAgZWxtLmFwcGVuZChoZWFkaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndGFiQ29udGVudFRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICdedGFic2V0JyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycykge1xuICAgICAgdmFyIHRhYiA9IHNjb3BlLiRldmFsKGF0dHJzLnRhYkNvbnRlbnRUcmFuc2NsdWRlKTtcblxuICAgICAgLy9Ob3cgb3VyIHRhYiBpcyByZWFkeSB0byBiZSB0cmFuc2NsdWRlZDogYm90aCB0aGUgdGFiIGhlYWRpbmcgYXJlYVxuICAgICAgLy9hbmQgdGhlIHRhYiBjb250ZW50IGFyZWEgYXJlIGxvYWRlZC4gIFRyYW5zY2x1ZGUgJ2VtIGJvdGguXG4gICAgICB0YWIuJHRyYW5zY2x1ZGVGbih0YWIuJHBhcmVudCwgZnVuY3Rpb24oY29udGVudHMpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKGNvbnRlbnRzLCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgaWYgKGlzVGFiSGVhZGluZyhub2RlKSkge1xuICAgICAgICAgICAgLy9MZXQgdGFiSGVhZGluZ1RyYW5zY2x1ZGUga25vdy5cbiAgICAgICAgICAgIHRhYi5oZWFkaW5nRWxlbWVudCA9IG5vZGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsbS5hcHBlbmQobm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBpc1RhYkhlYWRpbmcobm9kZSkge1xuICAgIHJldHVybiBub2RlLnRhZ05hbWUgJiYgKFxuICAgICAgbm9kZS5oYXNBdHRyaWJ1dGUoJ3RhYi1oZWFkaW5nJykgfHxcbiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCdkYXRhLXRhYi1oZWFkaW5nJykgfHxcbiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCd4LXRhYi1oZWFkaW5nJykgfHxcbiAgICAgIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGFiLWhlYWRpbmcnIHx8XG4gICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2RhdGEtdGFiLWhlYWRpbmcnIHx8XG4gICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3gtdGFiLWhlYWRpbmcnXG4gICAgKTtcbiAgfVxufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudGltZXBpY2tlcicsIFtdKVxuXG4uY29uc3RhbnQoJ3RpbWVwaWNrZXJDb25maWcnLCB7XG4gIGhvdXJTdGVwOiAxLFxuICBtaW51dGVTdGVwOiAxLFxuICBzaG93TWVyaWRpYW46IHRydWUsXG4gIG1lcmlkaWFuczogbnVsbCxcbiAgcmVhZG9ubHlJbnB1dDogZmFsc2UsXG4gIG1vdXNld2hlZWw6IHRydWUsXG4gIGFycm93a2V5czogdHJ1ZSxcbiAgc2hvd1NwaW5uZXJzOiB0cnVlXG59KVxuXG4uY29udHJvbGxlcignVGltZXBpY2tlckNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgJyRsb2cnLCAnJGxvY2FsZScsICd0aW1lcGlja2VyQ29uZmlnJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgJGxvZywgJGxvY2FsZSwgdGltZXBpY2tlckNvbmZpZykge1xuICB2YXIgc2VsZWN0ZWQgPSBuZXcgRGF0ZSgpLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9LCAvLyBudWxsTW9kZWxDdHJsXG4gICAgICBtZXJpZGlhbnMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWVyaWRpYW5zKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tZXJpZGlhbnMpIDogdGltZXBpY2tlckNvbmZpZy5tZXJpZGlhbnMgfHwgJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkFNUE1TO1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXywgaW5wdXRzKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IHRoaXMucmVuZGVyO1xuXG4gICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMudW5zaGlmdChmdW5jdGlvbihtb2RlbFZhbHVlKSB7XG4gICAgICByZXR1cm4gbW9kZWxWYWx1ZSA/IG5ldyBEYXRlKG1vZGVsVmFsdWUpIDogbnVsbDtcbiAgICB9KTtcblxuICAgIHZhciBob3Vyc0lucHV0RWwgPSBpbnB1dHMuZXEoMCksXG4gICAgICAgIG1pbnV0ZXNJbnB1dEVsID0gaW5wdXRzLmVxKDEpO1xuXG4gICAgdmFyIG1vdXNld2hlZWwgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubW91c2V3aGVlbCkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubW91c2V3aGVlbCkgOiB0aW1lcGlja2VyQ29uZmlnLm1vdXNld2hlZWw7XG4gICAgaWYgKG1vdXNld2hlZWwpIHtcbiAgICAgIHRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpO1xuICAgIH1cblxuICAgIHZhciBhcnJvd2tleXMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuYXJyb3drZXlzKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5hcnJvd2tleXMpIDogdGltZXBpY2tlckNvbmZpZy5hcnJvd2tleXM7XG4gICAgaWYgKGFycm93a2V5cykge1xuICAgICAgdGhpcy5zZXR1cEFycm93a2V5RXZlbnRzKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpO1xuICAgIH1cblxuICAgICRzY29wZS5yZWFkb25seUlucHV0ID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJlYWRvbmx5SW5wdXQpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnJlYWRvbmx5SW5wdXQpIDogdGltZXBpY2tlckNvbmZpZy5yZWFkb25seUlucHV0O1xuICAgIHRoaXMuc2V0dXBJbnB1dEV2ZW50cyhob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKTtcbiAgfTtcblxuICB2YXIgaG91clN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLmhvdXJTdGVwO1xuICBpZiAoJGF0dHJzLmhvdXJTdGVwKSB7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuaG91clN0ZXApLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaG91clN0ZXAgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIG1pbnV0ZVN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLm1pbnV0ZVN0ZXA7XG4gIGlmICgkYXR0cnMubWludXRlU3RlcCkge1xuICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLm1pbnV0ZVN0ZXApLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgbWludXRlU3RlcCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbWluO1xuICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5taW4pLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciBkdCA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICBtaW4gPSBpc05hTihkdCkgPyB1bmRlZmluZWQgOiBkdDtcbiAgfSk7XG5cbiAgdmFyIG1heDtcbiAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMubWF4KSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgZHQgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgbWF4ID0gaXNOYU4oZHQpID8gdW5kZWZpbmVkIDogZHQ7XG4gIH0pO1xuXG4gICRzY29wZS5ub0luY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluY3JlbWVudGVkU2VsZWN0ZWQgPSBhZGRNaW51dGVzKHNlbGVjdGVkLCBob3VyU3RlcCAqIDYwKTtcbiAgICByZXR1cm4gaW5jcmVtZW50ZWRTZWxlY3RlZCA+IG1heCB8fFxuICAgICAgKGluY3JlbWVudGVkU2VsZWN0ZWQgPCBzZWxlY3RlZCAmJiBpbmNyZW1lbnRlZFNlbGVjdGVkIDwgbWluKTtcbiAgfTtcblxuICAkc2NvcGUubm9EZWNyZW1lbnRIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkZWNyZW1lbnRlZFNlbGVjdGVkID0gYWRkTWludXRlcyhzZWxlY3RlZCwgLWhvdXJTdGVwICogNjApO1xuICAgIHJldHVybiBkZWNyZW1lbnRlZFNlbGVjdGVkIDwgbWluIHx8XG4gICAgICAoZGVjcmVtZW50ZWRTZWxlY3RlZCA+IHNlbGVjdGVkICYmIGRlY3JlbWVudGVkU2VsZWN0ZWQgPiBtYXgpO1xuICB9O1xuXG4gICRzY29wZS5ub0luY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5jcmVtZW50ZWRTZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIG1pbnV0ZVN0ZXApO1xuICAgIHJldHVybiBpbmNyZW1lbnRlZFNlbGVjdGVkID4gbWF4IHx8XG4gICAgICAoaW5jcmVtZW50ZWRTZWxlY3RlZCA8IHNlbGVjdGVkICYmIGluY3JlbWVudGVkU2VsZWN0ZWQgPCBtaW4pO1xuICB9O1xuXG4gICRzY29wZS5ub0RlY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGVjcmVtZW50ZWRTZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIC1taW51dGVTdGVwKTtcbiAgICByZXR1cm4gZGVjcmVtZW50ZWRTZWxlY3RlZCA8IG1pbiB8fFxuICAgICAgKGRlY3JlbWVudGVkU2VsZWN0ZWQgPiBzZWxlY3RlZCAmJiBkZWNyZW1lbnRlZFNlbGVjdGVkID4gbWF4KTtcbiAgfTtcblxuICAkc2NvcGUubm9Ub2dnbGVNZXJpZGlhbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzZWxlY3RlZC5nZXRIb3VycygpIDwgMTMpIHtcbiAgICAgIHJldHVybiBhZGRNaW51dGVzKHNlbGVjdGVkLCAxMiAqIDYwKSA+IG1heDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIC0xMiAqIDYwKSA8IG1pbjtcbiAgICB9XG4gIH07XG5cbiAgLy8gMTJIIC8gMjRIIG1vZGVcbiAgJHNjb3BlLnNob3dNZXJpZGlhbiA9IHRpbWVwaWNrZXJDb25maWcuc2hvd01lcmlkaWFuO1xuICBpZiAoJGF0dHJzLnNob3dNZXJpZGlhbikge1xuICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLnNob3dNZXJpZGlhbiksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAkc2NvcGUuc2hvd01lcmlkaWFuID0gISF2YWx1ZTtcblxuICAgICAgaWYgKG5nTW9kZWxDdHJsLiRlcnJvci50aW1lKSB7XG4gICAgICAgIC8vIEV2YWx1YXRlIGZyb20gdGVtcGxhdGVcbiAgICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKSwgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKSAmJiBhbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKSkge1xuICAgICAgICAgIHNlbGVjdGVkLnNldEhvdXJzKGhvdXJzKTtcbiAgICAgICAgICByZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZVRlbXBsYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBHZXQgJHNjb3BlLmhvdXJzIGluIDI0SCBtb2RlIGlmIHZhbGlkXG4gIGZ1bmN0aW9uIGdldEhvdXJzRnJvbVRlbXBsYXRlKCkge1xuICAgIHZhciBob3VycyA9IHBhcnNlSW50KCRzY29wZS5ob3VycywgMTApO1xuICAgIHZhciB2YWxpZCA9ICRzY29wZS5zaG93TWVyaWRpYW4gPyAoaG91cnMgPiAwICYmIGhvdXJzIDwgMTMpIDogKGhvdXJzID49IDAgJiYgaG91cnMgPCAyNCk7XG4gICAgaWYgKCF2YWxpZCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoJHNjb3BlLnNob3dNZXJpZGlhbikge1xuICAgICAgaWYgKGhvdXJzID09PSAxMikge1xuICAgICAgICBob3VycyA9IDA7XG4gICAgICB9XG4gICAgICBpZiAoJHNjb3BlLm1lcmlkaWFuID09PSBtZXJpZGlhbnNbMV0pIHtcbiAgICAgICAgaG91cnMgPSBob3VycyArIDEyO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaG91cnM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCkge1xuICAgIHZhciBtaW51dGVzID0gcGFyc2VJbnQoJHNjb3BlLm1pbnV0ZXMsIDEwKTtcbiAgICByZXR1cm4gKG1pbnV0ZXMgPj0gMCAmJiBtaW51dGVzIDwgNjApID8gbWludXRlcyA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhZCh2YWx1ZSkge1xuICAgIHJldHVybiAoYW5ndWxhci5pc0RlZmluZWQodmFsdWUpICYmIHZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoIDwgMikgPyAnMCcgKyB2YWx1ZSA6IHZhbHVlLnRvU3RyaW5nKCk7XG4gIH1cblxuICAvLyBSZXNwb25kIG9uIG1vdXNld2hlZWwgc3BpblxuICB0aGlzLnNldHVwTW91c2V3aGVlbEV2ZW50cyA9IGZ1bmN0aW9uKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpIHtcbiAgICB2YXIgaXNTY3JvbGxpbmdVcCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLm9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgZSA9IGUub3JpZ2luYWxFdmVudDtcbiAgICAgIH1cbiAgICAgIC8vcGljayBjb3JyZWN0IGRlbHRhIHZhcmlhYmxlIGRlcGVuZGluZyBvbiBldmVudFxuICAgICAgdmFyIGRlbHRhID0gKGUud2hlZWxEZWx0YSkgPyBlLndoZWVsRGVsdGEgOiAtZS5kZWx0YVk7XG4gICAgICByZXR1cm4gKGUuZGV0YWlsIHx8IGRlbHRhID4gMCk7XG4gICAgfTtcblxuICAgIGhvdXJzSW5wdXRFbC5iaW5kKCdtb3VzZXdoZWVsIHdoZWVsJywgZnVuY3Rpb24oZSkge1xuICAgICAgJHNjb3BlLiRhcHBseShpc1Njcm9sbGluZ1VwKGUpID8gJHNjb3BlLmluY3JlbWVudEhvdXJzKCkgOiAkc2NvcGUuZGVjcmVtZW50SG91cnMoKSk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICBtaW51dGVzSW5wdXRFbC5iaW5kKCdtb3VzZXdoZWVsIHdoZWVsJywgZnVuY3Rpb24oZSkge1xuICAgICAgJHNjb3BlLiRhcHBseShpc1Njcm9sbGluZ1VwKGUpID8gJHNjb3BlLmluY3JlbWVudE1pbnV0ZXMoKSA6ICRzY29wZS5kZWNyZW1lbnRNaW51dGVzKCkpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gIH07XG5cbiAgLy8gUmVzcG9uZCBvbiB1cC9kb3duIGFycm93a2V5c1xuICB0aGlzLnNldHVwQXJyb3drZXlFdmVudHMgPSBmdW5jdGlvbihob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKSB7XG4gICAgaG91cnNJbnB1dEVsLmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS53aGljaCA9PT0gMzgpIHsgLy8gdXBcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkc2NvcGUuaW5jcmVtZW50SG91cnMoKTtcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09PSA0MCkgeyAvLyBkb3duXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHNjb3BlLmRlY3JlbWVudEhvdXJzKCk7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG1pbnV0ZXNJbnB1dEVsLmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS53aGljaCA9PT0gMzgpIHsgLy8gdXBcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkc2NvcGUuaW5jcmVtZW50TWludXRlcygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT09IDQwKSB7IC8vIGRvd25cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkc2NvcGUuZGVjcmVtZW50TWludXRlcygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5zZXR1cElucHV0RXZlbnRzID0gZnVuY3Rpb24oaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCkge1xuICAgIGlmICgkc2NvcGUucmVhZG9ubHlJbnB1dCkge1xuICAgICAgJHNjb3BlLnVwZGF0ZUhvdXJzID0gYW5ndWxhci5ub29wO1xuICAgICAgJHNjb3BlLnVwZGF0ZU1pbnV0ZXMgPSBhbmd1bGFyLm5vb3A7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGludmFsaWRhdGUgPSBmdW5jdGlvbihpbnZhbGlkSG91cnMsIGludmFsaWRNaW51dGVzKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG51bGwpO1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgZmFsc2UpO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGludmFsaWRIb3VycykpIHtcbiAgICAgICAgJHNjb3BlLmludmFsaWRIb3VycyA9IGludmFsaWRIb3VycztcbiAgICAgIH1cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkTWludXRlcykpIHtcbiAgICAgICAgJHNjb3BlLmludmFsaWRNaW51dGVzID0gaW52YWxpZE1pbnV0ZXM7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS51cGRhdGVIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKSxcbiAgICAgICAgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTtcblxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKSAmJiBhbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKSkge1xuICAgICAgICBzZWxlY3RlZC5zZXRIb3Vycyhob3Vycyk7XG4gICAgICAgIGlmIChzZWxlY3RlZCA8IG1pbiB8fCBzZWxlY3RlZCA+IG1heCkge1xuICAgICAgICAgIGludmFsaWRhdGUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVmcmVzaCgnaCcpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZhbGlkYXRlKHRydWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBob3Vyc0lucHV0RWwuYmluZCgnYmx1cicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghJHNjb3BlLmludmFsaWRIb3VycyAmJiAkc2NvcGUuaG91cnMgPCAxMCkge1xuICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS5ob3VycyA9IHBhZCgkc2NvcGUuaG91cnMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKSxcbiAgICAgICAgaG91cnMgPSBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpO1xuXG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQobWludXRlcykgJiYgYW5ndWxhci5pc0RlZmluZWQoaG91cnMpKSB7XG4gICAgICAgIHNlbGVjdGVkLnNldE1pbnV0ZXMobWludXRlcyk7XG4gICAgICAgIGlmIChzZWxlY3RlZCA8IG1pbiB8fCBzZWxlY3RlZCA+IG1heCkge1xuICAgICAgICAgIGludmFsaWRhdGUodW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWZyZXNoKCdtJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludmFsaWRhdGUodW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbWludXRlc0lucHV0RWwuYmluZCgnYmx1cicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghJHNjb3BlLmludmFsaWRNaW51dGVzICYmICRzY29wZS5taW51dGVzIDwgMTApIHtcbiAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUubWludXRlcyA9IHBhZCgkc2NvcGUubWludXRlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0ZSA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG5cbiAgICBpZiAoaXNOYU4oZGF0ZSkpIHtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIGZhbHNlKTtcbiAgICAgICRsb2cuZXJyb3IoJ1RpbWVwaWNrZXIgZGlyZWN0aXZlOiBcIm5nLW1vZGVsXCIgdmFsdWUgbXVzdCBiZSBhIERhdGUgb2JqZWN0LCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgMDEuMDEuMTk3MCBvciBhIHN0cmluZyByZXByZXNlbnRpbmcgYW4gUkZDMjgyMiBvciBJU08gODYwMSBkYXRlLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZGF0ZSkge1xuICAgICAgICBzZWxlY3RlZCA9IGRhdGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxlY3RlZCA8IG1pbiB8fCBzZWxlY3RlZCA+IG1heCkge1xuICAgICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCBmYWxzZSk7XG4gICAgICAgICRzY29wZS5pbnZhbGlkSG91cnMgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuaW52YWxpZE1pbnV0ZXMgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFrZVZhbGlkKCk7XG4gICAgICB9XG4gICAgICB1cGRhdGVUZW1wbGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICAvLyBDYWxsIGludGVybmFsbHkgd2hlbiB3ZSBrbm93IHRoYXQgbW9kZWwgaXMgdmFsaWQuXG4gIGZ1bmN0aW9uIHJlZnJlc2goa2V5Ym9hcmRDaGFuZ2UpIHtcbiAgICBtYWtlVmFsaWQoKTtcbiAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5ldyBEYXRlKHNlbGVjdGVkKSk7XG4gICAgdXBkYXRlVGVtcGxhdGUoa2V5Ym9hcmRDaGFuZ2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVZhbGlkKCkge1xuICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIHRydWUpO1xuICAgICRzY29wZS5pbnZhbGlkSG91cnMgPSBmYWxzZTtcbiAgICAkc2NvcGUuaW52YWxpZE1pbnV0ZXMgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVRlbXBsYXRlKGtleWJvYXJkQ2hhbmdlKSB7XG4gICAgdmFyIGhvdXJzID0gc2VsZWN0ZWQuZ2V0SG91cnMoKSwgbWludXRlcyA9IHNlbGVjdGVkLmdldE1pbnV0ZXMoKTtcblxuICAgIGlmICgkc2NvcGUuc2hvd01lcmlkaWFuKSB7XG4gICAgICBob3VycyA9IChob3VycyA9PT0gMCB8fCBob3VycyA9PT0gMTIpID8gMTIgOiBob3VycyAlIDEyOyAvLyBDb252ZXJ0IDI0IHRvIDEyIGhvdXIgc3lzdGVtXG4gICAgfVxuXG4gICAgJHNjb3BlLmhvdXJzID0ga2V5Ym9hcmRDaGFuZ2UgPT09ICdoJyA/IGhvdXJzIDogcGFkKGhvdXJzKTtcbiAgICBpZiAoa2V5Ym9hcmRDaGFuZ2UgIT09ICdtJykge1xuICAgICAgJHNjb3BlLm1pbnV0ZXMgPSBwYWQobWludXRlcyk7XG4gICAgfVxuICAgICRzY29wZS5tZXJpZGlhbiA9IHNlbGVjdGVkLmdldEhvdXJzKCkgPCAxMiA/IG1lcmlkaWFuc1swXSA6IG1lcmlkaWFuc1sxXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE1pbnV0ZXMoZGF0ZSwgbWludXRlcykge1xuICAgIHZhciBkdCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpICsgbWludXRlcyAqIDYwMDAwKTtcbiAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIG5ld0RhdGUuc2V0SG91cnMoZHQuZ2V0SG91cnMoKSwgZHQuZ2V0TWludXRlcygpKTtcbiAgICByZXR1cm4gbmV3RGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKG1pbnV0ZXMpIHtcbiAgICBzZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIG1pbnV0ZXMpO1xuICAgIHJlZnJlc2goKTtcbiAgfVxuXG4gICRzY29wZS5zaG93U3Bpbm5lcnMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc2hvd1NwaW5uZXJzKSA/XG4gICAgJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnNob3dTcGlubmVycykgOiB0aW1lcGlja2VyQ29uZmlnLnNob3dTcGlubmVycztcblxuICAkc2NvcGUuaW5jcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub0luY3JlbWVudEhvdXJzKCkpIHtcbiAgICAgIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKGhvdXJTdGVwICogNjApO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZGVjcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub0RlY3JlbWVudEhvdXJzKCkpIHtcbiAgICAgIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKC1ob3VyU3RlcCAqIDYwKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmluY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub0luY3JlbWVudE1pbnV0ZXMoKSkge1xuICAgICAgYWRkTWludXRlc1RvU2VsZWN0ZWQobWludXRlU3RlcCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5kZWNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9EZWNyZW1lbnRNaW51dGVzKCkpIHtcbiAgICAgIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKC1taW51dGVTdGVwKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLnRvZ2dsZU1lcmlkaWFuID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9Ub2dnbGVNZXJpZGlhbigpKSB7XG4gICAgICBhZGRNaW51dGVzVG9TZWxlY3RlZCgxMiAqIDYwICogKHNlbGVjdGVkLmdldEhvdXJzKCkgPCAxMiA/IDEgOiAtMSkpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd0aW1lcGlja2VyJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVxdWlyZTogWyd0aW1lcGlja2VyJywgJz9ebmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6J1RpbWVwaWNrZXJDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICd0aW1lcGlja2VyJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7fSxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwnO1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHRpbWVwaWNrZXJDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGlmIChuZ01vZGVsQ3RybCkge1xuICAgICAgICB0aW1lcGlja2VyQ3RybC5pbml0KG5nTW9kZWxDdHJsLCBlbGVtZW50LmZpbmQoJ2lucHV0JykpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRyYW5zaXRpb24nLCBbXSlcblxuLnZhbHVlKCckdHJhbnNpdGlvblN1cHByZXNzRGVwcmVjYXRlZCcsIGZhbHNlKVxuLyoqXG4gKiAkdHJhbnNpdGlvbiBzZXJ2aWNlIHByb3ZpZGVzIGEgY29uc2lzdGVudCBpbnRlcmZhY2UgdG8gdHJpZ2dlciBDU1MgMyB0cmFuc2l0aW9ucyBhbmQgdG8gYmUgaW5mb3JtZWQgd2hlbiB0aGV5IGNvbXBsZXRlLlxuICogQHBhcmFtICB7RE9NRWxlbWVudH0gZWxlbWVudCAgVGhlIERPTUVsZW1lbnQgdGhhdCB3aWxsIGJlIGFuaW1hdGVkLlxuICogQHBhcmFtICB7c3RyaW5nfG9iamVjdHxmdW5jdGlvbn0gdHJpZ2dlciAgVGhlIHRoaW5nIHRoYXQgd2lsbCBjYXVzZSB0aGUgdHJhbnNpdGlvbiB0byBzdGFydDpcbiAqICAgLSBBcyBhIHN0cmluZywgaXQgcmVwcmVzZW50cyB0aGUgY3NzIGNsYXNzIHRvIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50LlxuICogICAtIEFzIGFuIG9iamVjdCwgaXQgcmVwcmVzZW50cyBhIGhhc2ggb2Ygc3R5bGUgYXR0cmlidXRlcyB0byBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICogICAtIEFzIGEgZnVuY3Rpb24sIGl0IHJlcHJlc2VudHMgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgdGhhdCB3aWxsIGNhdXNlIHRoZSB0cmFuc2l0aW9uIHRvIG9jY3VyLlxuICogQHJldHVybiB7UHJvbWlzZX0gIEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHRyYW5zaXRpb24gZmluaXNoZXMuXG4gKi9cbi5mYWN0b3J5KCckdHJhbnNpdGlvbicsIFtcbiAgICAgICAgJyRxJywgJyR0aW1lb3V0JywgJyRyb290U2NvcGUnLCAnJGxvZycsICckdHJhbnNpdGlvblN1cHByZXNzRGVwcmVjYXRlZCcsXG5mdW5jdGlvbigkcSAsICAkdGltZW91dCAsICAkcm9vdFNjb3BlICwgICRsb2cgLCAgJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQpIHtcblxuICBpZiAoISR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkKSB7XG4gICAgJGxvZy53YXJuKCckdHJhbnNpdGlvbiBpcyBub3cgZGVwcmVjYXRlZC4gVXNlICRhbmltYXRlIGZyb20gbmdBbmltYXRlIGluc3RlYWQuJyk7XG4gIH1cblxuICB2YXIgJHRyYW5zaXRpb24gPSBmdW5jdGlvbihlbGVtZW50LCB0cmlnZ2VyLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICB2YXIgZW5kRXZlbnROYW1lID0gJHRyYW5zaXRpb25bb3B0aW9ucy5hbmltYXRpb24gPyAnYW5pbWF0aW9uRW5kRXZlbnROYW1lJyA6ICd0cmFuc2l0aW9uRW5kRXZlbnROYW1lJ107XG5cbiAgICB2YXIgdHJhbnNpdGlvbkVuZEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQudW5iaW5kKGVuZEV2ZW50TmFtZSwgdHJhbnNpdGlvbkVuZEhhbmRsZXIpO1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmIChlbmRFdmVudE5hbWUpIHtcbiAgICAgIGVsZW1lbnQuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICB9XG5cbiAgICAvLyBXcmFwIGluIGEgdGltZW91dCB0byBhbGxvdyB0aGUgYnJvd3NlciB0aW1lIHRvIHVwZGF0ZSB0aGUgRE9NIGJlZm9yZSB0aGUgdHJhbnNpdGlvbiBpcyB0byBvY2N1clxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCBhbmd1bGFyLmlzU3RyaW5nKHRyaWdnZXIpICkge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKHRyaWdnZXIpO1xuICAgICAgfSBlbHNlIGlmICggYW5ndWxhci5pc0Z1bmN0aW9uKHRyaWdnZXIpICkge1xuICAgICAgICB0cmlnZ2VyKGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIGlmICggYW5ndWxhci5pc09iamVjdCh0cmlnZ2VyKSApIHtcbiAgICAgICAgZWxlbWVudC5jc3ModHJpZ2dlcik7XG4gICAgICB9XG4gICAgICAvL0lmIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0cmFuc2l0aW9ucywgaW5zdGFudGx5IHJlc29sdmVcbiAgICAgIGlmICggIWVuZEV2ZW50TmFtZSApIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEFkZCBvdXIgY3VzdG9tIGNhbmNlbCBmdW5jdGlvbiB0byB0aGUgcHJvbWlzZSB0aGF0IGlzIHJldHVybmVkXG4gICAgLy8gV2UgY2FuIGNhbGwgdGhpcyBpZiB3ZSBhcmUgYWJvdXQgdG8gcnVuIGEgbmV3IHRyYW5zaXRpb24sIHdoaWNoIHdlIGtub3cgd2lsbCBwcmV2ZW50IHRoaXMgdHJhbnNpdGlvbiBmcm9tIGVuZGluZyxcbiAgICAvLyBpLmUuIGl0IHdpbGwgdGhlcmVmb3JlIG5ldmVyIHJhaXNlIGEgdHJhbnNpdGlvbkVuZCBldmVudCBmb3IgdGhhdCB0cmFuc2l0aW9uXG4gICAgZGVmZXJyZWQucHJvbWlzZS5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICggZW5kRXZlbnROYW1lICkge1xuICAgICAgICBlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICAgIH1cbiAgICAgIGRlZmVycmVkLnJlamVjdCgnVHJhbnNpdGlvbiBjYW5jZWxsZWQnKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH07XG5cbiAgLy8gV29yayBvdXQgdGhlIG5hbWUgb2YgdGhlIHRyYW5zaXRpb25FbmQgZXZlbnRcbiAgdmFyIHRyYW5zRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyYW5zJyk7XG4gIHZhciB0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyA9IHtcbiAgICAnV2Via2l0VHJhbnNpdGlvbic6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAnTW96VHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAnT1RyYW5zaXRpb24nOiAnb1RyYW5zaXRpb25FbmQnLFxuICAgICd0cmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnXG4gIH07XG4gIHZhciBhbmltYXRpb25FbmRFdmVudE5hbWVzID0ge1xuICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXG4gICAgJ01velRyYW5zaXRpb24nOiAnYW5pbWF0aW9uZW5kJyxcbiAgICAnT1RyYW5zaXRpb24nOiAnb0FuaW1hdGlvbkVuZCcsXG4gICAgJ3RyYW5zaXRpb24nOiAnYW5pbWF0aW9uZW5kJ1xuICB9O1xuICBmdW5jdGlvbiBmaW5kRW5kRXZlbnROYW1lKGVuZEV2ZW50TmFtZXMpIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIGVuZEV2ZW50TmFtZXMpe1xuICAgICAgaWYgKHRyYW5zRWxlbWVudC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBlbmRFdmVudE5hbWVzW25hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAkdHJhbnNpdGlvbi50cmFuc2l0aW9uRW5kRXZlbnROYW1lID0gZmluZEVuZEV2ZW50TmFtZSh0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyk7XG4gICR0cmFuc2l0aW9uLmFuaW1hdGlvbkVuZEV2ZW50TmFtZSA9IGZpbmRFbmRFdmVudE5hbWUoYW5pbWF0aW9uRW5kRXZlbnROYW1lcyk7XG4gIHJldHVybiAkdHJhbnNpdGlvbjtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50eXBlYWhlYWQnLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4vKipcbiAqIEEgaGVscGVyIHNlcnZpY2UgdGhhdCBjYW4gcGFyc2UgdHlwZWFoZWFkJ3Mgc3ludGF4IChzdHJpbmcgcHJvdmlkZWQgYnkgdXNlcnMpXG4gKiBFeHRyYWN0ZWQgdG8gYSBzZXBhcmF0ZSBzZXJ2aWNlIGZvciBlYXNlIG9mIHVuaXQgdGVzdGluZ1xuICovXG4gIC5mYWN0b3J5KCd0eXBlYWhlYWRQYXJzZXInLCBbJyRwYXJzZScsIGZ1bmN0aW9uKCRwYXJzZSkge1xuXG4gIC8vICAgICAgICAgICAgICAgICAgICAgIDAwMDAwMTExMDAwMDAwMDAwMDAwMDIyMjAwMDAwMDAwMDAwMDAwMDAzMzMzMzMzMzMzMzMzMzMwMDAwMDAwMDAwMDQ0MDAwXG4gIHZhciBUWVBFQUhFQURfUkVHRVhQID0gL15cXHMqKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/XFxzK2ZvclxccysoPzooW1xcJFxcd11bXFwkXFx3XFxkXSopKVxccytpblxccysoW1xcc1xcU10rPykkLztcblxuICByZXR1cm4ge1xuICAgIHBhcnNlOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgdmFyIG1hdGNoID0gaW5wdXQubWF0Y2goVFlQRUFIRUFEX1JFR0VYUCk7XG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnRXhwZWN0ZWQgdHlwZWFoZWFkIHNwZWNpZmljYXRpb24gaW4gZm9ybSBvZiBcIl9tb2RlbFZhbHVlXyAoYXMgX2xhYmVsXyk/IGZvciBfaXRlbV8gaW4gX2NvbGxlY3Rpb25fXCInICtcbiAgICAgICAgICAgICcgYnV0IGdvdCBcIicgKyBpbnB1dCArICdcIi4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXRlbU5hbWU6bWF0Y2hbM10sXG4gICAgICAgIHNvdXJjZTokcGFyc2UobWF0Y2hbNF0pLFxuICAgICAgICB2aWV3TWFwcGVyOiRwYXJzZShtYXRjaFsyXSB8fCBtYXRjaFsxXSksXG4gICAgICAgIG1vZGVsTWFwcGVyOiRwYXJzZShtYXRjaFsxXSlcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV0pXG5cbiAgLmRpcmVjdGl2ZSgndHlwZWFoZWFkJywgWyckY29tcGlsZScsICckcGFyc2UnLCAnJHEnLCAnJHRpbWVvdXQnLCAnJGRvY3VtZW50JywgJyR3aW5kb3cnLCAnJHJvb3RTY29wZScsICckcG9zaXRpb24nLCAndHlwZWFoZWFkUGFyc2VyJyxcbiAgICBmdW5jdGlvbigkY29tcGlsZSwgJHBhcnNlLCAkcSwgJHRpbWVvdXQsICRkb2N1bWVudCwgJHdpbmRvdywgJHJvb3RTY29wZSwgJHBvc2l0aW9uLCB0eXBlYWhlYWRQYXJzZXIpIHtcbiAgICB2YXIgSE9UX0tFWVMgPSBbOSwgMTMsIDI3LCAzOCwgNDBdO1xuICAgIHZhciBldmVudERlYm91bmNlVGltZSA9IDIwMDtcblxuICAgIHJldHVybiB7XG4gICAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAnXj9uZ01vZGVsT3B0aW9ucyddLFxuICAgICAgbGluazogZnVuY3Rpb24ob3JpZ2luYWxTY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICAgIHZhciBtb2RlbEN0cmwgPSBjdHJsc1swXTtcbiAgICAgICAgdmFyIG5nTW9kZWxPcHRpb25zID0gY3RybHNbMV07XG4gICAgICAgIC8vU1VQUE9SVEVEIEFUVFJJQlVURVMgKE9QVElPTlMpXG5cbiAgICAgICAgLy9taW5pbWFsIG5vIG9mIGNoYXJhY3RlcnMgdGhhdCBuZWVkcyB0byBiZSBlbnRlcmVkIGJlZm9yZSB0eXBlYWhlYWQga2lja3MtaW5cbiAgICAgICAgdmFyIG1pbkxlbmd0aCA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkTWluTGVuZ3RoKTtcbiAgICAgICAgaWYgKCFtaW5MZW5ndGggJiYgbWluTGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgbWluTGVuZ3RoID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vbWluaW1hbCB3YWl0IHRpbWUgYWZ0ZXIgbGFzdCBjaGFyYWN0ZXIgdHlwZWQgYmVmb3JlIHR5cGVhaGVhZCBraWNrcy1pblxuICAgICAgICB2YXIgd2FpdFRpbWUgPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZFdhaXRNcykgfHwgMDtcblxuICAgICAgICAvL3Nob3VsZCBpdCByZXN0cmljdCBtb2RlbCB2YWx1ZXMgdG8gdGhlIG9uZXMgc2VsZWN0ZWQgZnJvbSB0aGUgcG9wdXAgb25seT9cbiAgICAgICAgdmFyIGlzRWRpdGFibGUgPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEVkaXRhYmxlKSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLy9iaW5kaW5nIHRvIGEgdmFyaWFibGUgdGhhdCBpbmRpY2F0ZXMgaWYgbWF0Y2hlcyBhcmUgYmVpbmcgcmV0cmlldmVkIGFzeW5jaHJvbm91c2x5XG4gICAgICAgIHZhciBpc0xvYWRpbmdTZXR0ZXIgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkTG9hZGluZykuYXNzaWduIHx8IGFuZ3VsYXIubm9vcDtcblxuICAgICAgICAvL2EgY2FsbGJhY2sgZXhlY3V0ZWQgd2hlbiBhIG1hdGNoIGlzIHNlbGVjdGVkXG4gICAgICAgIHZhciBvblNlbGVjdENhbGxiYWNrID0gJHBhcnNlKGF0dHJzLnR5cGVhaGVhZE9uU2VsZWN0KTtcblxuICAgICAgICAvL3Nob3VsZCBpdCBzZWxlY3QgaGlnaGxpZ2h0ZWQgcG9wdXAgdmFsdWUgd2hlbiBsb3NpbmcgZm9jdXM/XG4gICAgICAgIHZhciBpc1NlbGVjdE9uQmx1ciA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnR5cGVhaGVhZFNlbGVjdE9uQmx1cikgPyBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZFNlbGVjdE9uQmx1cikgOiBmYWxzZTtcblxuICAgICAgICAvL2JpbmRpbmcgdG8gYSB2YXJpYWJsZSB0aGF0IGluZGljYXRlcyBpZiB0aGVyZSB3ZXJlIG5vIHJlc3VsdHMgYWZ0ZXIgdGhlIHF1ZXJ5IGlzIGNvbXBsZXRlZFxuICAgICAgICB2YXIgaXNOb1Jlc3VsdHNTZXR0ZXIgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkTm9SZXN1bHRzKS5hc3NpZ24gfHwgYW5ndWxhci5ub29wO1xuXG4gICAgICAgIHZhciBpbnB1dEZvcm1hdHRlciA9IGF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyID8gJHBhcnNlKGF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgYXBwZW5kVG9Cb2R5ID0gIGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSA/IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkQXBwZW5kVG9Cb2R5KSA6IGZhbHNlO1xuXG4gICAgICAgIHZhciBmb2N1c0ZpcnN0ID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRGb2N1c0ZpcnN0KSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLy9JZiBpbnB1dCBtYXRjaGVzIGFuIGl0ZW0gb2YgdGhlIGxpc3QgZXhhY3RseSwgc2VsZWN0IGl0IGF1dG9tYXRpY2FsbHlcbiAgICAgICAgdmFyIHNlbGVjdE9uRXhhY3QgPSBhdHRycy50eXBlYWhlYWRTZWxlY3RPbkV4YWN0ID8gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRTZWxlY3RPbkV4YWN0KSA6IGZhbHNlO1xuXG4gICAgICAgIC8vSU5URVJOQUwgVkFSSUFCTEVTXG5cbiAgICAgICAgLy9tb2RlbCBzZXR0ZXIgZXhlY3V0ZWQgdXBvbiBtYXRjaCBzZWxlY3Rpb25cbiAgICAgICAgdmFyIHBhcnNlZE1vZGVsID0gJHBhcnNlKGF0dHJzLm5nTW9kZWwpO1xuICAgICAgICB2YXIgaW52b2tlTW9kZWxTZXR0ZXIgPSAkcGFyc2UoYXR0cnMubmdNb2RlbCArICcoJCQkcCknKTtcbiAgICAgICAgdmFyICRzZXRNb2RlbFZhbHVlID0gZnVuY3Rpb24oc2NvcGUsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihwYXJzZWRNb2RlbChvcmlnaW5hbFNjb3BlKSkgJiZcbiAgICAgICAgICAgIG5nTW9kZWxPcHRpb25zICYmIG5nTW9kZWxPcHRpb25zLiRvcHRpb25zICYmIG5nTW9kZWxPcHRpb25zLiRvcHRpb25zLmdldHRlclNldHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZU1vZGVsU2V0dGVyKHNjb3BlLCB7JCQkcDogbmV3VmFsdWV9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZE1vZGVsLmFzc2lnbihzY29wZSwgbmV3VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvL2V4cHJlc3Npb25zIHVzZWQgYnkgdHlwZWFoZWFkXG4gICAgICAgIHZhciBwYXJzZXJSZXN1bHQgPSB0eXBlYWhlYWRQYXJzZXIucGFyc2UoYXR0cnMudHlwZWFoZWFkKTtcblxuICAgICAgICB2YXIgaGFzRm9jdXM7XG5cbiAgICAgICAgLy9Vc2VkIHRvIGF2b2lkIGJ1ZyBpbiBpT1Mgd2VidmlldyB3aGVyZSBpT1Mga2V5Ym9hcmQgZG9lcyBub3QgZmlyZVxuICAgICAgICAvL21vdXNlZG93biAmIG1vdXNldXAgZXZlbnRzXG4gICAgICAgIC8vSXNzdWUgIzM2OTlcbiAgICAgICAgdmFyIHNlbGVjdGVkO1xuXG4gICAgICAgIC8vY3JlYXRlIGEgY2hpbGQgc2NvcGUgZm9yIHRoZSB0eXBlYWhlYWQgZGlyZWN0aXZlIHNvIHdlIGFyZSBub3QgcG9sbHV0aW5nIG9yaWdpbmFsIHNjb3BlXG4gICAgICAgIC8vd2l0aCB0eXBlYWhlYWQtc3BlY2lmaWMgZGF0YSAobWF0Y2hlcywgcXVlcnkgZXRjLilcbiAgICAgICAgdmFyIHNjb3BlID0gb3JpZ2luYWxTY29wZS4kbmV3KCk7XG4gICAgICAgIHZhciBvZmZEZXN0cm95ID0gb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBvZmZEZXN0cm95KTtcblxuICAgICAgICAvLyBXQUktQVJJQVxuICAgICAgICB2YXIgcG9wdXBJZCA9ICd0eXBlYWhlYWQtJyArIHNjb3BlLiRpZCArICctJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcbiAgICAgICAgZWxlbWVudC5hdHRyKHtcbiAgICAgICAgICAnYXJpYS1hdXRvY29tcGxldGUnOiAnbGlzdCcsXG4gICAgICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZSxcbiAgICAgICAgICAnYXJpYS1vd25zJzogcG9wdXBJZFxuICAgICAgICB9KTtcblxuICAgICAgICAvL3BvcC11cCBlbGVtZW50IHVzZWQgdG8gZGlzcGxheSBtYXRjaGVzXG4gICAgICAgIHZhciBwb3BVcEVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IHR5cGVhaGVhZC1wb3B1cD48L2Rpdj4nKTtcbiAgICAgICAgcG9wVXBFbC5hdHRyKHtcbiAgICAgICAgICBpZDogcG9wdXBJZCxcbiAgICAgICAgICBtYXRjaGVzOiAnbWF0Y2hlcycsXG4gICAgICAgICAgYWN0aXZlOiAnYWN0aXZlSWR4JyxcbiAgICAgICAgICBzZWxlY3Q6ICdzZWxlY3QoYWN0aXZlSWR4KScsXG4gICAgICAgICAgJ21vdmUtaW4tcHJvZ3Jlc3MnOiAnbW92ZUluUHJvZ3Jlc3MnLFxuICAgICAgICAgIHF1ZXJ5OiAncXVlcnknLFxuICAgICAgICAgIHBvc2l0aW9uOiAncG9zaXRpb24nXG4gICAgICAgIH0pO1xuICAgICAgICAvL2N1c3RvbSBpdGVtIHRlbXBsYXRlXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRycy50eXBlYWhlYWRUZW1wbGF0ZVVybCkpIHtcbiAgICAgICAgICBwb3BVcEVsLmF0dHIoJ3RlbXBsYXRlLXVybCcsIGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRycy50eXBlYWhlYWRQb3B1cFRlbXBsYXRlVXJsKSkge1xuICAgICAgICAgIHBvcFVwRWwuYXR0cigncG9wdXAtdGVtcGxhdGUtdXJsJywgYXR0cnMudHlwZWFoZWFkUG9wdXBUZW1wbGF0ZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzZXRNYXRjaGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2NvcGUubWF0Y2hlcyA9IFtdO1xuICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IC0xO1xuICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0TWF0Y2hJZCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIHBvcHVwSWQgKyAnLW9wdGlvbi0nICsgaW5kZXg7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW5kaWNhdGUgdGhhdCB0aGUgc3BlY2lmaWVkIG1hdGNoIGlzIHRoZSBhY3RpdmUgKHByZS1zZWxlY3RlZCkgaXRlbSBpbiB0aGUgbGlzdCBvd25lZCBieSB0aGlzIHR5cGVhaGVhZC5cbiAgICAgICAgLy8gVGhpcyBhdHRyaWJ1dGUgaXMgYWRkZWQgb3IgcmVtb3ZlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIGBhY3RpdmVJZHhgIGNoYW5nZXMuXG4gICAgICAgIHNjb3BlLiR3YXRjaCgnYWN0aXZlSWR4JywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcsIGdldE1hdGNoSWQoaW5kZXgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBpbnB1dElzRXhhY3RNYXRjaCA9IGZ1bmN0aW9uKGlucHV0VmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgaWYgKHNjb3BlLm1hdGNoZXMubGVuZ3RoID4gaW5kZXggJiYgaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0VmFsdWUudG9VcHBlckNhc2UoKSA9PT0gc2NvcGUubWF0Y2hlc1tpbmRleF0ubGFiZWwudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldE1hdGNoZXNBc3luYyA9IGZ1bmN0aW9uKGlucHV0VmFsdWUpIHtcbiAgICAgICAgICB2YXIgbG9jYWxzID0geyR2aWV3VmFsdWU6IGlucHV0VmFsdWV9O1xuICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCB0cnVlKTtcbiAgICAgICAgICBpc05vUmVzdWx0c1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgJHEud2hlbihwYXJzZXJSZXN1bHQuc291cmNlKG9yaWdpbmFsU2NvcGUsIGxvY2FscykpLnRoZW4oZnVuY3Rpb24obWF0Y2hlcykge1xuICAgICAgICAgICAgLy9pdCBtaWdodCBoYXBwZW4gdGhhdCBzZXZlcmFsIGFzeW5jIHF1ZXJpZXMgd2VyZSBpbiBwcm9ncmVzcyBpZiBhIHVzZXIgd2VyZSB0eXBpbmcgZmFzdFxuICAgICAgICAgICAgLy9idXQgd2UgYXJlIGludGVyZXN0ZWQgb25seSBpbiByZXNwb25zZXMgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBjdXJyZW50IHZpZXcgdmFsdWVcbiAgICAgICAgICAgIHZhciBvbkN1cnJlbnRSZXF1ZXN0ID0gKGlucHV0VmFsdWUgPT09IG1vZGVsQ3RybC4kdmlld1ZhbHVlKTtcbiAgICAgICAgICAgIGlmIChvbkN1cnJlbnRSZXF1ZXN0ICYmIGhhc0ZvY3VzKSB7XG4gICAgICAgICAgICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gZm9jdXNGaXJzdCA/IDAgOiAtMTtcbiAgICAgICAgICAgICAgICBpc05vUmVzdWx0c1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2NvcGUubWF0Y2hlcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICAgICAgLy90cmFuc2Zvcm0gbGFiZWxzXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IG1hdGNoZXNbaV07XG4gICAgICAgICAgICAgICAgICBzY29wZS5tYXRjaGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogZ2V0TWF0Y2hJZChpKSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKHNjb3BlLCBsb2NhbHMpLFxuICAgICAgICAgICAgICAgICAgICBtb2RlbDogbWF0Y2hlc1tpXVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUucXVlcnkgPSBpbnB1dFZhbHVlO1xuICAgICAgICAgICAgICAgIC8vcG9zaXRpb24gcG9wLXVwIHdpdGggbWF0Y2hlcyAtIHdlIG5lZWQgdG8gcmUtY2FsY3VsYXRlIGl0cyBwb3NpdGlvbiBlYWNoIHRpbWUgd2UgYXJlIG9wZW5pbmcgYSB3aW5kb3dcbiAgICAgICAgICAgICAgICAvL3dpdGggbWF0Y2hlcyBhcyBhIHBvcC11cCBtaWdodCBiZSBhYnNvbHV0ZS1wb3NpdGlvbmVkIGFuZCBwb3NpdGlvbiBvZiBhbiBpbnB1dCBtaWdodCBoYXZlIGNoYW5nZWQgb24gYSBwYWdlXG4gICAgICAgICAgICAgICAgLy9kdWUgdG8gb3RoZXIgZWxlbWVudHMgYmVpbmcgcmVuZGVyZWRcbiAgICAgICAgICAgICAgICByZWNhbGN1bGF0ZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIC8vU2VsZWN0IHRoZSBzaW5nbGUgcmVtYWluaW5nIG9wdGlvbiBpZiB1c2VyIGlucHV0IG1hdGNoZXNcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0T25FeGFjdCAmJiBzY29wZS5tYXRjaGVzLmxlbmd0aCA9PT0gMSAmJiBpbnB1dElzRXhhY3RNYXRjaChpbnB1dFZhbHVlLCAwKSkge1xuICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0KDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgICAgICBpc05vUmVzdWx0c1NldHRlcihvcmlnaW5hbFNjb3BlLCB0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uQ3VycmVudFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTtcbiAgICAgICAgICAgIGlzTm9SZXN1bHRzU2V0dGVyKG9yaWdpbmFsU2NvcGUsIHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGJpbmQgZXZlbnRzIG9ubHkgaWYgYXBwZW5kVG9Cb2R5IHBhcmFtcyBleGlzdCAtIHBlcmZvcm1hbmNlIGZlYXR1cmVcbiAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5iaW5kKCdyZXNpemUnLCBmaXJlUmVjYWxjdWxhdGluZyk7XG4gICAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5iaW5kKCdzY3JvbGwnLCBmaXJlUmVjYWxjdWxhdGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWNsYXJlIHRoZSB0aW1lb3V0IHByb21pc2UgdmFyIG91dHNpZGUgdGhlIGZ1bmN0aW9uIHNjb3BlIHNvIHRoYXQgc3RhY2tlZCBjYWxscyBjYW4gYmUgY2FuY2VsbGVkIGxhdGVyXG4gICAgICAgIHZhciB0aW1lb3V0RXZlbnRQcm9taXNlO1xuXG4gICAgICAgIC8vIERlZmF1bHQgcHJvZ3Jlc3MgdHlwZVxuICAgICAgICBzY29wZS5tb3ZlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGZpcmVSZWNhbGN1bGF0aW5nKCkge1xuICAgICAgICAgIGlmICghc2NvcGUubW92ZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHNjb3BlLm1vdmVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDYW5jZWwgcHJldmlvdXMgdGltZW91dFxuICAgICAgICAgIGlmICh0aW1lb3V0RXZlbnRQcm9taXNlKSB7XG4gICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodGltZW91dEV2ZW50UHJvbWlzZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRGVib3VuY2VkIGV4ZWN1dGluZyByZWNhbGN1bGF0ZSBhZnRlciBldmVudHMgZmlyZWRcbiAgICAgICAgICB0aW1lb3V0RXZlbnRQcm9taXNlID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBpZiBwb3B1cCBpcyB2aXNpYmxlXG4gICAgICAgICAgICBpZiAoc2NvcGUubWF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVjYWxjdWxhdGVQb3NpdGlvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzY29wZS5tb3ZlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIH0sIGV2ZW50RGVib3VuY2VUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlY2FsY3VsYXRlIGFjdHVhbCBwb3NpdGlvbiBhbmQgc2V0IG5ldyB2YWx1ZXMgdG8gc2NvcGVcbiAgICAgICAgLy8gYWZ0ZXIgZGlnZXN0IGxvb3AgaXMgcG9wdXAgaW4gcmlnaHQgcG9zaXRpb25cbiAgICAgICAgZnVuY3Rpb24gcmVjYWxjdWxhdGVQb3NpdGlvbigpIHtcbiAgICAgICAgICBzY29wZS5wb3NpdGlvbiA9IGFwcGVuZFRvQm9keSA/ICRwb3NpdGlvbi5vZmZzZXQoZWxlbWVudCkgOiAkcG9zaXRpb24ucG9zaXRpb24oZWxlbWVudCk7XG4gICAgICAgICAgc2NvcGUucG9zaXRpb24udG9wICs9IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXNldE1hdGNoZXMoKTtcblxuICAgICAgICAvL3dlIG5lZWQgdG8gcHJvcGFnYXRlIHVzZXIncyBxdWVyeSBzbyB3ZSBjYW4gaGlnbGlnaHQgbWF0Y2hlc1xuICAgICAgICBzY29wZS5xdWVyeSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvL0RlY2xhcmUgdGhlIHRpbWVvdXQgcHJvbWlzZSB2YXIgb3V0c2lkZSB0aGUgZnVuY3Rpb24gc2NvcGUgc28gdGhhdCBzdGFja2VkIGNhbGxzIGNhbiBiZSBjYW5jZWxsZWQgbGF0ZXJcbiAgICAgICAgdmFyIHRpbWVvdXRQcm9taXNlO1xuXG4gICAgICAgIHZhciBzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0ID0gZnVuY3Rpb24oaW5wdXRWYWx1ZSkge1xuICAgICAgICAgIHRpbWVvdXRQcm9taXNlID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfSwgd2FpdFRpbWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjYW5jZWxQcmV2aW91c1RpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAodGltZW91dFByb21pc2UpIHtcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0UHJvbWlzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vcGx1ZyBpbnRvICRwYXJzZXJzIHBpcGVsaW5lIHRvIG9wZW4gYSB0eXBlYWhlYWQgb24gdmlldyBjaGFuZ2VzIGluaXRpYXRlZCBmcm9tIERPTVxuICAgICAgICAvLyRwYXJzZXJzIGtpY2staW4gb24gYWxsIHRoZSBjaGFuZ2VzIGNvbWluZyBmcm9tIHRoZSB2aWV3IGFzIHdlbGwgYXMgbWFudWFsbHkgdHJpZ2dlcmVkIGJ5ICRzZXRWaWV3VmFsdWVcbiAgICAgICAgbW9kZWxDdHJsLiRwYXJzZXJzLnVuc2hpZnQoZnVuY3Rpb24oaW5wdXRWYWx1ZSkge1xuICAgICAgICAgIGhhc0ZvY3VzID0gdHJ1ZTtcblxuICAgICAgICAgIGlmIChtaW5MZW5ndGggPT09IDAgfHwgaW5wdXRWYWx1ZSAmJiBpbnB1dFZhbHVlLmxlbmd0aCA+PSBtaW5MZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh3YWl0VGltZSA+IDApIHtcbiAgICAgICAgICAgICAgY2FuY2VsUHJldmlvdXNUaW1lb3V0KCk7XG4gICAgICAgICAgICAgIHNjaGVkdWxlU2VhcmNoV2l0aFRpbWVvdXQoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgICBjYW5jZWxQcmV2aW91c1RpbWVvdXQoKTtcbiAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgICAgIC8vIFJlc2V0IGluIGNhc2UgdXNlciBoYWQgdHlwZWQgc29tZXRoaW5nIHByZXZpb3VzbHkuXG4gICAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCBmYWxzZSk7XG4gICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBtb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihtb2RlbFZhbHVlKSB7XG4gICAgICAgICAgdmFyIGNhbmRpZGF0ZVZpZXdWYWx1ZSwgZW1wdHlWaWV3VmFsdWU7XG4gICAgICAgICAgdmFyIGxvY2FscyA9IHt9O1xuXG4gICAgICAgICAgLy8gVGhlIHZhbGlkaXR5IG1heSBiZSBzZXQgdG8gZmFsc2UgdmlhICRwYXJzZXJzIChzZWUgYWJvdmUpIGlmXG4gICAgICAgICAgLy8gdGhlIG1vZGVsIGlzIHJlc3RyaWN0ZWQgdG8gc2VsZWN0ZWQgdmFsdWVzLiBJZiB0aGUgbW9kZWxcbiAgICAgICAgICAvLyBpcyBzZXQgbWFudWFsbHkgaXQgaXMgY29uc2lkZXJlZCB0byBiZSB2YWxpZC5cbiAgICAgICAgICBpZiAoIWlzRWRpdGFibGUpIHtcbiAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlucHV0Rm9ybWF0dGVyKSB7XG4gICAgICAgICAgICBsb2NhbHMuJG1vZGVsID0gbW9kZWxWYWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dEZvcm1hdHRlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL2l0IG1pZ2h0IGhhcHBlbiB0aGF0IHdlIGRvbid0IGhhdmUgZW5vdWdoIGluZm8gdG8gcHJvcGVybHkgcmVuZGVyIGlucHV0IHZhbHVlXG4gICAgICAgICAgICAvL3dlIG5lZWQgdG8gY2hlY2sgZm9yIHRoaXMgc2l0dWF0aW9uIGFuZCBzaW1wbHkgcmV0dXJuIG1vZGVsIHZhbHVlIGlmIHdlIGNhbid0IGFwcGx5IGN1c3RvbSBmb3JtYXR0aW5nXG4gICAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IG1vZGVsVmFsdWU7XG4gICAgICAgICAgICBjYW5kaWRhdGVWaWV3VmFsdWUgPSBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBlbXB0eVZpZXdWYWx1ZSA9IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7XG5cbiAgICAgICAgICAgIHJldHVybiBjYW5kaWRhdGVWaWV3VmFsdWUhPT0gZW1wdHlWaWV3VmFsdWUgPyBjYW5kaWRhdGVWaWV3VmFsdWUgOiBtb2RlbFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oYWN0aXZlSWR4KSB7XG4gICAgICAgICAgLy9jYWxsZWQgZnJvbSB3aXRoaW4gdGhlICRkaWdlc3QoKSBjeWNsZVxuICAgICAgICAgIHZhciBsb2NhbHMgPSB7fTtcbiAgICAgICAgICB2YXIgbW9kZWwsIGl0ZW07XG5cbiAgICAgICAgICBzZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBpdGVtID0gc2NvcGUubWF0Y2hlc1thY3RpdmVJZHhdLm1vZGVsO1xuICAgICAgICAgIG1vZGVsID0gcGFyc2VyUmVzdWx0Lm1vZGVsTWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgJHNldE1vZGVsVmFsdWUob3JpZ2luYWxTY29wZSwgbW9kZWwpO1xuICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgncGFyc2UnLCB0cnVlKTtcblxuICAgICAgICAgIG9uU2VsZWN0Q2FsbGJhY2sob3JpZ2luYWxTY29wZSwge1xuICAgICAgICAgICAgJGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAkbW9kZWw6IG1vZGVsLFxuICAgICAgICAgICAgJGxhYmVsOiBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXNldE1hdGNoZXMoKTtcblxuICAgICAgICAgIC8vcmV0dXJuIGZvY3VzIHRvIHRoZSBpbnB1dCBlbGVtZW50IGlmIGEgbWF0Y2ggd2FzIHNlbGVjdGVkIHZpYSBhIG1vdXNlIGNsaWNrIGV2ZW50XG4gICAgICAgICAgLy8gdXNlIHRpbWVvdXQgdG8gYXZvaWQgJHJvb3RTY29wZTppbnByb2cgZXJyb3JcbiAgICAgICAgICBpZiAoc2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkRm9jdXNPblNlbGVjdCkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHsgZWxlbWVudFswXS5mb2N1cygpOyB9LCAwLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vYmluZCBrZXlib2FyZCBldmVudHM6IGFycm93cyB1cCgzOCkgLyBkb3duKDQwKSwgZW50ZXIoMTMpIGFuZCB0YWIoOSksIGVzYygyNylcbiAgICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgLy90eXBlYWhlYWQgaXMgb3BlbiBhbmQgYW4gXCJpbnRlcmVzdGluZ1wiIGtleSB3YXMgcHJlc3NlZFxuICAgICAgICAgIGlmIChzY29wZS5tYXRjaGVzLmxlbmd0aCA9PT0gMCB8fCBIT1RfS0VZUy5pbmRleE9mKGV2dC53aGljaCkgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gaWYgdGhlcmUncyBub3RoaW5nIHNlbGVjdGVkIChpLmUuIGZvY3VzRmlyc3QpIGFuZCBlbnRlciBvciB0YWIgaXMgaGl0LCBjbGVhciB0aGUgcmVzdWx0c1xuICAgICAgICAgIGlmIChzY29wZS5hY3RpdmVJZHggPT09IC0xICYmIChldnQud2hpY2ggPT09IDkgfHwgZXZ0LndoaWNoID09PSAxMykpIHtcbiAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgaWYgKGV2dC53aGljaCA9PT0gNDApIHtcbiAgICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IChzY29wZS5hY3RpdmVJZHggKyAxKSAlIHNjb3BlLm1hdGNoZXMubGVuZ3RoO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDM4KSB7XG4gICAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSAoc2NvcGUuYWN0aXZlSWR4ID4gMCA/IHNjb3BlLmFjdGl2ZUlkeCA6IHNjb3BlLm1hdGNoZXMubGVuZ3RoKSAtIDE7XG4gICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGV2dC53aGljaCA9PT0gMTMgfHwgZXZ0LndoaWNoID09PSA5KSB7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBzY29wZS5zZWxlY3Qoc2NvcGUuYWN0aXZlSWR4KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWxlbWVudC5iaW5kKCdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGlzU2VsZWN0T25CbHVyICYmIHNjb3BlLm1hdGNoZXMubGVuZ3RoICYmIHNjb3BlLmFjdGl2ZUlkeCAhPT0gLTEgJiYgIXNlbGVjdGVkKSB7XG4gICAgICAgICAgICBzZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnNlbGVjdChzY29wZS5hY3RpdmVJZHgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhc0ZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gS2VlcCByZWZlcmVuY2UgdG8gY2xpY2sgaGFuZGxlciB0byB1bmJpbmQgaXQuXG4gICAgICAgIHZhciBkaXNtaXNzQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgLy8gSXNzdWUgIzM5NzNcbiAgICAgICAgICAvLyBGaXJlZm94IHRyZWF0cyByaWdodCBjbGljayBhcyBhIGNsaWNrIG9uIGRvY3VtZW50XG4gICAgICAgICAgaWYgKGVsZW1lbnRbMF0gIT09IGV2dC50YXJnZXQgJiYgZXZ0LndoaWNoICE9PSAzICYmIHNjb3BlLm1hdGNoZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJGRvY3VtZW50LmJpbmQoJ2NsaWNrJywgZGlzbWlzc0NsaWNrSGFuZGxlcik7XG5cbiAgICAgICAgb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkaXNtaXNzQ2xpY2tIYW5kbGVyKTtcbiAgICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICAgICAkcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFByZXZlbnQgalF1ZXJ5IGNhY2hlIG1lbW9yeSBsZWFrXG4gICAgICAgICAgcG9wVXBFbC5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyICRwb3B1cCA9ICRjb21waWxlKHBvcFVwRWwpKHNjb3BlKTtcblxuICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5hcHBlbmQoJHBvcHVwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50LmFmdGVyKCRwb3B1cCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gIH1dKVxuXG4gIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZFBvcHVwJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgbWF0Y2hlczogJz0nLFxuICAgICAgICBxdWVyeTogJz0nLFxuICAgICAgICBhY3RpdmU6ICc9JyxcbiAgICAgICAgcG9zaXRpb246ICcmJyxcbiAgICAgICAgbW92ZUluUHJvZ3Jlc3M6ICc9JyxcbiAgICAgICAgc2VsZWN0OiAnJidcbiAgICAgIH0sXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHJldHVybiBhdHRycy5wb3B1cFRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwnO1xuICAgICAgfSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICBzY29wZS50ZW1wbGF0ZVVybCA9IGF0dHJzLnRlbXBsYXRlVXJsO1xuXG4gICAgICAgIHNjb3BlLmlzT3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBzY29wZS5tYXRjaGVzLmxlbmd0aCA+IDA7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuaXNBY3RpdmUgPSBmdW5jdGlvbihtYXRjaElkeCkge1xuICAgICAgICAgIHJldHVybiBzY29wZS5hY3RpdmUgPT0gbWF0Y2hJZHg7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0QWN0aXZlID0gZnVuY3Rpb24obWF0Y2hJZHgpIHtcbiAgICAgICAgICBzY29wZS5hY3RpdmUgPSBtYXRjaElkeDtcbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS5zZWxlY3RNYXRjaCA9IGZ1bmN0aW9uKGFjdGl2ZUlkeCkge1xuICAgICAgICAgIHNjb3BlLnNlbGVjdCh7YWN0aXZlSWR4OmFjdGl2ZUlkeH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbiAgLmRpcmVjdGl2ZSgndHlwZWFoZWFkTWF0Y2gnLCBbJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJGNvbXBpbGUnLCAnJHBhcnNlJywgZnVuY3Rpb24oJHRlbXBsYXRlUmVxdWVzdCwgJGNvbXBpbGUsICRwYXJzZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGluZGV4OiAnPScsXG4gICAgICAgIG1hdGNoOiAnPScsXG4gICAgICAgIHF1ZXJ5OiAnPSdcbiAgICAgIH0sXG4gICAgICBsaW5rOmZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICB2YXIgdHBsVXJsID0gJHBhcnNlKGF0dHJzLnRlbXBsYXRlVXJsKShzY29wZS4kcGFyZW50KSB8fCAndGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sJztcbiAgICAgICAgJHRlbXBsYXRlUmVxdWVzdCh0cGxVcmwpLnRoZW4oZnVuY3Rpb24odHBsQ29udGVudCkge1xuICAgICAgICAgICRjb21waWxlKHRwbENvbnRlbnQudHJpbSgpKShzY29wZSwgZnVuY3Rpb24oY2xvbmVkRWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZXBsYWNlV2l0aChjbG9uZWRFbGVtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pXG5cbiAgLmZpbHRlcigndHlwZWFoZWFkSGlnaGxpZ2h0JywgWyckc2NlJywgJyRpbmplY3RvcicsICckbG9nJywgZnVuY3Rpb24oJHNjZSwgJGluamVjdG9yLCAkbG9nKSB7XG4gICAgdmFyIGlzU2FuaXRpemVQcmVzZW50O1xuICAgIGlzU2FuaXRpemVQcmVzZW50ID0gJGluamVjdG9yLmhhcygnJHNhbml0aXplJyk7XG5cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdleHAocXVlcnlUb0VzY2FwZSkge1xuICAgICAgLy8gUmVnZXg6IGNhcHR1cmUgdGhlIHdob2xlIHF1ZXJ5IHN0cmluZyBhbmQgcmVwbGFjZSBpdCB3aXRoIHRoZSBzdHJpbmcgdGhhdCB3aWxsIGJlIHVzZWQgdG8gbWF0Y2hcbiAgICAgIC8vIHRoZSByZXN1bHRzLCBmb3IgZXhhbXBsZSBpZiB0aGUgY2FwdHVyZSBpcyBcImFcIiB0aGUgcmVzdWx0IHdpbGwgYmUgXFxhXG4gICAgICByZXR1cm4gcXVlcnlUb0VzY2FwZS5yZXBsYWNlKC8oWy4/KiteJFtcXF1cXFxcKCl7fXwtXSkvZywgJ1xcXFwkMScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbnRhaW5zSHRtbChtYXRjaEl0ZW0pIHtcbiAgICAgIHJldHVybiAvPC4qPi9nLnRlc3QobWF0Y2hJdGVtKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24obWF0Y2hJdGVtLCBxdWVyeSkge1xuICAgICAgaWYgKCFpc1Nhbml0aXplUHJlc2VudCAmJiBjb250YWluc0h0bWwobWF0Y2hJdGVtKSkge1xuICAgICAgICAkbG9nLndhcm4oJ1Vuc2FmZSB1c2Ugb2YgdHlwZWFoZWFkIHBsZWFzZSB1c2UgbmdTYW5pdGl6ZScpOyAvLyBXYXJuIHRoZSB1c2VyIGFib3V0IHRoZSBkYW5nZXJcbiAgICAgIH1cbiAgICAgIG1hdGNoSXRlbSA9IHF1ZXJ5PyAoJycgKyBtYXRjaEl0ZW0pLnJlcGxhY2UobmV3IFJlZ0V4cChlc2NhcGVSZWdleHAocXVlcnkpLCAnZ2knKSwgJzxzdHJvbmc+JCY8L3N0cm9uZz4nKSA6IG1hdGNoSXRlbTsgLy8gUmVwbGFjZXMgdGhlIGNhcHR1cmUgc3RyaW5nIHdpdGggYSB0aGUgc2FtZSBzdHJpbmcgaW5zaWRlIG9mIGEgXCJzdHJvbmdcIiB0YWdcbiAgICAgIGlmICghaXNTYW5pdGl6ZVByZXNlbnQpIHtcbiAgICAgICAgbWF0Y2hJdGVtID0gJHNjZS50cnVzdEFzSHRtbChtYXRjaEl0ZW0pOyAvLyBJZiAkc2FuaXRpemUgaXMgbm90IHByZXNlbnQgd2UgcGFjayB0aGUgc3RyaW5nIGluIGEgJHNjZSBvYmplY3QgZm9yIHRoZSBuZy1iaW5kLWh0bWwgZGlyZWN0aXZlXG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2hJdGVtO1xuICAgIH07XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBhbmVsIHt7cGFuZWxDbGFzcyB8fCAncGFuZWwtZGVmYXVsdCd9fVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIiBuZy1rZXlwcmVzcz1cXFwidG9nZ2xlT3BlbigkZXZlbnQpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGg0IGNsYXNzPVxcXCJwYW5lbC10aXRsZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGEgaHJlZiB0YWJpbmRleD1cXFwiMFxcXCIgY2xhc3M9XFxcImFjY29yZGlvbi10b2dnbGVcXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVPcGVuKClcXFwiIGFjY29yZGlvbi10cmFuc2NsdWRlPVxcXCJoZWFkaW5nXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwieyd0ZXh0LW11dGVkJzogaXNEaXNhYmxlZH1cXFwiPnt7aGVhZGluZ319PC9zcGFuPjwvYT5cXG5cIiArXG4gICAgXCIgICAgPC9oND5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicGFuZWwtY29sbGFwc2UgY29sbGFwc2VcXFwiIGNvbGxhcHNlPVxcXCIhaXNPcGVuXFxcIj5cXG5cIiArXG4gICAgXCJcdCAgPGRpdiBjbGFzcz1cXFwicGFuZWwtYm9keVxcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBhbmVsLWdyb3VwXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwiYWxlcnRcXFwiIG5nLWNsYXNzPVxcXCJbJ2FsZXJ0LScgKyAodHlwZSB8fCAnd2FybmluZycpLCBjbG9zZWFibGUgPyAnYWxlcnQtZGlzbWlzc2libGUnIDogbnVsbF1cXFwiIHJvbGU9XFxcImFsZXJ0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGJ1dHRvbiBuZy1zaG93PVxcXCJjbG9zZWFibGVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBuZy1jbGljaz1cXFwiY2xvc2UoJGV2ZW50KVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+JnRpbWVzOzwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5DbG9zZTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWxcIixcbiAgICBcIjxkaXYgbmctbW91c2VlbnRlcj1cXFwicGF1c2UoKVxcXCIgbmctbW91c2VsZWF2ZT1cXFwicGxheSgpXFxcIiBjbGFzcz1cXFwiY2Fyb3VzZWxcXFwiIG5nLXN3aXBlLXJpZ2h0PVxcXCJwcmV2KClcXFwiIG5nLXN3aXBlLWxlZnQ9XFxcIm5leHQoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxvbCBjbGFzcz1cXFwiY2Fyb3VzZWwtaW5kaWNhdG9yc1xcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwic2xpZGUgaW4gc2xpZGVzIHwgb3JkZXJCeTppbmRleE9mU2xpZGUgdHJhY2sgYnkgJGluZGV4XFxcIiBuZy1jbGFzcz1cXFwie2FjdGl2ZTogaXNBY3RpdmUoc2xpZGUpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChzbGlkZSlcXFwiPjwvbGk+XFxuXCIgK1xuICAgIFwiICAgIDwvb2w+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImNhcm91c2VsLWlubmVyXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8YSBjbGFzcz1cXFwibGVmdCBjYXJvdXNlbC1jb250cm9sXFxcIiBuZy1jbGljaz1cXFwicHJldigpXFxcIiBuZy1zaG93PVxcXCJzbGlkZXMubGVuZ3RoID4gMVxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L3NwYW4+PC9hPlxcblwiICtcbiAgICBcIiAgICA8YSBjbGFzcz1cXFwicmlnaHQgY2Fyb3VzZWwtY29udHJvbFxcXCIgbmctY2xpY2s9XFxcIm5leHQoKVxcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvc3Bhbj48L2E+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLWNsYXNzPVxcXCJ7XFxuXCIgK1xuICAgIFwiICAgICdhY3RpdmUnOiBhY3RpdmVcXG5cIiArXG4gICAgXCIgIH1cXFwiIGNsYXNzPVxcXCJpdGVtIHRleHQtY2VudGVyXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLXN3aXRjaD1cXFwiZGF0ZXBpY2tlck1vZGVcXFwiIHJvbGU9XFxcImFwcGxpY2F0aW9uXFxcIiBuZy1rZXlkb3duPVxcXCJrZXlkb3duKCRldmVudClcXFwiPlxcblwiICtcbiAgICBcIiAgPGRheXBpY2tlciBuZy1zd2l0Y2gtd2hlbj1cXFwiZGF5XFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC9kYXlwaWNrZXI+XFxuXCIgK1xuICAgIFwiICA8bW9udGhwaWNrZXIgbmctc3dpdGNoLXdoZW49XFxcIm1vbnRoXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC9tb250aHBpY2tlcj5cXG5cIiArXG4gICAgXCIgIDx5ZWFycGlja2VyIG5nLXN3aXRjaC13aGVuPVxcXCJ5ZWFyXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC95ZWFycGlja2VyPlxcblwiICtcbiAgICBcIjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLFxuICAgIFwiPHRhYmxlIHJvbGU9XFxcImdyaWRcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cXFwie3thY3RpdmVEYXRlSWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICA8dGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoLTEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIGNvbHNwYW49XFxcInt7Ojo1ICsgc2hvd1dlZWtzfX1cXFwiPjxidXR0b24gaWQ9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiByb2xlPVxcXCJoZWFkaW5nXFxcIiBhcmlhLWxpdmU9XFxcImFzc2VydGl2ZVxcXCIgYXJpYS1hdG9taWM9XFxcInRydWVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNb2RlKClcXFwiIG5nLWRpc2FibGVkPVxcXCJkYXRlcGlja2VyTW9kZSA9PT0gbWF4TW9kZVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKDEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIG5nLWlmPVxcXCJzaG93V2Vla3NcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGggbmctcmVwZWF0PVxcXCJsYWJlbCBpbiA6OmxhYmVscyB0cmFjayBieSAkaW5kZXhcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+PHNtYWxsIGFyaWEtbGFiZWw9XFxcInt7OjpsYWJlbC5mdWxsfX1cXFwiPnt7OjpsYWJlbC5hYmJyfX08L3NtYWxsPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1pZj1cXFwic2hvd1dlZWtzXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXIgaDZcXFwiPjxlbT57eyB3ZWVrTnVtYmVyc1skaW5kZXhdIH19PC9lbT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIHJvbGU9XFxcImdyaWRjZWxsXFxcIiBpZD1cXFwie3s6OmR0LnVpZH19XFxcIiBuZy1jbGFzcz1cXFwiOjpkdC5jdXN0b21DbGFzc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDoxMDAlO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsYXNzPVxcXCJ7J2J0bi1pbmZvJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChkdC5kYXRlKVxcXCIgbmctZGlzYWJsZWQ9XFxcImR0LmRpc2FibGVkXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCI6OnsndGV4dC1tdXRlZCc6IGR0LnNlY29uZGFyeSwgJ3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIixcbiAgICBcIjx0YWJsZSByb2xlPVxcXCJncmlkXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIGlkPVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgcm9sZT1cXFwiaGVhZGluZ1xcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTW9kZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGF0ZXBpY2tlck1vZGUgPT09IG1heE1vZGVcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIj48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgxKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGhlYWQ+XFxuXCIgK1xuICAgIFwiICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBuZy1yZXBlYXQ9XFxcInJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXJlcGVhdD1cXFwiZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGVcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiIGlkPVxcXCJ7ezo6ZHQudWlkfX1cXFwiIG5nLWNsYXNzPVxcXCI6OmR0LmN1c3RvbUNsYXNzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOjEwMCU7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBuZy1jbGFzcz1cXFwieydidG4taW5mbyc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoZHQuZGF0ZSlcXFwiIG5nLWRpc2FibGVkPVxcXCJkdC5kaXNhYmxlZFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwiOjp7J3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCIgbmctaWY9XFxcImlzT3BlblxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGJsb2NrXFxcIiBuZy1zdHlsZT1cXFwie3RvcDogcG9zaXRpb24udG9wKydweCcsIGxlZnQ6IHBvc2l0aW9uLmxlZnQrJ3B4J31cXFwiIG5nLWtleWRvd249XFxcImtleWRvd24oJGV2ZW50KVxcXCIgbmctY2xpY2s9XFxcIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVxcXCI+XFxuXCIgK1xuICAgIFwiXHQ8bGkgbmctdHJhbnNjbHVkZT48L2xpPlxcblwiICtcbiAgICBcIlx0PGxpIG5nLWlmPVxcXCJzaG93QnV0dG9uQmFyXFxcIiBzdHlsZT1cXFwicGFkZGluZzoxMHB4IDlweCAycHhcXFwiPlxcblwiICtcbiAgICBcIlx0XHQ8c3BhbiBjbGFzcz1cXFwiYnRuLWdyb3VwIHB1bGwtbGVmdFxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1pbmZvXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KCd0b2RheScpXFxcIiBuZy1kaXNhYmxlZD1cXFwiaXNEaXNhYmxlZCgndG9kYXknKVxcXCI+e3sgZ2V0VGV4dCgnY3VycmVudCcpIH19PC9idXR0b24+XFxuXCIgK1xuICAgIFwiXHRcdFx0PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1kYW5nZXJcXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QobnVsbClcXFwiPnt7IGdldFRleHQoJ2NsZWFyJykgfX08L2J1dHRvbj5cXG5cIiArXG4gICAgXCJcdFx0PC9zcGFuPlxcblwiICtcbiAgICBcIlx0XHQ8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc20gYnRuLXN1Y2Nlc3MgcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcImNsb3NlKClcXFwiPnt7IGdldFRleHQoJ2Nsb3NlJykgfX08L2J1dHRvbj5cXG5cIiArXG4gICAgXCJcdDwvbGk+XFxuXCIgK1xuICAgIFwiPC91bD5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbFwiLFxuICAgIFwiPHRhYmxlIHJvbGU9XFxcImdyaWRcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cXFwie3thY3RpdmVEYXRlSWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICA8dGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoLTEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIGNvbHNwYW49XFxcIjNcXFwiPjxidXR0b24gaWQ9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiByb2xlPVxcXCJoZWFkaW5nXFxcIiBhcmlhLWxpdmU9XFxcImFzc2VydGl2ZVxcXCIgYXJpYS1hdG9taWM9XFxcInRydWVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNb2RlKClcXFwiIG5nLWRpc2FibGVkPVxcXCJkYXRlcGlja2VyTW9kZSA9PT0gbWF4TW9kZVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKDEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90aGVhZD5cXG5cIiArXG4gICAgXCIgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgPHRyIG5nLXJlcGVhdD1cXFwicm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctcmVwZWF0PVxcXCJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZVxcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiByb2xlPVxcXCJncmlkY2VsbFxcXCIgaWQ9XFxcInt7OjpkdC51aWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDoxMDAlO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctY2xhc3M9XFxcInsnYnRuLWluZm8nOiBkdC5zZWxlY3RlZCwgYWN0aXZlOiBpc0FjdGl2ZShkdCl9XFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KGR0LmRhdGUpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZHQuZGlzYWJsZWRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PHNwYW4gbmctY2xhc3M9XFxcIjo6eyd0ZXh0LWluZm8nOiBkdC5jdXJyZW50fVxcXCI+e3s6OmR0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJhY2tkcm9wXFxcIlxcblwiICtcbiAgICBcIiAgICAgbW9kYWwtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgICAgbW9kYWwtaW4tY2xhc3M9XFxcImluXFxcIlxcblwiICtcbiAgICBcIiAgICAgbmctc3R5bGU9XFxcInsnei1pbmRleCc6IDEwNDAgKyAoaW5kZXggJiYgMSB8fCAwKSArIGluZGV4KjEwfVxcXCJcXG5cIiArXG4gICAgXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWxcIixcbiAgICBcIjxkaXYgbW9kYWwtcmVuZGVyPVxcXCJ7eyRpc1JlbmRlcmVkfX1cXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgcm9sZT1cXFwiZGlhbG9nXFxcIiBjbGFzcz1cXFwibW9kYWxcXFwiXFxuXCIgK1xuICAgIFwiICAgIG1vZGFsLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgICAgbW9kYWwtaW4tY2xhc3M9XFxcImluXFxcIlxcblwiICtcbiAgICBcIlx0bmctc3R5bGU9XFxcInsnei1pbmRleCc6IDEwNTAgKyBpbmRleCoxMCwgZGlzcGxheTogJ2Jsb2NrJ31cXFwiIG5nLWNsaWNrPVxcXCJjbG9zZSgkZXZlbnQpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZGlhbG9nXFxcIiBuZy1jbGFzcz1cXFwic2l6ZSA/ICdtb2RhbC0nICsgc2l6ZSA6ICcnXFxcIj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1jb250ZW50XFxcIiBtb2RhbC10cmFuc2NsdWRlPjwvZGl2PjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwicGFnZXJcXFwiPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKXx8bmdEaXNhYmxlZCwgcHJldmlvdXM6IGFsaWdufVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlIC0gMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ3ByZXZpb3VzJyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkLCBuZXh0OiBhbGlnbn1cXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSArIDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCduZXh0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwicGFnaW5hdGlvblxcXCI+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctaWY9XFxcIjo6Ym91bmRhcnlMaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpfHxuZ0Rpc2FibGVkfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tZmlyc3RcXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UoMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ2ZpcnN0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmRpcmVjdGlvbkxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl8fG5nRGlzYWJsZWR9XFxcIiBjbGFzcz1cXFwicGFnaW5hdGlvbi1wcmV2XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UgLSAxLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgncHJldmlvdXMnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctcmVwZWF0PVxcXCJwYWdlIGluIHBhZ2VzIHRyYWNrIGJ5ICRpbmRleFxcXCIgbmctY2xhc3M9XFxcInthY3RpdmU6IHBhZ2UuYWN0aXZlLGRpc2FibGVkOiBuZ0Rpc2FibGVkJiYhcGFnZS5hY3RpdmV9XFxcIiBjbGFzcz1cXFwicGFnaW5hdGlvbi1wYWdlXFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UubnVtYmVyLCAkZXZlbnQpXFxcIj57e3BhZ2UudGV4dH19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctaWY9XFxcIjo6ZGlyZWN0aW9uTGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tbmV4dFxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlICsgMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ25leHQnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctaWY9XFxcIjo6Ym91bmRhcnlMaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9OZXh0KCl8fG5nRGlzYWJsZWR9XFxcIiBjbGFzcz1cXFwicGFnaW5hdGlvbi1sYXN0XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHRvdGFsUGFnZXMsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCdsYXN0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCIgbmctYmluZC1odG1sPVxcXCJjb250ZW50RXhwKClcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCIgYmluZC1odG1sLXVuc2FmZT1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInRvb2x0aXBcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1hcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWlubmVyXFxcIiBuZy1iaW5kPVxcXCJjb250ZW50XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtdGVtcGxhdGUtcG9wdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwidG9vbHRpcFxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiXFxuXCIgK1xuICAgIFwiICAgIHRvb2x0aXAtdGVtcGxhdGUtdHJhbnNjbHVkZT1cXFwiY29udGVudEV4cCgpXFxcIlxcblwiICtcbiAgICBcIiAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGUtc2NvcGU9XFxcIm9yaWdpblNjb3BlKClcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItaHRtbC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicG9wb3ZlclxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJhcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWlubmVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDMgY2xhc3M9XFxcInBvcG92ZXItdGl0bGVcXFwiIG5nLWJpbmQ9XFxcInRpdGxlXFxcIiBuZy1pZj1cXFwidGl0bGVcXFwiPjwvaDM+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1jb250ZW50XFxcIiBuZy1iaW5kLWh0bWw9XFxcImNvbnRlbnRFeHAoKVxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicG9wb3ZlclxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJhcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWlubmVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDMgY2xhc3M9XFxcInBvcG92ZXItdGl0bGVcXFwiIG5nLWJpbmQ9XFxcInRpdGxlXFxcIiBuZy1pZj1cXFwidGl0bGVcXFwiPjwvaDM+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1jb250ZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgdG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlPVxcXCJjb250ZW50RXhwKClcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGUtc2NvcGU9XFxcIm9yaWdpblNjb3BlKClcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBvcG92ZXJcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1pbm5lclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGgzIGNsYXNzPVxcXCJwb3BvdmVyLXRpdGxlXFxcIiBuZy1iaW5kPVxcXCJ0aXRsZVxcXCIgbmctaWY9XFxcInRpdGxlXFxcIj48L2gzPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItY29udGVudFxcXCIgbmctYmluZD1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyXFxcIiBuZy1jbGFzcz1cXFwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXFxcIiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e21heH19XFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiAocGVyY2VudCA8IDEwMCA/IHBlcmNlbnQgOiAxMDApICsgJyUnfVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7cGVyY2VudCB8IG51bWJlcjowfX0lXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOiAwO1xcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInByb2dyZXNzXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3NcXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyXFxcIiBuZy1jbGFzcz1cXFwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXFxcIiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e21heH19XFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiAocGVyY2VudCA8IDEwMCA/IHBlcmNlbnQgOiAxMDApICsgJyUnfVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7cGVyY2VudCB8IG51bWJlcjowfX0lXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOiAwO1xcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sXCIsXG4gICAgXCI8c3BhbiBuZy1tb3VzZWxlYXZlPVxcXCJyZXNldCgpXFxcIiBuZy1rZXlkb3duPVxcXCJvbktleWRvd24oJGV2ZW50KVxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiIHJvbGU9XFxcInNsaWRlclxcXCIgYXJpYS12YWx1ZW1pbj1cXFwiMFxcXCIgYXJpYS12YWx1ZW1heD1cXFwie3tyYW5nZS5sZW5ndGh9fVxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPHNwYW4gbmctcmVwZWF0LXN0YXJ0PVxcXCJyIGluIHJhbmdlIHRyYWNrIGJ5ICRpbmRleFxcXCIgY2xhc3M9XFxcInNyLW9ubHlcXFwiPih7eyAkaW5kZXggPCB2YWx1ZSA/ICcqJyA6ICcgJyB9fSk8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDxpIG5nLXJlcGVhdC1lbmQgbmctbW91c2VlbnRlcj1cXFwiZW50ZXIoJGluZGV4ICsgMSlcXFwiIG5nLWNsaWNrPVxcXCJyYXRlKCRpbmRleCArIDEpXFxcIiBjbGFzcz1cXFwiZ2x5cGhpY29uXFxcIiBuZy1jbGFzcz1cXFwiJGluZGV4IDwgdmFsdWUgJiYgKHIuc3RhdGVPbiB8fCAnZ2x5cGhpY29uLXN0YXInKSB8fCAoci5zdGF0ZU9mZiB8fCAnZ2x5cGhpY29uLXN0YXItZW1wdHknKVxcXCIgbmctYXR0ci10aXRsZT1cXFwie3tyLnRpdGxlfX1cXFwiID48L2k+XFxuXCIgK1xuICAgIFwiPC9zcGFuPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdGFicy90YWIuaHRtbFwiLFxuICAgIFwiPGxpIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBhY3RpdmUsIGRpc2FibGVkOiBkaXNhYmxlZH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0KClcXFwiIHRhYi1oZWFkaW5nLXRyYW5zY2x1ZGU+e3toZWFkaW5nfX08L2E+XFxuXCIgK1xuICAgIFwiPC9saT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWxcIixcbiAgICBcIjxkaXY+XFxuXCIgK1xuICAgIFwiICA8dWwgY2xhc3M9XFxcIm5hdiBuYXYte3t0eXBlIHx8ICd0YWJzJ319XFxcIiBuZy1jbGFzcz1cXFwieyduYXYtc3RhY2tlZCc6IHZlcnRpY2FsLCAnbmF2LWp1c3RpZmllZCc6IGp1c3RpZmllZH1cXFwiIG5nLXRyYW5zY2x1ZGU+PC91bD5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRhYi1jb250ZW50XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwidGFiLXBhbmVcXFwiIFxcblwiICtcbiAgICBcIiAgICAgICAgIG5nLXJlcGVhdD1cXFwidGFiIGluIHRhYnNcXFwiIFxcblwiICtcbiAgICBcIiAgICAgICAgIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiB0YWIuYWN0aXZlfVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICB0YWItY29udGVudC10cmFuc2NsdWRlPVxcXCJ0YWJcXFwiPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sXCIsXG4gICAgXCI8dGFibGU+XFxuXCIgK1xuICAgIFwiICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIG5nLXNob3c9XFxcIjo6c2hvd1NwaW5uZXJzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+PGEgbmctY2xpY2s9XFxcImluY3JlbWVudEhvdXJzKClcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vSW5jcmVtZW50SG91cnMoKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXBcXFwiPjwvc3Bhbj48L2E+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+Jm5ic3A7PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+PGEgbmctY2xpY2s9XFxcImluY3JlbWVudE1pbnV0ZXMoKVxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9JbmNyZW1lbnRNaW51dGVzKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXNob3c9XFxcInNob3dNZXJpZGlhblxcXCI+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctY2xhc3M9XFxcInsnaGFzLWVycm9yJzogaW52YWxpZEhvdXJzfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aW5wdXQgc3R5bGU9XFxcIndpZHRoOjUwcHg7XFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBuZy1tb2RlbD1cXFwiaG91cnNcXFwiIG5nLWNoYW5nZT1cXFwidXBkYXRlSG91cnMoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlclxcXCIgbmctcmVhZG9ubHk9XFxcIjo6cmVhZG9ubHlJbnB1dFxcXCIgbWF4bGVuZ3RoPVxcXCIyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD46PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIG5nLWNsYXNzPVxcXCJ7J2hhcy1lcnJvcic6IGludmFsaWRNaW51dGVzfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aW5wdXQgc3R5bGU9XFxcIndpZHRoOjUwcHg7XFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBuZy1tb2RlbD1cXFwibWludXRlc1xcXCIgbmctY2hhbmdlPVxcXCJ1cGRhdGVNaW51dGVzKClcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgdGV4dC1jZW50ZXJcXFwiIG5nLXJlYWRvbmx5PVxcXCI6OnJlYWRvbmx5SW5wdXRcXFwiIG1heGxlbmd0aD1cXFwiMlxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctc2hvdz1cXFwic2hvd01lcmlkaWFuXFxcIj48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9Ub2dnbGVNZXJpZGlhbigpfVxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCB0ZXh0LWNlbnRlclxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU1lcmlkaWFuKClcXFwiPnt7bWVyaWRpYW59fTwvYnV0dG9uPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIG5nLXNob3c9XFxcIjo6c2hvd1NwaW5uZXJzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+PGEgbmctY2xpY2s9XFxcImRlY3JlbWVudEhvdXJzKClcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vRGVjcmVtZW50SG91cnMoKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93blxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD4mbmJzcDs8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD48YSBuZy1jbGljaz1cXFwiZGVjcmVtZW50TWludXRlcygpXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub0RlY3JlbWVudE1pbnV0ZXMoKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93blxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3Rib2R5PlxcblwiICtcbiAgICBcIjwvdGFibGU+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLFxuICAgIFwiPGEgaHJlZiB0YWJpbmRleD1cXFwiLTFcXFwiIG5nLWJpbmQtaHRtbD1cXFwibWF0Y2gubGFiZWwgfCB0eXBlYWhlYWRIaWdobGlnaHQ6cXVlcnlcXFwiPjwvYT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sXCIsXG4gICAgXCI8dWwgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiIG5nLXNob3c9XFxcImlzT3BlbigpICYmICFtb3ZlSW5Qcm9ncmVzc1xcXCIgbmctc3R5bGU9XFxcInt0b3A6IHBvc2l0aW9uKCkudG9wKydweCcsIGxlZnQ6IHBvc2l0aW9uKCkubGVmdCsncHgnfVxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGJsb2NrO1xcXCIgcm9sZT1cXFwibGlzdGJveFxcXCIgYXJpYS1oaWRkZW49XFxcInt7IWlzT3BlbigpfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICA8bGkgbmctcmVwZWF0PVxcXCJtYXRjaCBpbiBtYXRjaGVzIHRyYWNrIGJ5ICRpbmRleFxcXCIgbmctY2xhc3M9XFxcInthY3RpdmU6IGlzQWN0aXZlKCRpbmRleCkgfVxcXCIgbmctbW91c2VlbnRlcj1cXFwic2VsZWN0QWN0aXZlKCRpbmRleClcXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3RNYXRjaCgkaW5kZXgpXFxcIiByb2xlPVxcXCJvcHRpb25cXFwiIGlkPVxcXCJ7ezo6bWF0Y2guaWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IHR5cGVhaGVhZC1tYXRjaCBpbmRleD1cXFwiJGluZGV4XFxcIiBtYXRjaD1cXFwibWF0Y2hcXFwiIHF1ZXJ5PVxcXCJxdWVyeVxcXCIgdGVtcGxhdGUtdXJsPVxcXCJ0ZW1wbGF0ZVVybFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvbGk+XFxuXCIgK1xuICAgIFwiPC91bD5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG4hYW5ndWxhci4kJGNzcCgpICYmIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuZmluZCgnaGVhZCcpLnByZXBlbmQoJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4ubmctYW5pbWF0ZS5pdGVtOm5vdCgubGVmdCk6bm90KC5yaWdodCl7LXdlYmtpdC10cmFuc2l0aW9uOjBzIGVhc2UtaW4tb3V0IGxlZnQ7dHJhbnNpdGlvbjowcyBlYXNlLWluLW91dCBsZWZ0fTwvc3R5bGU+Jyk7XG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi53aWRnZXQtYnV0dG9uLXRvb2xiYXJcIiwgW1wicmlzZXZpc2lvbi5jb21tb24uaTE4blwiXSlcbiAgICAuZGlyZWN0aXZlKFwid2lkZ2V0QnV0dG9uVG9vbGJhclwiLCBbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBzYXZlOiBcIiZcIixcbiAgICAgICAgICBjYW5jZWw6IFwiJlwiLFxuICAgICAgICAgIGRpc2FibGVTYXZlOiBcIiZcIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KFwiX2FuZ3VsYXIvd2lkZ2V0LWJ1dHRvbi10b29sYmFyL3dpZGdldC1idXR0b24tdG9vbGJhci5odG1sXCIpXG4gICAgICB9O1xuICAgIH1dKTtcbn0oKSk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcIl9hbmd1bGFyL3dpZGdldC1idXR0b24tdG9vbGJhci93aWRnZXQtYnV0dG9uLXRvb2xiYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHVsbC1yaWdodFxcXCI+XFxuXCIgK1xuICAgIFwiICA8YnV0dG9uIGlkPVxcXCJzYXZlXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1maXhlZC13aWR0aFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBuZy1jbGljaz1cXFwic2F2ZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGlzYWJsZVNhdmUoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuPnt7XFxcImNvbW1vbi5zYXZlXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtY2hlY2sgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICA8YnV0dG9uIGlkPVxcXCJjYW5jZWxcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLWZpeGVkLXdpZHRoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIG5nLWNsaWNrPVxcXCJjYW5jZWwoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuPnt7XFxcImNvbW1vbi5jYW5jZWxcXFwiIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS10aW1lcyBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCIsIFtcInVpLmJvb3RzdHJhcFwiXSlcbiAgICAuZGlyZWN0aXZlKFwicnZUb29sdGlwXCIsIFtmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJBXCIsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoXCJmYVwiKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiZmEtcXVlc3Rpb24tY2lyY2xlXCIpO1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoXCJmYS1sZ1wiKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5nb29nbGUtZHJpdmUtcGlja2VyXCIsIFtcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIl0pXG4gICAgLmRpcmVjdGl2ZShcImdvb2dsZURyaXZlUGlja2VyXCIsIFtcIiR3aW5kb3dcIiwgXCIkZG9jdW1lbnRcIiwgXCIkbG9nXCIsIFwiJHRlbXBsYXRlQ2FjaGVcIiwgXCJhcGlBdXRoXCIsIFwiYXBpR29vZ2xlUGlja2VyXCIsXG4gICAgICBmdW5jdGlvbiAoJHdpbmRvdywgJGRvY3VtZW50LCAkbG9nLCAkdGVtcGxhdGVDYWNoZSwgYXBpQXV0aCwgYXBpR29vZ2xlUGlja2VyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgdmlld0lkOiBcIkBcIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KFwiZ29vZ2xlLWRyaXZlLXBpY2tlci10ZW1wbGF0ZS5odG1sXCIpLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsICRlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgIHZhciBkb2N1bWVudCA9ICRkb2N1bWVudFswXSxcbiAgICAgICAgICAgIHZpZXdJZCA9IGF0dHJzLnZpZXdJZCB8fCBcImRvY3NcIjtcblxuICAgICAgICAgIGZ1bmN0aW9uIG9uUGlja2VyQWN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIGFwaUdvb2dsZVBpY2tlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChnb29nbGUpIHtcbiAgICAgICAgICAgICAgaWYgKGRhdGFbZ29vZ2xlLnBpY2tlci5SZXNwb25zZS5BQ1RJT05dID09PSBnb29nbGUucGlja2VyLkFjdGlvbi5QSUNLRUQpIHtcbiAgICAgICAgICAgICAgICAkbG9nLmRlYnVnKFwiRmlsZXMgcGlja2VkXCIsIGRhdGFbZ29vZ2xlLnBpY2tlci5SZXNwb25zZS5ET0NVTUVOVFNdKTtcbiAgICAgICAgICAgICAgICBzY29wZS4kZW1pdChcInBpY2tlZFwiLCBkYXRhW2dvb2dsZS5waWNrZXIuUmVzcG9uc2UuRE9DVU1FTlRTXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVtnb29nbGUucGlja2VyLlJlc3BvbnNlLkFDVElPTl0gPT09IGdvb2dsZS5waWNrZXIuQWN0aW9uLkNBTkNFTCkge1xuICAgICAgICAgICAgICAgICRsb2cuZGVidWcoXCJGaWxlIHBpY2sgY2FuY2VsbGVkXCIpO1xuICAgICAgICAgICAgICAgIHNjb3BlLiRlbWl0KFwiY2FuY2VsXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVQaWNrZXIoZ29vZ2xlKSB7XG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIiksXG4gICAgICAgICAgICAgIG9yaWdpbixcbiAgICAgICAgICAgICAgcGlja2VyO1xuXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVmZXJyZXIpIHtcbiAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lID09PSBcImxvY2FsaG9zdFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gQ29tcG9uZW50IGlzIHdpdGhpbiBhbiBpZnJhbWUsIGJ1dCBsaWtlbHkgd2l0aGluIGEgd2lkZ2V0IHNldHRpbmdzIHRlc3RlZCBsb2NhbGx5IChsb2NhbGhvc3Q6ODAwMClcbiAgICAgICAgICAgICAgICBvcmlnaW4gPSAkd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgJHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIENvbXBvbmVudCBpcyB3aXRoaW4gYW4gaWZyYW1lXG4gICAgICAgICAgICAgICAgcGFyc2VyLmhyZWYgPSBkb2N1bWVudC5yZWZlcnJlcjtcbiAgICAgICAgICAgICAgICBvcmlnaW4gPSBwYXJzZXIucHJvdG9jb2wgKyBcIi8vXCIgKyBwYXJzZXIuaG9zdG5hbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIENvbXBvbmVudCBpcyBub3Qgd2l0aGluIGFuIGlmcmFtZSwgbGlrZWx5IHRlc3RpbmcgbG9jYWxseSBpbiB0aGlzIHJlcG8gKGxvY2FsaG9zdDo4MDk5KVxuICAgICAgICAgICAgICBvcmlnaW4gPSAkd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgJHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwaWNrZXIgPSBuZXcgZ29vZ2xlLnBpY2tlci5QaWNrZXJCdWlsZGVyKClcbiAgICAgICAgICAgICAgLnNldE9yaWdpbihvcmlnaW4pXG4gICAgICAgICAgICAgIC5hZGRWaWV3KHZpZXdJZClcbiAgICAgICAgICAgICAgLnNldE9BdXRoVG9rZW4oYXBpQXV0aC5nZXRBdXRoVG9rZW4oKSlcbiAgICAgICAgICAgICAgLnNldENhbGxiYWNrKG9uUGlja2VyQWN0aW9uKVxuICAgICAgICAgICAgICAuYnVpbGQoKTtcblxuICAgICAgICAgICAgcGlja2VyLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJGVsZW1lbnQub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoYXBpQXV0aC5nZXRBdXRoVG9rZW4oKSkge1xuICAgICAgICAgICAgICBhcGlHb29nbGVQaWNrZXIuZ2V0KCkudGhlbihjcmVhdGVQaWNrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWFwaUF1dGguZ2V0QXV0aFRva2VuKCkpIHtcbiAgICAgICAgICAgICAgLy8gQXV0aG9yaXplIHRoaXMgdGltZSB3aXRoIFVJIChpbW1lZGlhdGUgPSBmYWxzZSlcbiAgICAgICAgICAgICAgYXBpQXV0aC5hdXRob3JpemUoZmFsc2UpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGF1dGhSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChhdXRoUmVzdWx0ICYmICFhdXRoUmVzdWx0LmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwaUdvb2dsZVBpY2tlci5nZXQoKS50aGVuKGNyZWF0ZVBpY2tlcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBTaWxlbnRseSB0cnkgdG8gYXV0aG9yaXplKGltbWVkaWF0ZSA9IHRydWUpXG4gICAgICAgICAgYXBpQXV0aC5hdXRob3JpemUodHJ1ZSlcbiAgICAgICAgICAgIC50aGVuKG51bGwsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAkbG9nLndhcm4oZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xuXG59KShhbmd1bGFyKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZ29vZ2xlLWRyaXZlLXBpY2tlclwiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmdvb2dsZS1kcml2ZS1waWNrZXJcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJnb29nbGUtZHJpdmUtcGlja2VyLXRlbXBsYXRlLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcImdvb2dsZS1kcml2ZS1waWNrZXJcXFwiPlxcblwiICtcbiAgICBcIiAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiPlxcblwiICtcbiAgICBcIiAgICB7e1xcXCJnb29nbGUtZHJpdmUtcGlja2VyLnNlbGVjdFxcXCIgfCB0cmFuc2xhdGUgfX1cXG5cIiArXG4gICAgXCIgICAgPGltZyBjbGFzcz1cXFwiaWNvbi1yaWdodFxcXCIgc3JjPVxcXCIvL3MzLmFtYXpvbmF3cy5jb20vUmlzZS1JbWFnZXMvSWNvbnMvZHJpdmUuc3ZnXFxcIj5cXG5cIiArXG4gICAgXCIgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbnZhciBpc0NsaWVudEpTID0gZmFsc2U7XG5mdW5jdGlvbiBoYW5kbGVDbGllbnRKU0xvYWQoKSB7XG4gIGlzQ2xpZW50SlMgPSB0cnVlO1xuXG4gIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50c1wiKTtcbiAgZXZ0LmluaXRFdmVudChcImdhcGkubG9hZGVkXCIsIHRydWUsIHRydWUpO1xuXG4gIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2dCk7XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZ29vZ2xlLWRyaXZlLXBpY2tlclwiKVxuICAgIC5mYWN0b3J5KFwib2F1dGhBUElMb2FkZXJcIiwgW1wiJHFcIiwgXCIkbG9nXCIsIFwiZ2FwaUxvYWRlclwiLFxuICAgICAgZnVuY3Rpb24gKCRxLCAkbG9nLCBnYXBpTG9hZGVyKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIHZhciBwcm9taXNlO1xuXG4gICAgICAgIHZhciBmYWN0b3J5ID0ge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgICAgICBnYXBpTG9hZGVyLmdldCgpLnRoZW4oZnVuY3Rpb24gKGdBcGkpIHtcbiAgICAgICAgICAgICAgICBnQXBpLmxvYWQoXCJhdXRoXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICRsb2cuaW5mbyhcImF1dGggQVBJIGlzIGxvYWRlZFwiKTtcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZ0FwaSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZmFjdG9yeTtcblxuICAgICAgfV0pXG4gICAgLmZhY3RvcnkoXCJnYXBpTG9hZGVyXCIsIFtcIiRxXCIsIFwiJHdpbmRvd1wiLFxuICAgICAgZnVuY3Rpb24gKCRxLCAkd2luZG93KSB7XG5cbiAgICAgICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLFxuICAgICAgICAgICAgICBnYXBpTG9hZGVkO1xuXG4gICAgICAgICAgICBpZiAoJHdpbmRvdy5pc0NsaWVudEpTKSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nYXBpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGdhcGlMb2FkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkd2luZG93LmdhcGkpO1xuICAgICAgICAgICAgICAgICR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImdhcGkubG9hZGVkXCIsIGdhcGlMb2FkZWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgJHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZ2FwaS5sb2FkZWRcIiwgZ2FwaUxvYWRlZCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZmFjdG9yeTtcblxuICAgICAgfV0pXG4gICAgLmZhY3RvcnkoXCJwaWNrZXJMb2FkZXJcIiwgW1wiJHFcIiwgXCIkd2luZG93XCIsIFwiJGxvZ1wiLCBcImdhcGlMb2FkZXJcIixcbiAgICAgIGZ1bmN0aW9uKCRxLCAkd2luZG93LCAkbG9nLCBnYXBpTG9hZGVyKSB7XG5cbiAgICAgICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIHByb21pc2U7XG5cbiAgICAgICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICAgICAgZ2FwaUxvYWRlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChnQXBpKSB7XG4gICAgICAgICAgICAgICAgZ0FwaS5sb2FkKFwicGlja2VyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICRsb2cuaW5mbyhcInBpY2tlciBBUEkgaXMgbG9hZGVkXCIpO1xuICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShnQXBpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG5cbiAgICAgIH1dKTtcblxufSkoYW5ndWxhcik7XG5cblxuXG4oZnVuY3Rpb24oYW5ndWxhcikge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5nb29nbGUtZHJpdmUtcGlja2VyXCIpXG5cbiAgICAudmFsdWUoXCJDTElFTlRfSURcIiwgXCI2MTQ1MTM3Njg0NzQuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb21cIilcbiAgICAudmFsdWUoXCJTQ09QRVwiLCBbXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RyaXZlXCJdKVxuXG4gICAgLmZhY3RvcnkoXCJhcGlBdXRoXCIsIFtcIiRxXCIsIFwiJGh0dHBcIiwgXCIkbG9nXCIsIFwiZ2FwaUxvYWRlclwiLCBcIm9hdXRoQVBJTG9hZGVyXCIsIFwiQ0xJRU5UX0lEXCIsIFwiU0NPUEVcIixcbiAgICAgIGZ1bmN0aW9uKCRxLCAkaHR0cCwgJGxvZywgZ2FwaUxvYWRlciwgb2F1dGhBUElMb2FkZXIsIENMSUVOVF9JRCwgU0NPUEUpIHtcblxuICAgICAgICB2YXIgb2F1dGhUb2tlbiA9IG51bGwsXG4gICAgICAgICAgZmFjdG9yeSA9IHt9O1xuXG4gICAgICAgIGZhY3RvcnkuYXV0aG9yaXplID0gZnVuY3Rpb24oYXR0ZW1wdEltbWVkaWF0ZSkge1xuICAgICAgICAgIHZhciBhdXRob3JpemVEZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgIGNsaWVudF9pZDogQ0xJRU5UX0lELFxuICAgICAgICAgICAgc2NvcGU6IFNDT1BFLFxuICAgICAgICAgICAgaW1tZWRpYXRlOiBhdHRlbXB0SW1tZWRpYXRlXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIG9hdXRoQVBJTG9hZGVyLmdldCgpLnRoZW4oZnVuY3Rpb24gKGdBcGkpIHtcbiAgICAgICAgICAgIGdBcGkuYXV0aC5hdXRob3JpemUob3B0cywgZnVuY3Rpb24gKGF1dGhSZXN1bHQpIHtcblxuICAgICAgICAgICAgICBpZiAoYXV0aFJlc3VsdCAmJiAhYXV0aFJlc3VsdC5lcnJvcikge1xuICAgICAgICAgICAgICAgIG9hdXRoVG9rZW4gPSBhdXRoUmVzdWx0LmFjY2Vzc190b2tlbjtcbiAgICAgICAgICAgICAgICBhdXRob3JpemVEZWZlcnJlZC5yZXNvbHZlKGF1dGhSZXN1bHQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF1dGhvcml6ZURlZmVycmVkLnJlamVjdChcIkF1dGhlbnRpY2F0aW9uIEVycm9yOiBcIiArIGF1dGhSZXN1bHQuZXJyb3IpO1xuICAgICAgICAgICAgICAgICRsb2cuZGVidWcoXCJhdXRob3JpemUgcmVzdWx0XCIsIGF1dGhSZXN1bHQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gYXV0aG9yaXplRGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfTtcblxuICAgICAgICBmYWN0b3J5LmdldEF1dGhUb2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb2F1dGhUb2tlbjtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZmFjdG9yeTtcblxuICAgICAgfV0pO1xuXG59KShhbmd1bGFyKTtcblxuXG5cbihmdW5jdGlvbihhbmd1bGFyKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmdvb2dsZS1kcml2ZS1waWNrZXJcIilcblxuICAgIC5mYWN0b3J5KFwiYXBpR29vZ2xlUGlja2VyXCIsIFtcIiRxXCIsIFwiJHdpbmRvd1wiLCBcIiRsb2dcIiwgXCJwaWNrZXJMb2FkZXJcIixcbiAgICAgIGZ1bmN0aW9uICgkcSwgJHdpbmRvdywgJGxvZywgcGlja2VyTG9hZGVyKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIHZhciBwcm9taXNlO1xuXG4gICAgICAgIHZhciBmYWN0b3J5ID0ge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgICAgICBwaWNrZXJMb2FkZXIuZ2V0KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkd2luZG93Lmdvb2dsZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBmYWN0b3J5O1xuXG4gICAgICB9XSk7XG5cbn0pKGFuZ3VsYXIpO1xuXG5hbmd1bGFyLm1vZHVsZSgnY29sb3JwaWNrZXIubW9kdWxlJywgW10pXG4gICAgLmZhY3RvcnkoJ0hlbHBlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNsb3Nlc3RTbGlkZXI6IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgdmFyIG1hdGNoZXNTZWxlY3RvciA9IGVsZW0ubWF0Y2hlcyB8fCBlbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBlbGVtLm1vek1hdGNoZXNTZWxlY3RvciB8fCBlbGVtLm1zTWF0Y2hlc1NlbGVjdG9yO1xuICAgICAgICAgIGlmIChtYXRjaGVzU2VsZWN0b3IuYmluZChlbGVtKSgnSScpKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbS5wYXJlbnROb2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0T2Zmc2V0OiBmdW5jdGlvbiAoZWxlbSwgZml4ZWRQb3NpdGlvbikge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAgc2Nyb2xsWCA9IDAsXG4gICAgICAgICAgICBzY3JvbGxZID0gMCxcbiAgICAgICAgICAgIHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgIHdoaWxlIChlbGVtICYmICFpc05hTihlbGVtLm9mZnNldExlZnQpICYmICFpc05hTihlbGVtLm9mZnNldFRvcCkpIHtcbiAgICAgICAgICAgIGlmICghZml4ZWRQb3NpdGlvbiAmJiBlbGVtLnRhZ05hbWUgPT09ICdCT0RZJykge1xuICAgICAgICAgICAgICBzY3JvbGxYICs9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGVsZW0uc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgc2Nyb2xsWSArPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGVsZW0uc2Nyb2xsVG9wO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2Nyb2xsWCArPSBlbGVtLnNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgIHNjcm9sbFkgKz0gZWxlbS5zY3JvbGxUb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtID0gZWxlbS5vZmZzZXRQYXJlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3A6IHJlY3QudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0LFxuICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgICAgICAgICAgc2Nyb2xsWDogc2Nyb2xsWCxcbiAgICAgICAgICAgIHNjcm9sbFk6IHNjcm9sbFlcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICAvLyBhIHNldCBvZiBSRSdzIHRoYXQgY2FuIG1hdGNoIHN0cmluZ3MgYW5kIGdlbmVyYXRlIGNvbG9yIHR1cGxlcy4gaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnktY29sb3IvXG4gICAgICAgIHN0cmluZ1BhcnNlcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZTogL3JnYmE/XFwoXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyooPzosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxccyopP1xcKS8sXG4gICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24gKGV4ZWNSZXN1bHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBleGVjUmVzdWx0WzFdLFxuICAgICAgICAgICAgICAgIGV4ZWNSZXN1bHRbMl0sXG4gICAgICAgICAgICAgICAgZXhlY1Jlc3VsdFszXSxcbiAgICAgICAgICAgICAgICBleGVjUmVzdWx0WzRdXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZTogL3JnYmE/XFwoXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyooPzosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxccyopP1xcKS8sXG4gICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24gKGV4ZWNSZXN1bHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAyLjU1ICogZXhlY1Jlc3VsdFsxXSxcbiAgICAgICAgICAgICAgICAyLjU1ICogZXhlY1Jlc3VsdFsyXSxcbiAgICAgICAgICAgICAgICAyLjU1ICogZXhlY1Jlc3VsdFszXSxcbiAgICAgICAgICAgICAgICBleGVjUmVzdWx0WzRdXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZTogLyMoW2EtZkEtRjAtOV17Mn0pKFthLWZBLUYwLTldezJ9KShbYS1mQS1GMC05XXsyfSkvLFxuICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChleGVjUmVzdWx0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQoZXhlY1Jlc3VsdFsxXSwgMTYpLFxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGV4ZWNSZXN1bHRbMl0sIDE2KSxcbiAgICAgICAgICAgICAgICBwYXJzZUludChleGVjUmVzdWx0WzNdLCAxNilcbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlOiAvIyhbYS1mQS1GMC05XSkoW2EtZkEtRjAtOV0pKFthLWZBLUYwLTldKS8sXG4gICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24gKGV4ZWNSZXN1bHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBwYXJzZUludChleGVjUmVzdWx0WzFdICsgZXhlY1Jlc3VsdFsxXSwgMTYpLFxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGV4ZWNSZXN1bHRbMl0gKyBleGVjUmVzdWx0WzJdLCAxNiksXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQoZXhlY1Jlc3VsdFszXSArIGV4ZWNSZXN1bHRbM10sIDE2KVxuICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcbiAgICB9KVxuICAgIC5mYWN0b3J5KCdDb2xvcicsIFsnSGVscGVyJywgZnVuY3Rpb24gKEhlbHBlcikge1xuICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICBoOiAxLFxuICAgICAgICAgIHM6IDEsXG4gICAgICAgICAgYjogMSxcbiAgICAgICAgICBhOiAxXG4gICAgICAgIH0sXG4gICAgICAgIC8vIHRyYW5zbGF0ZSBhIGZvcm1hdCBmcm9tIENvbG9yIG9iamVjdCB0byBhIHN0cmluZ1xuICAgICAgICAncmdiJzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciByZ2IgPSB0aGlzLnRvUkdCKCk7XG4gICAgICAgICAgcmV0dXJuICdyZ2IoJyArIHJnYi5yICsgJywnICsgcmdiLmcgKyAnLCcgKyByZ2IuYiArICcpJztcbiAgICAgICAgfSxcbiAgICAgICAgJ3JnYmEnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHJnYiA9IHRoaXMudG9SR0IoKTtcbiAgICAgICAgICByZXR1cm4gJ3JnYmEoJyArIHJnYi5yICsgJywnICsgcmdiLmcgKyAnLCcgKyByZ2IuYiArICcsJyArIHJnYi5hICsgJyknO1xuICAgICAgICB9LFxuICAgICAgICAnaGV4JzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAgdGhpcy50b0hleCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIEhTQnRvUkdCIGZyb20gUmFwaGFlbEpTXG4gICAgICAgIFJHQnRvSFNCOiBmdW5jdGlvbiAociwgZywgYiwgYSkge1xuICAgICAgICAgIHIgLz0gMjU1O1xuICAgICAgICAgIGcgLz0gMjU1O1xuICAgICAgICAgIGIgLz0gMjU1O1xuXG4gICAgICAgICAgdmFyIEgsIFMsIFYsIEM7XG4gICAgICAgICAgViA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICAgICAgICAgIEMgPSBWIC0gTWF0aC5taW4ociwgZywgYik7XG4gICAgICAgICAgSCA9IChDID09PSAwID8gbnVsbCA6XG4gICAgICAgICAgICAgIFYgPT09IHIgPyAoZyAtIGIpIC8gQyA6XG4gICAgICAgICAgICAgICAgICBWID09PSBnID8gKGIgLSByKSAvIEMgKyAyIDpcbiAgICAgICAgICAgICAgICAgICAgICAociAtIGcpIC8gQyArIDRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICBIID0gKChIICsgMzYwKSAlIDYpICogNjAgLyAzNjA7XG4gICAgICAgICAgUyA9IEMgPT09IDAgPyAwIDogQyAvIFY7XG4gICAgICAgICAgcmV0dXJuIHtoOiBIIHx8IDEsIHM6IFMsIGI6IFYsIGE6IGEgfHwgMX07XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy9wYXJzZSBhIHN0cmluZyB0byBIU0JcbiAgICAgICAgc2V0Q29sb3I6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICB2YWwgPSAodmFsKSA/IHZhbC50b0xvd2VyQ2FzZSgpIDogdmFsO1xuICAgICAgICAgIGZvciAodmFyIGtleSBpbiBIZWxwZXIuc3RyaW5nUGFyc2Vycykge1xuICAgICAgICAgICAgaWYgKEhlbHBlci5zdHJpbmdQYXJzZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgdmFyIHBhcnNlciA9IEhlbHBlci5zdHJpbmdQYXJzZXJzW2tleV07XG4gICAgICAgICAgICAgIHZhciBtYXRjaCA9IHBhcnNlci5yZS5leGVjKHZhbCksXG4gICAgICAgICAgICAgICAgICB2YWx1ZXMgPSBtYXRjaCAmJiBwYXJzZXIucGFyc2UobWF0Y2gpO1xuICAgICAgICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuUkdCdG9IU0IuYXBwbHkobnVsbCwgdmFsdWVzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0SHVlOiBmdW5jdGlvbiAoaCkge1xuICAgICAgICAgIHRoaXMudmFsdWUuaCA9IDEgLSBoO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldFNhdHVyYXRpb246IGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgdGhpcy52YWx1ZS5zID0gcztcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRMaWdodG5lc3M6IGZ1bmN0aW9uIChiKSB7XG4gICAgICAgICAgdGhpcy52YWx1ZS5iID0gMSAtIGI7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0QWxwaGE6IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgdGhpcy52YWx1ZS5hID0gcGFyc2VJbnQoKDEgLSBhKSAqIDEwMCwgMTApIC8gMTAwO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIEhTQnRvUkdCIGZyb20gUmFwaGFlbEpTXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9EbWl0cnlCYXJhbm92c2tpeS9yYXBoYWVsL1xuICAgICAgICB0b1JHQjogZnVuY3Rpb24gKGgsIHMsIGIsIGEpIHtcbiAgICAgICAgICBpZiAoIWgpIHtcbiAgICAgICAgICAgIGggPSB0aGlzLnZhbHVlLmg7XG4gICAgICAgICAgICBzID0gdGhpcy52YWx1ZS5zO1xuICAgICAgICAgICAgYiA9IHRoaXMudmFsdWUuYjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaCAqPSAzNjA7XG4gICAgICAgICAgdmFyIFIsIEcsIEIsIFgsIEM7XG4gICAgICAgICAgaCA9IChoICUgMzYwKSAvIDYwO1xuICAgICAgICAgIEMgPSBiICogcztcbiAgICAgICAgICBYID0gQyAqICgxIC0gTWF0aC5hYnMoaCAlIDIgLSAxKSk7XG4gICAgICAgICAgUiA9IEcgPSBCID0gYiAtIEM7XG5cbiAgICAgICAgICBoID0gfn5oO1xuICAgICAgICAgIFIgKz0gW0MsIFgsIDAsIDAsIFgsIENdW2hdO1xuICAgICAgICAgIEcgKz0gW1gsIEMsIEMsIFgsIDAsIDBdW2hdO1xuICAgICAgICAgIEIgKz0gWzAsIDAsIFgsIEMsIEMsIFhdW2hdO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByOiBNYXRoLnJvdW5kKFIgKiAyNTUpLFxuICAgICAgICAgICAgZzogTWF0aC5yb3VuZChHICogMjU1KSxcbiAgICAgICAgICAgIGI6IE1hdGgucm91bmQoQiAqIDI1NSksXG4gICAgICAgICAgICBhOiBhIHx8IHRoaXMudmFsdWUuYVxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9IZXg6IGZ1bmN0aW9uIChoLCBzLCBiLCBhKSB7XG4gICAgICAgICAgdmFyIHJnYiA9IHRoaXMudG9SR0IoaCwgcywgYiwgYSk7XG4gICAgICAgICAgcmV0dXJuICcjJyArICgoMSA8PCAyNCkgfCAocGFyc2VJbnQocmdiLnIsIDEwKSA8PCAxNikgfCAocGFyc2VJbnQocmdiLmcsIDEwKSA8PCA4KSB8IHBhcnNlSW50KHJnYi5iLCAxMCkpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pXG4gICAgLmZhY3RvcnkoJ1NsaWRlcicsIFsnSGVscGVyJywgZnVuY3Rpb24gKEhlbHBlcikge1xuICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgdmFyXG4gICAgICAgICAgc2xpZGVyID0ge1xuICAgICAgICAgICAgbWF4TGVmdDogMCxcbiAgICAgICAgICAgIG1heFRvcDogMCxcbiAgICAgICAgICAgIGNhbGxMZWZ0OiBudWxsLFxuICAgICAgICAgICAgY2FsbFRvcDogbnVsbCxcbiAgICAgICAgICAgIGtub2I6IHtcbiAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBwb2ludGVyID0ge307XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldFNsaWRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHNsaWRlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TGVmdFBvc2l0aW9uOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbihzbGlkZXIubWF4TGVmdCwgc2xpZGVyLmxlZnQgKyAoKGV2ZW50LnBhZ2VYIHx8IHBvaW50ZXIubGVmdCkgLSBwb2ludGVyLmxlZnQpKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFRvcFBvc2l0aW9uOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbihzbGlkZXIubWF4VG9wLCBzbGlkZXIudG9wICsgKChldmVudC5wYWdlWSB8fCBwb2ludGVyLnRvcCkgLSBwb2ludGVyLnRvcCkpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0U2xpZGVyOiBmdW5jdGlvbiAoZXZlbnQsIGZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgICB2YXJcbiAgICAgICAgICAgIHRhcmdldCA9IEhlbHBlci5jbG9zZXN0U2xpZGVyKGV2ZW50LnRhcmdldCksXG4gICAgICAgICAgICB0YXJnZXRPZmZzZXQgPSBIZWxwZXIuZ2V0T2Zmc2V0KHRhcmdldCwgZml4ZWRQb3NpdGlvbiksXG4gICAgICAgICAgICByZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgb2Zmc2V0WCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQsXG4gICAgICAgICAgICBvZmZzZXRZID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xuXG4gICAgICAgICAgc2xpZGVyLmtub2IgPSB0YXJnZXQuY2hpbGRyZW5bMF0uc3R5bGU7XG4gICAgICAgICAgc2xpZGVyLmxlZnQgPSBldmVudC5wYWdlWCAtIHRhcmdldE9mZnNldC5sZWZ0IC0gd2luZG93LnBhZ2VYT2Zmc2V0ICsgdGFyZ2V0T2Zmc2V0LnNjcm9sbFg7XG4gICAgICAgICAgc2xpZGVyLnRvcCA9IGV2ZW50LnBhZ2VZIC0gdGFyZ2V0T2Zmc2V0LnRvcCAtIHdpbmRvdy5wYWdlWU9mZnNldCArIHRhcmdldE9mZnNldC5zY3JvbGxZO1xuXG4gICAgICAgICAgcG9pbnRlciA9IHtcbiAgICAgICAgICAgIGxlZnQ6IGV2ZW50LnBhZ2VYIC0gKG9mZnNldFggLSBzbGlkZXIubGVmdCksXG4gICAgICAgICAgICB0b3A6IGV2ZW50LnBhZ2VZIC0gKG9mZnNldFkgLSBzbGlkZXIudG9wKVxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHNldFNhdHVyYXRpb246IGZ1bmN0aW9uKGV2ZW50LCBmaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgICAgc2xpZGVyID0ge1xuICAgICAgICAgICAgbWF4TGVmdDogMTAwLFxuICAgICAgICAgICAgbWF4VG9wOiAxMDAsXG4gICAgICAgICAgICBjYWxsTGVmdDogJ3NldFNhdHVyYXRpb24nLFxuICAgICAgICAgICAgY2FsbFRvcDogJ3NldExpZ2h0bmVzcydcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMuc2V0U2xpZGVyKGV2ZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0SHVlOiBmdW5jdGlvbihldmVudCwgZml4ZWRQb3NpdGlvbikge1xuICAgICAgICAgIHNsaWRlciA9IHtcbiAgICAgICAgICAgIG1heExlZnQ6IDAsXG4gICAgICAgICAgICBtYXhUb3A6IDEwMCxcbiAgICAgICAgICAgIGNhbGxMZWZ0OiBmYWxzZSxcbiAgICAgICAgICAgIGNhbGxUb3A6ICdzZXRIdWUnXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLnNldFNsaWRlcihldmVudCwgZml4ZWRQb3NpdGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEFscGhhOiBmdW5jdGlvbihldmVudCwgZml4ZWRQb3NpdGlvbikge1xuICAgICAgICAgIHNsaWRlciA9IHtcbiAgICAgICAgICAgIG1heExlZnQ6IDAsXG4gICAgICAgICAgICBtYXhUb3A6IDEwMCxcbiAgICAgICAgICAgIGNhbGxMZWZ0OiBmYWxzZSxcbiAgICAgICAgICAgIGNhbGxUb3A6ICdzZXRBbHBoYSdcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMuc2V0U2xpZGVyKGV2ZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0S25vYjogZnVuY3Rpb24odG9wLCBsZWZ0KSB7XG4gICAgICAgICAgc2xpZGVyLmtub2IudG9wID0gdG9wICsgJ3B4JztcbiAgICAgICAgICBzbGlkZXIua25vYi5sZWZ0ID0gbGVmdCArICdweCc7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pXG4gICAgLmRpcmVjdGl2ZSgnY29sb3JwaWNrZXInLCBbJyRkb2N1bWVudCcsICckY29tcGlsZScsICdDb2xvcicsICdTbGlkZXInLCAnSGVscGVyJywgZnVuY3Rpb24gKCRkb2N1bWVudCwgJGNvbXBpbGUsIENvbG9yLCBTbGlkZXIsIEhlbHBlcikge1xuICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKCRzY29wZSwgZWxlbSwgYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgdGhpc0Zvcm1hdCA9IGF0dHJzLmNvbG9ycGlja2VyID8gYXR0cnMuY29sb3JwaWNrZXIgOiAnaGV4JyxcbiAgICAgICAgICAgICAgaXNCYWNrZ3JvdW5kU2V0dGluZyA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmJhY2tncm91bmRTZXR0aW5nKSA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgICAgcG9zaXRpb24gPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jb2xvcnBpY2tlclBvc2l0aW9uKSA/IGF0dHJzLmNvbG9ycGlja2VyUG9zaXRpb24gOiAnYm90dG9tJyxcbiAgICAgICAgICAgICAgaW5saW5lID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY29sb3JwaWNrZXJJbmxpbmUpID8gYXR0cnMuY29sb3JwaWNrZXJJbmxpbmUgOiBmYWxzZSxcbiAgICAgICAgICAgICAgZml4ZWRQb3NpdGlvbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmNvbG9ycGlja2VyRml4ZWRQb3NpdGlvbikgPyBhdHRycy5jb2xvcnBpY2tlckZpeGVkUG9zaXRpb24gOiBmYWxzZSxcbiAgICAgICAgICAgICAgdGFyZ2V0ID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY29sb3JwaWNrZXJQYXJlbnQpID8gZWxlbS5wYXJlbnQoKSA6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcbiAgICAgICAgICAgICAgd2l0aElucHV0ID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY29sb3JwaWNrZXJXaXRoSW5wdXQpID8gYXR0cnMuY29sb3JwaWNrZXJXaXRoSW5wdXQgOiBmYWxzZSxcbiAgICAgICAgICAgICAgaW5wdXRUZW1wbGF0ZSA9IHdpdGhJbnB1dCA/ICc8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiY29sb3JwaWNrZXItaW5wdXRcIiBzcGVsbGNoZWNrPVwiZmFsc2VcIj4nIDogJycsXG4gICAgICAgICAgICAgIGNsb3NlQnV0dG9uID0gIWlubGluZSA/ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlIGNsb3NlLWNvbG9ycGlja2VyXCI+JnRpbWVzOzwvYnV0dG9uPicgOiAnJyxcbiAgICAgICAgICAgICAgdGVtcGxhdGUgPSBpc0JhY2tncm91bmRTZXR0aW5nID9cbiAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29sb3JwaWNrZXIgZHJvcGRvd25cIj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICc8Y29sb3JwaWNrZXItc2F0dXJhdGlvbj48aT48L2k+PC9jb2xvcnBpY2tlci1zYXR1cmF0aW9uPicgK1xuICAgICAgICAgICAgICAgICAgICAnPGNvbG9ycGlja2VyLWh1ZT48aT48L2k+PC9jb2xvcnBpY2tlci1odWU+JyArXG4gICAgICAgICAgICAgICAgICAgICc8Y29sb3JwaWNrZXItYWxwaGE+PGk+PC9pPjwvY29sb3JwaWNrZXItYWxwaGE+JyArXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VGVtcGxhdGUgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nXG4gICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2xvcnBpY2tlciBkcm9wZG93blwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICc8Y29sb3JwaWNrZXItc2F0dXJhdGlvbj48aT48L2k+PC9jb2xvcnBpY2tlci1zYXR1cmF0aW9uPicgK1xuICAgICAgICAgICAgICAgICAgICAgICc8Y29sb3JwaWNrZXItaHVlPjxpPjwvaT48L2NvbG9ycGlja2VyLWh1ZT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAnPGNvbG9ycGlja2VyLWFscGhhPjxpPjwvaT48L2NvbG9ycGlja2VyLWFscGhhPicgK1xuICAgICAgICAgICAgICAgICAgICAgICc8Y29sb3JwaWNrZXItcHJldmlldz48L2NvbG9ycGlja2VyLXByZXZpZXc+JyArXG4gICAgICAgICAgICAgICAgICAgICAgaW5wdXRUZW1wbGF0ZSArXG4gICAgICAgICAgICAgICAgICAgICAgY2xvc2VCdXR0b24gK1xuICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgICAgICAgY29sb3JwaWNrZXJUZW1wbGF0ZSA9IGFuZ3VsYXIuZWxlbWVudCh0ZW1wbGF0ZSksXG4gICAgICAgICAgICAgIHBpY2tlckNvbG9yID0gQ29sb3IsXG4gICAgICAgICAgICAgIHNsaWRlckFscGhhLFxuICAgICAgICAgICAgICBzbGlkZXJIdWUgPSBjb2xvcnBpY2tlclRlbXBsYXRlLmZpbmQoJ2NvbG9ycGlja2VyLWh1ZScpLFxuICAgICAgICAgICAgICBzbGlkZXJTYXR1cmF0aW9uID0gY29sb3JwaWNrZXJUZW1wbGF0ZS5maW5kKCdjb2xvcnBpY2tlci1zYXR1cmF0aW9uJyksXG4gICAgICAgICAgICAgIGNvbG9ycGlja2VyUHJldmlldyA9IGNvbG9ycGlja2VyVGVtcGxhdGUuZmluZCgnY29sb3JwaWNrZXItcHJldmlldycpLFxuICAgICAgICAgICAgICBwaWNrZXJDb2xvclBvaW50ZXJzID0gY29sb3JwaWNrZXJUZW1wbGF0ZS5maW5kKCdpJyk7XG5cbiAgICAgICAgICAkY29tcGlsZShjb2xvcnBpY2tlclRlbXBsYXRlKSgkc2NvcGUpO1xuXG4gICAgICAgICAgaWYgKHdpdGhJbnB1dCkge1xuICAgICAgICAgICAgdmFyIHBpY2tlckNvbG9ySW5wdXQgPSBjb2xvcnBpY2tlclRlbXBsYXRlLmZpbmQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBwaWNrZXJDb2xvcklucHV0XG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdDb2xvciA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgZWxlbS52YWwobmV3Q29sb3IpO1xuICAgICAgICAgICAgICAgIGlmIChuZ01vZGVsICYmIG5nTW9kZWwuJG1vZGVsVmFsdWUgIT09IG5ld0NvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KG5nTW9kZWwuJHNldFZpZXdWYWx1ZShuZXdDb2xvcikpO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gYmluZE1vdXNlRXZlbnRzKCkge1xuICAgICAgICAgICAgJGRvY3VtZW50Lm9uKCdtb3VzZW1vdmUnLCBtb3VzZW1vdmUpO1xuICAgICAgICAgICAgJGRvY3VtZW50Lm9uKCdtb3VzZXVwJywgbW91c2V1cCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXNGb3JtYXQgPT09ICdyZ2JhJykge1xuICAgICAgICAgICAgY29sb3JwaWNrZXJUZW1wbGF0ZS5hZGRDbGFzcygnYWxwaGEnKTtcbiAgICAgICAgICAgIHNsaWRlckFscGhhID0gY29sb3JwaWNrZXJUZW1wbGF0ZS5maW5kKCdjb2xvcnBpY2tlci1hbHBoYScpO1xuICAgICAgICAgICAgc2xpZGVyQWxwaGFcbiAgICAgICAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgIFNsaWRlci5zZXRBbHBoYShldmVudCwgZml4ZWRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICBtb3VzZW1vdmUoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgU2xpZGVyLnNldEFscGhhKGV2ZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgIGJpbmRNb3VzZUV2ZW50cygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZXVwJywgZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgICAgZW1pdEV2ZW50KCdjb2xvcnBpY2tlci1zZWxlY3RlZC1hbHBoYScpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNsaWRlckh1ZVxuICAgICAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBTbGlkZXIuc2V0SHVlKGV2ZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBtb3VzZW1vdmUoZXZlbnQpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgU2xpZGVyLnNldEh1ZShldmVudCwgZml4ZWRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgYmluZE1vdXNlRXZlbnRzKCk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5vbignbW91c2V1cCcsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICBlbWl0RXZlbnQoJ2NvbG9ycGlja2VyLXNlbGVjdGVkLWh1ZScpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgIHNsaWRlclNhdHVyYXRpb25cbiAgICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgU2xpZGVyLnNldFNhdHVyYXRpb24oZXZlbnQsIGZpeGVkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIG1vdXNlbW92ZShldmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmNvbG9ycGlja2VyQ2xvc2VPblNlbGVjdCkpIHtcbiAgICAgICAgICAgICAgICAgIGhpZGVDb2xvcnBpY2tlclRlbXBsYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgU2xpZGVyLnNldFNhdHVyYXRpb24oZXZlbnQsIGZpeGVkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGJpbmRNb3VzZUV2ZW50cygpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAub24oJ21vdXNldXAnLCBmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgZW1pdEV2ZW50KCdjb2xvcnBpY2tlci1zZWxlY3RlZC1zYXR1cmF0aW9uJyk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbG9ycGlja2VyVGVtcGxhdGUuYWRkQ2xhc3MoJ2NvbG9ycGlja2VyLWZpeGVkLXBvc2l0aW9uJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29sb3JwaWNrZXJUZW1wbGF0ZS5hZGRDbGFzcygnY29sb3JwaWNrZXItcG9zaXRpb24tJyArIHBvc2l0aW9uKTtcbiAgICAgICAgICBpZiAoaW5saW5lID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIGNvbG9ycGlja2VyVGVtcGxhdGUuYWRkQ2xhc3MoJ2NvbG9ycGlja2VyLWlubGluZScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRhcmdldC5hcHBlbmQoY29sb3JwaWNrZXJUZW1wbGF0ZSk7XG5cbiAgICAgICAgICBpZiAobmdNb2RlbCkge1xuICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBlbGVtLnZhbChuZ01vZGVsLiR2aWV3VmFsdWUpO1xuXG4gICAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtLm9uKCdibHVyIGtleXVwIGNoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBlbGVtLm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29sb3JwaWNrZXJUZW1wbGF0ZS5yZW1vdmUoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGZ1bmN0aW9uIHByZXZpZXdDb2xvcigpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbG9ycGlja2VyUHJldmlldy5jc3MoJ2JhY2tncm91bmRDb2xvcicsIHBpY2tlckNvbG9yW3RoaXNGb3JtYXRdKCkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBjb2xvcnBpY2tlclByZXZpZXcuY3NzKCdiYWNrZ3JvdW5kQ29sb3InLCBwaWNrZXJDb2xvci50b0hleCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNsaWRlclNhdHVyYXRpb24uY3NzKCdiYWNrZ3JvdW5kQ29sb3InLCBwaWNrZXJDb2xvci50b0hleChwaWNrZXJDb2xvci52YWx1ZS5oLCAxLCAxLCAxKSk7XG4gICAgICAgICAgICBpZiAodGhpc0Zvcm1hdCA9PT0gJ3JnYmEnKSB7XG4gICAgICAgICAgICAgIHNsaWRlckFscGhhLmNzcy5iYWNrZ3JvdW5kQ29sb3IgPSBwaWNrZXJDb2xvci50b0hleCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIG1vdXNlbW92ZShldmVudCkge1xuICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgIGxlZnQgPSBTbGlkZXIuZ2V0TGVmdFBvc2l0aW9uKGV2ZW50KSxcbiAgICAgICAgICAgICAgICB0b3AgPSBTbGlkZXIuZ2V0VG9wUG9zaXRpb24oZXZlbnQpLFxuICAgICAgICAgICAgICAgIHNsaWRlciA9IFNsaWRlci5nZXRTbGlkZXIoKTtcblxuICAgICAgICAgICAgU2xpZGVyLnNldEtub2IodG9wLCBsZWZ0KTtcblxuICAgICAgICAgICAgaWYgKHNsaWRlci5jYWxsTGVmdCkge1xuICAgICAgICAgICAgICBwaWNrZXJDb2xvcltzbGlkZXIuY2FsbExlZnRdLmNhbGwocGlja2VyQ29sb3IsIGxlZnQgLyAxMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNsaWRlci5jYWxsVG9wKSB7XG4gICAgICAgICAgICAgIHBpY2tlckNvbG9yW3NsaWRlci5jYWxsVG9wXS5jYWxsKHBpY2tlckNvbG9yLCB0b3AgLyAxMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldmlld0NvbG9yKCk7XG4gICAgICAgICAgICB2YXIgbmV3Q29sb3IgPSBwaWNrZXJDb2xvclt0aGlzRm9ybWF0XSgpO1xuICAgICAgICAgICAgZWxlbS52YWwobmV3Q29sb3IpO1xuICAgICAgICAgICAgaWYgKG5nTW9kZWwpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseShuZ01vZGVsLiRzZXRWaWV3VmFsdWUobmV3Q29sb3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3aXRoSW5wdXQpIHtcbiAgICAgICAgICAgICAgcGlja2VyQ29sb3JJbnB1dC52YWwobmV3Q29sb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIG1vdXNldXAoKSB7XG4gICAgICAgICAgICBlbWl0RXZlbnQoJ2NvbG9ycGlja2VyLXNlbGVjdGVkJyk7XG4gICAgICAgICAgICAkZG9jdW1lbnQub2ZmKCdtb3VzZW1vdmUnLCBtb3VzZW1vdmUpO1xuICAgICAgICAgICAgJGRvY3VtZW50Lm9mZignbW91c2V1cCcsIG1vdXNldXApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZShvbWl0SW5uZXJJbnB1dCkge1xuICAgICAgICAgICAgcGlja2VyQ29sb3Iuc2V0Q29sb3IoZWxlbS52YWwoKSk7XG4gICAgICAgICAgICBpZiAod2l0aElucHV0ICYmICFvbWl0SW5uZXJJbnB1dCkge1xuICAgICAgICAgICAgICBwaWNrZXJDb2xvcklucHV0LnZhbChlbGVtLnZhbCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBpY2tlckNvbG9yUG9pbnRlcnMuZXEoMCkuY3NzKHtcbiAgICAgICAgICAgICAgbGVmdDogcGlja2VyQ29sb3IudmFsdWUucyAqIDEwMCArICdweCcsXG4gICAgICAgICAgICAgIHRvcDogMTAwIC0gcGlja2VyQ29sb3IudmFsdWUuYiAqIDEwMCArICdweCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGlja2VyQ29sb3JQb2ludGVycy5lcSgxKS5jc3MoJ3RvcCcsIDEwMCAqICgxIC0gcGlja2VyQ29sb3IudmFsdWUuaCkgKyAncHgnKTtcbiAgICAgICAgICAgIHBpY2tlckNvbG9yUG9pbnRlcnMuZXEoMikuY3NzKCd0b3AnLCAxMDAgKiAoMSAtIHBpY2tlckNvbG9yLnZhbHVlLmEpICsgJ3B4Jyk7XG4gICAgICAgICAgICBwcmV2aWV3Q29sb3IoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBnZXRDb2xvcnBpY2tlclRlbXBsYXRlUG9zaXRpb24oKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBwb3NpdGlvblZhbHVlLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uT2Zmc2V0ID0gSGVscGVyLmdldE9mZnNldChlbGVtWzBdKTtcblxuICAgICAgICAgICAgaWYoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY29sb3JwaWNrZXJQYXJlbnQpKSB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uT2Zmc2V0LmxlZnQgPSAwO1xuICAgICAgICAgICAgICBwb3NpdGlvbk9mZnNldC50b3AgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPT09ICd0b3AnKSB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uVmFsdWUgPSAge1xuICAgICAgICAgICAgICAgICd0b3AnOiBwb3NpdGlvbk9mZnNldC50b3AgLSAxNDcsXG4gICAgICAgICAgICAgICAgJ2xlZnQnOiBwb3NpdGlvbk9mZnNldC5sZWZ0XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgJ3RvcCc6IHBvc2l0aW9uT2Zmc2V0LnRvcCxcbiAgICAgICAgICAgICAgICAnbGVmdCc6IHBvc2l0aW9uT2Zmc2V0LmxlZnQgKyAxMjZcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgJ3RvcCc6IHBvc2l0aW9uT2Zmc2V0LnRvcCArIGVsZW1bMF0ub2Zmc2V0SGVpZ2h0ICsgMixcbiAgICAgICAgICAgICAgICAnbGVmdCc6IHBvc2l0aW9uT2Zmc2V0LmxlZnRcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgICBwb3NpdGlvblZhbHVlID0ge1xuICAgICAgICAgICAgICAgICd0b3AnOiBwb3NpdGlvbk9mZnNldC50b3AsXG4gICAgICAgICAgICAgICAgJ2xlZnQnOiBwb3NpdGlvbk9mZnNldC5sZWZ0IC0gMTUwXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAndG9wJzogcG9zaXRpb25WYWx1ZS50b3AgKyAncHgnLFxuICAgICAgICAgICAgICAnbGVmdCc6IHBvc2l0aW9uVmFsdWUubGVmdCArICdweCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZG9jdW1lbnRNb3VzZWRvd25IYW5kbGVyKCkge1xuICAgICAgICAgICAgaGlkZUNvbG9ycGlja2VyVGVtcGxhdGUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBzaG93Q29sb3JwaWNrZXJUZW1wbGF0ZSgpIHtcblxuICAgICAgICAgICAgaWYgKCFjb2xvcnBpY2tlclRlbXBsYXRlLmhhc0NsYXNzKCdjb2xvcnBpY2tlci12aXNpYmxlJykpIHtcbiAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgIGNvbG9ycGlja2VyVGVtcGxhdGVcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbG9ycGlja2VyLXZpc2libGUnKVxuICAgICAgICAgICAgICAgIC5jc3MoZ2V0Q29sb3JwaWNrZXJUZW1wbGF0ZVBvc2l0aW9uKCkpO1xuICAgICAgICAgICAgICBlbWl0RXZlbnQoJ2NvbG9ycGlja2VyLXNob3duJyk7XG5cbiAgICAgICAgICAgICAgaWYgKGlubGluZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAvLyByZWdpc3RlciBnbG9iYWwgbW91c2Vkb3duIGV2ZW50IHRvIGhpZGUgdGhlIGNvbG9ycGlja2VyXG4gICAgICAgICAgICAgICAgJGRvY3VtZW50Lm9uKCdtb3VzZWRvd24nLCBkb2N1bWVudE1vdXNlZG93bkhhbmRsZXIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGF0dHJzLmNvbG9ycGlja2VySXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlW2F0dHJzLmNvbG9ycGlja2VySXNPcGVuXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLiRkaWdlc3QoKTsgLy90cmlnZ2VyIHRoZSB3YXRjaGVyIHRvIGZpcmVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaW5saW5lID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZWxlbS5vbignY2xpY2snLCBzaG93Q29sb3JwaWNrZXJUZW1wbGF0ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNob3dDb2xvcnBpY2tlclRlbXBsYXRlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29sb3JwaWNrZXJUZW1wbGF0ZS5vbignbW91c2Vkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBmdW5jdGlvbiBlbWl0RXZlbnQobmFtZSkge1xuICAgICAgICAgICAgaWYgKG5nTW9kZWwpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KG5hbWUsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBhdHRycy5uZ01vZGVsLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBuZ01vZGVsLiRtb2RlbFZhbHVlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGhpZGVDb2xvcnBpY2tlclRlbXBsYXRlKCkge1xuICAgICAgICAgICAgaWYgKGNvbG9ycGlja2VyVGVtcGxhdGUuaGFzQ2xhc3MoJ2NvbG9ycGlja2VyLXZpc2libGUnKSkge1xuICAgICAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlLnJlbW92ZUNsYXNzKCdjb2xvcnBpY2tlci12aXNpYmxlJyk7XG4gICAgICAgICAgICAgIGVtaXRFdmVudCgnY29sb3JwaWNrZXItY2xvc2VkJyk7XG4gICAgICAgICAgICAgIC8vIHVucmVnaXN0ZXIgdGhlIGdsb2JhbCBtb3VzZWRvd24gZXZlbnRcbiAgICAgICAgICAgICAgJGRvY3VtZW50Lm9mZignbW91c2Vkb3duJywgZG9jdW1lbnRNb3VzZWRvd25IYW5kbGVyKTtcblxuICAgICAgICAgICAgICBpZiAoYXR0cnMuY29sb3JwaWNrZXJJc09wZW4pIHtcbiAgICAgICAgICAgICAgICAkc2NvcGVbYXR0cnMuY29sb3JwaWNrZXJJc09wZW5dID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLiRkaWdlc3QoKTsgLy90cmlnZ2VyIHRoZSB3YXRjaGVyIHRvIGZpcmVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlLmZpbmQoJ2J1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGhpZGVDb2xvcnBpY2tlclRlbXBsYXRlKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoYXR0cnMuY29sb3JwaWNrZXJJc09wZW4pIHtcbiAgICAgICAgICAgICRzY29wZS4kd2F0Y2goYXR0cnMuY29sb3JwaWNrZXJJc09wZW4sIGZ1bmN0aW9uKHNob3VsZEJlT3Blbikge1xuXG4gICAgICAgICAgICAgIGlmIChzaG91bGRCZU9wZW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzaG93Q29sb3JwaWNrZXJUZW1wbGF0ZSgpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNob3VsZEJlT3BlbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBoaWRlQ29sb3JwaWNrZXJUZW1wbGF0ZSgpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSk7XG5cbmlmKHR5cGVvZiBURU1QTEFURVMgPT09ICd1bmRlZmluZWQnKSB7dmFyIFRFTVBMQVRFUyA9IHt9O31cblRFTVBMQVRFU1snYWxpZ25tZW50Lmh0bWwnXSA9IFwiPGRpdiBjbGFzcz1cXFwiYnRuLWdyb3VwIGFsaWdubWVudFxcXCI+XFxuXCIgK1xuICAgIFwiICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLWFsaWdubWVudCBkcm9wZG93bi10b2dnbGVcXFwiXFxuXCIgK1xuICAgIFwiICAgIGRhdGEtdG9nZ2xlPVxcXCJkcm9wZG93blxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwibGVmdFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1sZWZ0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuIGNsYXNzPVxcXCJjYXJldFxcXCI+PC9zcGFuPlxcblwiICtcbiAgICBcIiAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIiByb2xlPVxcXCJtZW51XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiYnRuLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQ9XFxcImFsaWdubWVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcImxlZnRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tbGVmdFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwiY2VudGVyXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWFsaWduLWNlbnRlclxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwicmlnaHRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQ9XFxcImFsaWdubWVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcImp1c3RpZnlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tanVzdGlmeVxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiOyBcbi8qICBDb3B5cmlnaHQgwqkgMjAxNCBSaXNlIFZpc2lvbiBJbmNvcnBvcmF0ZWQuXG4gKiAgVXNlIG9mIHRoaXMgc29mdHdhcmUgaXMgZ292ZXJuZWQgYnkgdGhlIEdQTHYzIGxpY2Vuc2VcbiAqICAocmVwcm9kdWNlZCBpbiB0aGUgTElDRU5TRSBmaWxlKS5cbiAqL1xuXG4vKiBnbG9iYWwgVEVNUExBVEVTICovXG47KGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCBURU1QTEFURVMsIHVuZGVmaW5lZCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX3BsdWdpbk5hbWUgPSBcImFsaWdubWVudFwiO1xuXG4gIGZ1bmN0aW9uIFBsdWdpbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KTtcbiAgICB2YXIgJGJ0bkFsaWdubWVudCA9IG51bGw7XG4gICAgdmFyIGRlZmF1bHRBbGlnbm1lbnQgPSBcImxlZnRcIjtcblxuICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgeyBcImFsaWduXCI6IGRlZmF1bHRBbGlnbm1lbnQgfSwgb3B0aW9ucyk7XG5cbiAgICAvKlxuICAgICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICAgIC8vIEdldCB0aGUgSFRNTCBtYXJrdXAgZnJvbSB0aGUgdGVtcGxhdGUuXG4gICAgICAkZWxlbWVudC5hcHBlbmQoVEVNUExBVEVTW1wiYWxpZ25tZW50Lmh0bWxcIl0pO1xuICAgICAgJGJ0bkFsaWdubWVudCA9ICRlbGVtZW50LmZpbmQoXCIuYnRuLWFsaWdubWVudFwiKTtcblxuICAgICAgc2V0QWxpZ25tZW50KG9wdGlvbnMuYWxpZ24pO1xuXG4gICAgICAkZWxlbWVudC5maW5kKFwiLmRyb3Bkb3duLW1lbnUgYnV0dG9uXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhbGlnbm1lbnQgPSAkKHRoaXMpLmRhdGEoXCJ3eXNpaHRtbDUtY29tbWFuZC12YWx1ZVwiKTtcblxuICAgICAgICBzZXRBbGlnbm1lbnQoYWxpZ25tZW50KTtcbiAgICAgICAgJGVsZW1lbnQudHJpZ2dlcihcImFsaWdubWVudENoYW5nZWRcIiwgYWxpZ25tZW50KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogIFB1YmxpYyBNZXRob2RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxpZ25tZW50KCkge1xuICAgICByZXR1cm4gJGJ0bkFsaWdubWVudC5kYXRhKFwid3lzaWh0bWw1LWNvbW1hbmQtdmFsdWVcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0QWxpZ25tZW50KGFsaWdubWVudCkge1xuICAgICAgdmFyICRwcmltYXJ5SWNvbiA9ICRlbGVtZW50LmZpbmQoXCIuYnRuLWFsaWdubWVudCAuZmFcIik7XG4gICAgICB2YXIgY3VycmVudENsYXNzID0gJHByaW1hcnlJY29uLmF0dHIoXCJjbGFzc1wiKS5tYXRjaCgvZmEtYWxpZ24tW2Etel0rL2cpO1xuICAgICAgdmFyIG5ld0NsYXNzID0gXCJmYS1hbGlnbi1cIiArIGFsaWdubWVudDtcblxuICAgICAgLy8gUmVtb3ZlIGN1cnJlbnQgYWxpZ25tZW50IGljb24uXG4gICAgICBpZiAoY3VycmVudENsYXNzICYmIGN1cnJlbnRDbGFzcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICRwcmltYXJ5SWNvbi5yZW1vdmVDbGFzcyhjdXJyZW50Q2xhc3NbMF0pO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGQgbmV3IGFsaWdubWVudCBpY29uLlxuICAgICAgJHByaW1hcnlJY29uLmFkZENsYXNzKG5ld0NsYXNzKTtcbiAgICAgICRidG5BbGlnbm1lbnQuZGF0YShcInd5c2lodG1sNS1jb21tYW5kLXZhbHVlXCIsIGFsaWdubWVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICBzZXRBbGlnbm1lbnQoZGVmYXVsdEFsaWdubWVudCk7XG4gICAgfVxuXG4gICAgX2luaXQoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBnZXRBbGlnbm1lbnQ6IGdldEFsaWdubWVudCxcbiAgICAgIHNldEFsaWdubWVudDogc2V0QWxpZ25tZW50LFxuICAgICAgcmVzZXQ6ICAgICAgICByZXNldFxuICAgIH07XG4gIH1cblxuICAvKlxuICAgKiAgQSBsaWdodHdlaWdodCBwbHVnaW4gd3JhcHBlciBhcm91bmQgdGhlIGNvbnN0cnVjdG9yIHRoYXQgcHJldmVudHNcbiAgICogIG11bHRpcGxlIGluc3RhbnRpYXRpb25zLlxuICAgKi9cbiAgJC5mbi5hbGlnbm1lbnQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGlmICghJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgX3BsdWdpbk5hbWUpKSB7XG4gICAgICAgICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIF9wbHVnaW5OYW1lLCBuZXcgUGx1Z2luKHRoaXMsIG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCwgVEVNUExBVEVTKTtcblxuLyogZXhwb3J0ZWQgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRyAqL1xudmFyIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcgPSB7XG4gIFwiZmFtaWxpZXNcIjogXCJBbmRhbGUgTW9ubz1hbmRhbGUgbW9ubyxtb25vc3BhY2U7XCIgK1xuICAgICAgXCJBcmlhbD1hcmlhbCxoZWx2ZXRpY2Esc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkFyaWFsIEJsYWNrPWFyaWFsIGJsYWNrLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJCb29rIEFudGlxdWE9Ym9vayBhbnRpcXVhLHBhbGF0aW5vLHNlcmlmO1wiICtcbiAgICAgIFwiQ29taWMgU2FucyBNUz1jb21pYyBzYW5zIG1zLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJDb3VyaWVyIE5ldz1jb3VyaWVyIG5ldyxjb3VyaWVyLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIkdlb3JnaWE9Z2VvcmdpYSxwYWxhdGlubyxzZXJpZjtcIiArXG4gICAgICBcIkhlbHZldGljYT1oZWx2ZXRpY2EsYXJpYWwsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkltcGFjdD1pbXBhY3Qsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIlN5bWJvbD1zeW1ib2w7XCIgK1xuICAgICAgXCJUYWhvbWE9dGFob21hLGFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiVGVybWluYWw9dGVybWluYWwsbW9uYWNvLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIlRpbWVzIE5ldyBSb21hbj10aW1lcyBuZXcgcm9tYW4sdGltZXMsc2VyaWY7XCIgK1xuICAgICAgXCJUcmVidWNoZXQgTVM9dHJlYnVjaGV0IG1zLGdlbmV2YSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiVmVyZGFuYT12ZXJkYW5hLGdlbmV2YSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiV2ViZGluZ3M9d2ViZGluZ3M7XCIgK1xuICAgICAgXCJXaW5nZGluZ3M9d2luZ2RpbmdzLHphcGYgZGluZ2JhdHM7XCIsXG4gIFwic2l6ZXNcIjogXCI4cHggOXB4IDEwcHggMTFweCAxMnB4IDE0cHggMThweCAyNHB4IDMwcHggMzZweCA0OHB4IDYwcHggNzJweCA5NnB4XCJcbn07XG5cbihmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnVybC1maWVsZFwiLCBbXG4gICAgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsXG4gICAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udG9vbHRpcFwiXG4gIF0pXG4gICAgLmRpcmVjdGl2ZShcInVybEZpZWxkXCIsIFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIFwiJGxvZ1wiLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUsICRsb2cpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgICAgcmVxdWlyZTogXCI/bmdNb2RlbFwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIHVybDogXCI9XCIsXG4gICAgICAgICAgaGlkZUxhYmVsOiBcIkBcIixcbiAgICAgICAgICBmaWxlVHlwZTogXCJAXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL3VybC1maWVsZC91cmwtZmllbGQuaHRtbFwiKSxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuXG4gICAgICAgICAgZnVuY3Rpb24gaGFzVmFsaWRFeHRlbnNpb24odXJsLCBmaWxlVHlwZSkge1xuICAgICAgICAgICAgdmFyIHRlc3RVcmwgPSB1cmwudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgZXh0ZW5zaW9ucztcblxuICAgICAgICAgICAgc3dpdGNoKGZpbGVUeXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJpbWFnZVwiOlxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMgPSBbXCIuanBnXCIsIFwiLmpwZWdcIiwgXCIucG5nXCIsIFwiLmJtcFwiLCBcIi5zdmdcIiwgXCIuZ2lmXCJdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwidmlkZW9cIjpcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zID0gW1wiLndlYm1cIiwgXCIubXA0XCIsIFwiLm9ndlwiLCBcIi5vZ2dcIl07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZXh0ZW5zaW9ucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICBpZiAodGVzdFVybC5pbmRleE9mKGV4dGVuc2lvbnNbaV0pICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSBVUkwgcG9pbnRzIHRvIGEgdmFsaWQgaW1hZ2UgZmlsZS5cbiAgICAgICAgICBmdW5jdGlvbiB0ZXN0SW1hZ2UoKSB7XG4gICAgICAgICAgICBpZiAoKHNjb3BlLmZpbGVUeXBlICE9PSBcInVuZGVmaW5lZFwiKSAmJiAoc2NvcGUudXJsICE9PSBcInVuZGVmaW5lZFwiKSkge1xuICAgICAgICAgICAgICBpZiAoc2NvcGUuZmlsZVR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgICAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLmludmFsaWRUeXBlID0gc2NvcGUuZmlsZVR5cGU7XG4gICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gc2NvcGUudXJsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gdGVzdFVybCh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHVybFJlZ0V4cCxcbiAgICAgICAgICAgICAgaXNWYWxpZDtcblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICBEaXNjdXNzaW9uXG4gICAgICAgICAgICAgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNzY4NC9ob3ctdG8tcmVwbGFjZS1wbGFpbi11cmxzLXdpdGgtbGlua3MjMjE5MjU0OTFcblxuICAgICAgICAgICAgIFVzaW5nXG4gICAgICAgICAgICAgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vZHBlcmluaS83MjkyOTRcbiAgICAgICAgICAgICBSZWFzb25pbmdcbiAgICAgICAgICAgICBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleCAqL1xuXG4gICAgICAgICAgICB1cmxSZWdFeHAgPSAvXig/Oig/Omh0dHBzP3xmdHApOlxcL1xcLykoPzpcXFMrKD86OlxcUyopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcXC5cXGR7MSwzfSl7M30pKD8hKD86MTY5XFwuMjU0fDE5MlxcLjE2OCkoPzpcXC5cXGR7MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJcXGR8M1swLTFdKSg/OlxcLlxcZHsxLDN9KXsyfSkoPzpbMS05XVxcZD98MVxcZFxcZHwyWzAxXVxcZHwyMlswLTNdKSg/OlxcLig/OjE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pKXsyfSg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rLT8pKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykoPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSstPykqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKSkoPzo6XFxkezIsNX0pPyg/OlxcL1teXFxzXSopPyQvaTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAgICAgICAgIC8vIEFkZCBodHRwOi8vIGlmIG5vIHByb3RvY29sIHBhcmFtZXRlciBleGlzdHNcbiAgICAgICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKFwiOi8vXCIpID09PSAtMSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IFwiaHR0cDovL1wiICsgdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlzVmFsaWQgPSB1cmxSZWdFeHAudGVzdCh2YWx1ZSk7XG5cbiAgICAgICAgICAgIGlmIChpc1ZhbGlkICYmIHR5cGVvZiBzY29wZS5maWxlVHlwZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICBpc1ZhbGlkID0gaGFzVmFsaWRFeHRlbnNpb24odmFsdWUsIHNjb3BlLmZpbGVUeXBlKTtcbiAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBzY29wZS5maWxlVHlwZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBcInVybFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgICAgICB0ZXN0SW1hZ2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQnkgZGVmYXVsdCBlbmZvcmNlIHZhbGlkYXRpb25cbiAgICAgICAgICBzY29wZS5kb1ZhbGlkYXRpb24gPSB0cnVlO1xuICAgICAgICAgIC8vIEEgZmxhZyB0byBzZXQgaWYgdGhlIHVzZXIgdHVybmVkIG9mZiB2YWxpZGF0aW9uXG4gICAgICAgICAgc2NvcGUuZm9yY2VkVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAvLyBWYWxpZGF0aW9uIHN0YXRlXG4gICAgICAgICAgc2NvcGUudmFsaWQgPSB0cnVlO1xuXG4gICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBcInVybFwiO1xuXG4gICAgICAgICAgc2NvcGUuYWxsb3dJbml0RW1wdHkgPSAodHlwZW9mIGF0dHJzLmluaXRFbXB0eSAhPT0gXCJ1bmRlZmluZWRcIik7XG5cbiAgICAgICAgICBzY29wZS5ibHVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS4kZW1pdChcInVybEZpZWxkQmx1clwiKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwidXJsXCIsIGZ1bmN0aW9uICh1cmwpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09IFwidW5kZWZpbmVkXCIgJiYgdXJsICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgaWYgKHVybCAhPT0gXCJcIiAmJiBzY29wZS5hbGxvd0luaXRFbXB0eSkge1xuICAgICAgICAgICAgICAgIC8vIGVuc3VyZSBhbiBlbXB0eSBcIlwiIHZhbHVlIG5vdyBnZXRzIHZhbGlkYXRlZFxuICAgICAgICAgICAgICAgIHNjb3BlLmFsbG93SW5pdEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoc2NvcGUuZG9WYWxpZGF0aW9uICYmICFzY29wZS5hbGxvd0luaXRFbXB0eSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdGVzdFVybChzY29wZS51cmwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzY29wZS4kd2F0Y2goXCJ2YWxpZFwiLCBmdW5jdGlvbiAodmFsaWQpIHtcbiAgICAgICAgICAgIGlmIChjdHJsKSB7XG4gICAgICAgICAgICAgICRsb2cuaW5mbyhcIkNhbGxpbmcgJHNldFZhbGlkaXR5KCkgb24gcGFyZW50IGNvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KFwidmFsaWRcIiwgdmFsaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwiZG9WYWxpZGF0aW9uXCIsIGZ1bmN0aW9uIChkb1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBzY29wZS51cmwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgaWYgKGRvVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcmNlZFZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlLmFsbG93SW5pdEVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IHRlc3RVcmwoc2NvcGUudXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9yY2VkVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiX2FuZ3VsYXIvdXJsLWZpZWxkL3VybC1maWVsZC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiA+XFxuXCIgK1xuICAgIFwiICA8bGFiZWwgbmctaWY9XFxcIiFoaWRlTGFiZWxcXFwiPnt7IFxcXCJ1cmwubGFiZWxcXFwiIHwgdHJhbnNsYXRlIH19PC9sYWJlbD5cXG5cIiArXG4gICAgXCIgIDxkaXY+XFxuXCIgK1xuICAgIFwiICAgIDxpbnB1dCBuYW1lPVxcXCJ1cmxcXFwiIHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJ1cmxcXFwiIG5nLWJsdXI9XFxcImJsdXIoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgcGxhY2Vob2xkZXI9XFxcImh0dHA6Ly9cXFwiPlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8cCBuZy1pZj1cXFwiIXZhbGlkICYmIGludmFsaWRUeXBlID09PSAndXJsJ1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57eyBcXFwidXJsLmVycm9ycy51cmxcXFwiIHwgdHJhbnNsYXRlIH19PC9wPlxcblwiICtcbiAgICBcIiAgPHAgbmctaWY9XFxcIiF2YWxpZCAmJiBpbnZhbGlkVHlwZSA9PT0gJ2ltYWdlJ1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57eyBcXFwidXJsLmVycm9ycy5pbWFnZVxcXCIgfCB0cmFuc2xhdGUgfX08L3A+XFxuXCIgK1xuICAgIFwiICA8cCBuZy1pZj1cXFwiIXZhbGlkICYmIGludmFsaWRUeXBlID09PSAndmlkZW8nXFxcIiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPnt7IFxcXCJ1cmwuZXJyb3JzLnZpZGVvXFxcIiB8IHRyYW5zbGF0ZSB9fTwvcD5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNoZWNrYm94XFxcIiBuZy1zaG93PVxcXCJmb3JjZWRWYWxpZCB8fCAhdmFsaWRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8bGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPGlucHV0IG5hbWU9XFxcInZhbGlkYXRlLXVybFxcXCIgbmctY2xpY2s9XFxcImRvVmFsaWRhdGlvbiA9ICFkb1ZhbGlkYXRpb25cXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICB2YWx1ZT1cXFwidmFsaWRhdGUtdXJsXFxcIj4ge3tcXFwidXJsLnZhbGlkYXRlLmxhYmVsXFxcIiB8IHRyYW5zbGF0ZX19XFxuXCIgK1xuICAgIFwiICAgIDwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4vKiBnbG9iYWwgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRyAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCIsIFtcbiAgICAgIFwiYW5ndWxhckxvYWRcIixcbiAgICAgIFwidWkudGlueW1jZVwiLFxuICAgICAgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsXG4gICAgICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi51cmwtZmllbGRcIlxuICAgIF0pXG4gICAgLmRpcmVjdGl2ZShcImZvbnRTZXR0aW5nXCIsIFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIFwiJGxvZ1wiLCBcIiR3aW5kb3dcIiwgXCJnb29nbGVGb250TG9hZGVyXCIsXG4gICAgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLCAkbG9nLCAkd2luZG93LCBnb29nbGVGb250TG9hZGVyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJBRVwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIGZvbnREYXRhOiBcIj1cIixcbiAgICAgICAgICBwcmV2aWV3VGV4dDogXCJAXCIsXG4gICAgICAgICAgdmVydGljYWxBbGlnbjogXCJAXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL2ZvbnQtc2V0dGluZy9mb250LXNldHRpbmcuaHRtbFwiKSxcbiAgICAgICAgdHJhbnNjbHVkZTogZmFsc2UsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpLFxuICAgICAgICAgICAgJGN1c3RvbUZvbnQgPSAkZWxlbWVudC5maW5kKFwiLmN1c3RvbS1mb250XCIpLFxuICAgICAgICAgICAgJGN1c3RvbUZvbnRTaXplID0gJGVsZW1lbnQuZmluZChcIi5jdXN0b20tZm9udC1zaXplXCIpLFxuICAgICAgICAgICAgX2lzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAkc2NvcGUuZ29vZ2xlRm9udExpc3QgPSBcIlwiO1xuXG4gICAgICAgICAgJHNjb3BlLmRlZmF1bHRGb250ID0ge1xuICAgICAgICAgICAgZm9udDoge1xuICAgICAgICAgICAgICBmYW1pbHk6IFwidmVyZGFuYSxnZW5ldmEsc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgICB0eXBlOiBcInN0YW5kYXJkXCIsXG4gICAgICAgICAgICAgIHVybDogXCJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpemU6IFwiMjRweFwiLFxuICAgICAgICAgICAgY3VzdG9tU2l6ZTogXCJcIixcbiAgICAgICAgICAgIGFsaWduOiBcImxlZnRcIixcbiAgICAgICAgICAgIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXG4gICAgICAgICAgICBib2xkOiBmYWxzZSxcbiAgICAgICAgICAgIGl0YWxpYzogZmFsc2UsXG4gICAgICAgICAgICB1bmRlcmxpbmU6IGZhbHNlLFxuICAgICAgICAgICAgZm9yZWNvbG9yOiBcImJsYWNrXCIsXG4gICAgICAgICAgICBiYWNrY29sb3I6IFwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBMb2FkIEdvb2dsZSBmb250cy5cbiAgICAgICAgICBnb29nbGVGb250TG9hZGVyLmdldEZvbnRzKCkudGhlbihmdW5jdGlvbihmb250cykge1xuICAgICAgICAgICAgJHNjb3BlLmdvb2dsZUZvbnRMaXN0ID0gZm9udHM7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAkc2NvcGUuY3VzdG9tRm9udFNpemUgPSBudWxsO1xuXG4gICAgICAgICAgLy8gQXBwbHkgY3VzdG9tIGZvbnQgdG8gcHJldmlldyB0ZXh0LlxuICAgICAgICAgICRzY29wZS5hcHBseUN1c3RvbUZvbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBmYW1pbHkgPSBnZXRDdXN0b21Gb250RmFtaWx5KCk7XG5cbiAgICAgICAgICAgIGlmIChmYW1pbHkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgbG9hZEN1c3RvbUZvbnQoZmFtaWx5KTtcblxuICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuZm9udC5mYW1pbHkgPSBmYW1pbHk7XG4gICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5mb250LnR5cGUgPSBcImN1c3RvbVwiO1xuXG4gICAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoJHNjb3BlLmZvbnREYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJGN1c3RvbUZvbnQubW9kYWwoXCJoaWRlXCIpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuYXBwbHlDdXN0b21Gb250U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJGN1c3RvbUZvbnRTaXplLm1vZGFsKFwiaGlkZVwiKTtcblxuICAgICAgICAgICAgaWYgKCRzY29wZS5jdXN0b21Gb250U2l6ZSAhPT0gbnVsbCAmJiAkc2NvcGUuY3VzdG9tRm9udFNpemUgPj0gOCkge1xuXG4gICAgICAgICAgICAgIGlmICgoJHNjb3BlLmN1c3RvbUZvbnRTaXplICsgXCJweFwiKSAhPT0gJHNjb3BlLmZvbnREYXRhLnNpemUpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuc2l6ZSA9ICRzY29wZS5jdXN0b21Gb250U2l6ZSArIFwicHhcIjtcblxuICAgICAgICAgICAgICAgIGlmIChXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHLnNpemVzLmluZGV4T2YoJHNjb3BlLmZvbnREYXRhLnNpemUpICE9PSAtMSB8fFxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmN1c3RvbVNpemUgPT09ICRzY29wZS5mb250RGF0YS5zaXplKSB7XG4gICAgICAgICAgICAgICAgICAvLyB0ZWxsIGVkaXRvciB0byBzZWxlY3QgdGhpcyBzaXplXG4gICAgICAgICAgICAgICAgICAkd2luZG93LnRpbnltY2UuYWN0aXZlRWRpdG9yLmV4ZWNDb21tYW5kKFwiRm9udFNpemVcIiwgZmFsc2UsICRzY29wZS5mb250RGF0YS5zaXplKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBuZXcgY3VzdG9tIGZvbnQgc2l6ZSB0byBhZGRcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5jdXN0b21TaXplID0gJHNjb3BlLmN1c3RvbUZvbnRTaXplICsgXCJweFwiO1xuXG4gICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdmFsdWUgb2YgZm9udF9mb3JtYXRzXG4gICAgICAgICAgICAgICAgICAkc2NvcGUudGlueW1jZU9wdGlvbnMuZm9udHNpemVfZm9ybWF0cyA9IFwiQ3VzdG9tIFwiICtcbiAgICAgICAgICAgICAgICAgICAgKCgkc2NvcGUuZm9udERhdGEuY3VzdG9tU2l6ZSAhPT0gXCJcIikgPyAkc2NvcGUuZm9udERhdGEuY3VzdG9tU2l6ZSArIFwiIFwiIDogXCJcIikgICtcbiAgICAgICAgICAgICAgICAgICAgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRy5zaXplcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZXNldCBtb2RhbCBpbnB1dCBzaXplIHZhbHVlXG4gICAgICAgICAgICAkc2NvcGUuY3VzdG9tRm9udFNpemUgPSBudWxsO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuZGVmYXVsdHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKG9ialtwcm9wXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciB3YXRjaCA9ICRzY29wZS4kd2F0Y2hHcm91cChbXCJmb250RGF0YVwiLFwiZ29vZ2xlRm9udExpc3RcIl0sIGZ1bmN0aW9uKG5ld1ZhbHVlcykge1xuICAgICAgICAgICAgdmFyIGZhbWlseSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgZm9udERhdGEgPSBuZXdWYWx1ZXNbMF07XG4gICAgICAgICAgICB2YXIgZ29vZ2xlRm9udExpc3QgPSBuZXdWYWx1ZXNbMV07XG4gICAgICAgICAgICBpZiAoZm9udERhdGEgJiYgZ29vZ2xlRm9udExpc3QpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRlZmF1bHRzKGZvbnREYXRhLCAkc2NvcGUuZGVmYXVsdEZvbnQpO1xuXG4gICAgICAgICAgICAgIC8vIExvYWQgY3VzdG9tIGZvbnQuXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEuZm9udC51cmwpIHtcbiAgICAgICAgICAgICAgICBmYW1pbHkgPSBnZXRDdXN0b21Gb250RmFtaWx5KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZmFtaWx5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBsb2FkQ3VzdG9tRm9udChmYW1pbHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoZm9udERhdGEpO1xuICAgICAgICAgICAgICBpbml0VGlueU1DRSgpO1xuICAgICAgICAgICAgICB3YXRjaCgpO1xuXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUucHJldmlld1RleHQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKFwiZm9udERhdGFcIiwgdXBkYXRlUHJldmlldywgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgICRzY29wZS4kd2F0Y2goXCJ0aW55bWNlT3B0aW9ucy5mb250c2l6ZV9mb3JtYXRzXCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhX2lzTG9hZGluZykge1xuICAgICAgICAgICAgICAvLyBsZXZlcmFnZSB1aS10aW55bWNlIHdvcmthcm91bmQgb2YgcmVmcmVzaGluZyBlZGl0b3JcbiAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoXCIkdGlueW1jZTpyZWZyZXNoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gSW5pdGlhbGl6ZSBUaW55TUNFLlxuICAgICAgICAgIGZ1bmN0aW9uIGluaXRUaW55TUNFKCkge1xuICAgICAgICAgICAgJHNjb3BlLnRpbnltY2VPcHRpb25zID0ge1xuICAgICAgICAgICAgICBmb250X2Zvcm1hdHM6IFwiVXNlIEN1c3RvbSBGb250PWN1c3RvbTtcIiArIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcuZmFtaWxpZXMgKyAkc2NvcGUuZ29vZ2xlRm9udExpc3QsXG4gICAgICAgICAgICAgIGZvbnRzaXplX2Zvcm1hdHM6IFwiQ3VzdG9tIFwiICtcbiAgICAgICAgICAgICAgICAoKCRzY29wZS5mb250RGF0YS5jdXN0b21TaXplICE9PSBcIlwiKSA/ICRzY29wZS5mb250RGF0YS5jdXN0b21TaXplICsgXCIgXCIgOiBcIlwiKSAgK1xuICAgICAgICAgICAgICAgIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcuc2l6ZXMsXG4gICAgICAgICAgICAgIG1lbnViYXI6IGZhbHNlLFxuICAgICAgICAgICAgICBwbHVnaW5zOiBcInRleHRjb2xvciBjb2xvcnBpY2tlclwiLFxuICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgV2hlbiB0ZXN0aW5nIHRoaXMgdmlhIGxvY2FsIHNlcnZlciwgQ09SUyB3aWxsIGJlIHJlcXVpcmVkLiBIYW5keSBDT1JTIENocm9tZSBleHRlbnNpb24gY2FuIGJlIGZvdW5kIGhlcmVcbiAgICAgICAgICAgICAgIGh0dHBzOi8vY2hyb21lLmdvb2dsZS5jb20vd2Vic3RvcmUvZGV0YWlsL2FsbG93LWNvbnRyb2wtYWxsb3ctb3JpZ2kvbmxmYm1ib2pwZWFjZmdoa3BiamhkZGlobGtraWxqYmk/aGw9ZW5cbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIHNraW5fdXJsOiBcIi8vczMuYW1hem9uYXdzLmNvbS9yaXNlLWNvbW1vbi9zdHlsZXMvdGlueW1jZS9yaXNlXCIsXG4gICAgICAgICAgICAgIHN0YXR1c2JhcjogZmFsc2UsXG4gICAgICAgICAgICAgIHRvb2xiYXI6IFwiZm9udHNlbGVjdCBmb250c2l6ZXNlbGVjdCB8IGFsaWdubGVmdCBhbGlnbmNlbnRlciBhbGlnbnJpZ2h0IGFsaWduanVzdGlmeVwiICtcbiAgICAgICAgICAgICAgKCRzY29wZS52ZXJ0aWNhbEFsaWduID8gXCIgYWxpZ250b3AgYWxpZ25taWRkbGUgYWxpZ25ib3R0b21cIiA6IFwiXCIpICtcbiAgICAgICAgICAgICAgXCIgfCBmb3JlY29sb3IgYmFja2NvbG9yIHwgYm9sZCBpdGFsaWMgdW5kZXJsaW5lXCIsXG4gICAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnZlcnRpY2FsQWxpZ24pIHtcbiAgICAgICAgICAgICAgICAgIGFkZFZlcnRpY2FsQWxpZ25CdXR0b25zKGVkaXRvcik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uKFwiaW5pdFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGluaXRUb29sYmFyKGVkaXRvcik7XG4gICAgICAgICAgICAgICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBlZGl0b3Iub24oXCJFeGVjQ29tbWFuZFwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICAgICAgICBpbml0Q29tbWFuZHMoZWRpdG9yLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgaW5pdF9pbnN0YW5jZV9jYWxsYmFjazogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9sZEFwcGx5ID0gZWRpdG9yLmZvcm1hdHRlci5hcHBseSxcbiAgICAgICAgICAgICAgICAgIG9sZFJlbW92ZSA9IGVkaXRvci5mb3JtYXR0ZXIucmVtb3ZlO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVmZXJlbmNlIC0gaHR0cDovL2dvby5nbC81NUloV0lcbiAgICAgICAgICAgICAgICBlZGl0b3IuZm9ybWF0dGVyLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkobmFtZSwgdmFycywgbm9kZSkge1xuICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YXJzLnZhbHVlXG4gICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICBvbGRBcHBseShuYW1lLCB2YXJzLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKFwiRXhlY0NvbW1hbmRcIiwgYXJncyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGVkaXRvci5mb3JtYXR0ZXIucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKG5hbWUsIHZhcnMsIG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0ge1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKHZhcnMgJiYgdmFycy52YWx1ZSkgPyB2YXJzLnZhbHVlIDogbnVsbFxuICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgb2xkUmVtb3ZlKG5hbWUsIHZhcnMsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgZWRpdG9yLmZpcmUoXCJFeGVjQ29tbWFuZFwiLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEluaXRpYWxpemUgVGlueU1DRSB0b29sYmFyLlxuICAgICAgICAgIGZ1bmN0aW9uIGluaXRUb29sYmFyKGVkaXRvcikge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5mb250RGF0YSkge1xuICAgICAgICAgICAgICAvLyBGb250IEZhbWlseVxuICAgICAgICAgICAgICBpZiAoKCRzY29wZS5mb250RGF0YS5mb250LnR5cGUgPT09IFwiY3VzdG9tXCIpICYmICRzY29wZS5mb250RGF0YS5mb250LnVybCkge1xuICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChcIkZvbnROYW1lXCIsIGZhbHNlLCBcImN1c3RvbVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJGb250TmFtZVwiLCBmYWxzZSwgJHNjb3BlLmZvbnREYXRhLmZvbnQuZmFtaWx5KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEZvbnQgU2l6ZXNcbiAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwiRm9udFNpemVcIiwgZmFsc2UsICRzY29wZS5mb250RGF0YS5zaXplKTtcblxuICAgICAgICAgICAgICAvLyBBbGlnbm1lbnRcbiAgICAgICAgICAgICAgc3dpdGNoKCRzY29wZS5mb250RGF0YS5hbGlnbikge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5TGVmdFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2VudGVyXCI6XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5Q2VudGVyXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwiSnVzdGlmeVJpZ2h0XCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJqdXN0aWZ5XCI6XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5RnVsbFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBBbGlnbm1lbnRcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS52ZXJ0aWNhbEFsaWduKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwibWNlVG9nZ2xlVmVydGljYWxcIiwgZmFsc2UsICRzY29wZS5mb250RGF0YS52ZXJ0aWNhbEFsaWduKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENvbG9yc1xuICAgICAgICAgICAgICAkZWxlbWVudC5maW5kKFwiLm1jZS1jb2xvcmJ1dHRvblthcmlhLWxhYmVsPSdUZXh0IGNvbG9yJ10gc3BhblwiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsICRzY29wZS5mb250RGF0YS5mb3JlY29sb3IpO1xuICAgICAgICAgICAgICAkZWxlbWVudC5maW5kKFwiLm1jZS1jb2xvcmJ1dHRvblthcmlhLWxhYmVsPSdCYWNrZ3JvdW5kIGNvbG9yJ10gc3BhblwiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsICRzY29wZS5mb250RGF0YS5iYWNrY29sb3IpO1xuXG4gICAgICAgICAgICAgIC8vIEZvbnQgU3R5bGVcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5mb250RGF0YS5ib2xkKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdCb2xkJ11cIikpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5mb250RGF0YS5pdGFsaWMpIHtcbiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0l0YWxpYyddXCIpKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEudW5kZXJsaW5lKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdVbmRlcmxpbmUnXVwiKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBIYW5kbGUgdG9vbGJhciBpbnRlcmFjdGlvbnMuXG4gICAgICAgICAgZnVuY3Rpb24gaW5pdENvbW1hbmRzKGVkaXRvciwgYXJncykge1xuICAgICAgICAgICAgc3dpdGNoKGFyZ3MuY29tbWFuZCkge1xuICAgICAgICAgICAgICBjYXNlIFwiRm9udE5hbWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoX2lzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzLnZhbHVlID09PSBcImN1c3RvbVwiKSB7XG4gICAgICAgICAgICAgICAgICAkY3VzdG9tRm9udC5tb2RhbChcInNob3dcIik7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuZm9udC5mYW1pbHkgPSBhcmdzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmZvbnQudHlwZSA9IGdldEZvbnRUeXBlKGFyZ3MudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJGb250U2l6ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChfaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3MudmFsdWUgPT09IFwiQ3VzdG9tXCIpIHtcbiAgICAgICAgICAgICAgICAgICRjdXN0b21Gb250U2l6ZS5tb2RhbChcInNob3dcIik7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuc2l6ZSA9IGFyZ3MudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkp1c3RpZnlMZWZ0XCI6XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmFsaWduID0gXCJsZWZ0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkp1c3RpZnlDZW50ZXJcIjpcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuYWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJKdXN0aWZ5UmlnaHRcIjpcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuYWxpZ24gPSBcInJpZ2h0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkp1c3RpZnlGdWxsXCI6XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmFsaWduID0gXCJqdXN0aWZ5XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIm1jZVRvZ2dsZVZlcnRpY2FsXCI6XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHRvZ2dsZVZlcnRpY2FsQnV0dG9ucyhhcmdzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEudmVydGljYWxBbGlnbiAhPT0gYXJncy52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGVWZXJ0aWNhbEJ1dHRvbnMoJHNjb3BlLmZvbnREYXRhLnZlcnRpY2FsQWxpZ24pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0b2dnbGVWZXJ0aWNhbEJ1dHRvbnMoJHNjb3BlLmRlZmF1bHRGb250LnZlcnRpY2FsQWxpZ24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS52ZXJ0aWNhbEFsaWduID0gKGFyZ3MudmFsdWUpID8gYXJncy52YWx1ZSA6ICRzY29wZS5kZWZhdWx0Rm9udC52ZXJ0aWNhbEFsaWduO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcImZvcmVjb2xvclwiOlxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5mb3JlY29sb3IgPSAoYXJncy52YWx1ZSkgPyBhcmdzLnZhbHVlIDogJHNjb3BlLmRlZmF1bHRGb250LmZvcmVjb2xvcjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIFwiaGlsaXRlY29sb3JcIjpcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuYmFja2NvbG9yID0gKGFyZ3MudmFsdWUpID8gYXJncy52YWx1ZSA6ICRzY29wZS5kZWZhdWx0Rm9udC5iYWNrY29sb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIm1jZVRvZ2dsZUZvcm1hdFwiOlxuICAgICAgICAgICAgICAgIGlmIChhcmdzLnZhbHVlID09PSBcImJvbGRcIikge1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmJvbGQgPSAhJHNjb3BlLmZvbnREYXRhLmJvbGQ7XG4gICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0JvbGQnXVwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3MudmFsdWUgPT09IFwiaXRhbGljXCIpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5pdGFsaWMgPSAhJHNjb3BlLmZvbnREYXRhLml0YWxpYztcbiAgICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbigkZWxlbWVudC5maW5kKFwiLm1jZS1idG5bYXJpYS1sYWJlbD0nSXRhbGljJ11cIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzLnZhbHVlID09PSBcInVuZGVybGluZVwiKSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEudW5kZXJsaW5lID0gISRzY29wZS5mb250RGF0YS51bmRlcmxpbmU7XG4gICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J1VuZGVybGluZSddXCIpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdXBkYXRlUHJldmlldygkc2NvcGUuZm9udERhdGEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUJ1dHRvbigkYnRuKSB7XG4gICAgICAgICAgICAkYnRuLnRvZ2dsZUNsYXNzKFwibWNlLWFjdGl2ZVwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTdHlsZSB0aGUgcHJldmlldyB0ZXh0LlxuICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVByZXZpZXcoZm9udERhdGEpIHtcbiAgICAgICAgICAgIHZhciAkdGV4dENvbnRhaW5lciA9ICRlbGVtZW50LmZpbmQoXCIudGV4dC1jb250YWluZXJcIiksXG4gICAgICAgICAgICAgICR0ZXh0ID0gJGVsZW1lbnQuZmluZChcIi50ZXh0XCIpO1xuXG4gICAgICAgICAgICBpZiAoJHNjb3BlLnByZXZpZXdUZXh0ICYmIGZvbnREYXRhKSB7XG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcImZvbnRGYW1pbHlcIiwgZm9udERhdGEuZm9udC5mYW1pbHkpO1xuICAgICAgICAgICAgICAkdGV4dC5jc3MoXCJmb250U2l6ZVwiLCBmb250RGF0YS5zaXplKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwiZm9udFdlaWdodFwiLCBmb250RGF0YS5ib2xkID8gXCJib2xkXCIgOiBcIm5vcm1hbFwiKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwiZm9udFN0eWxlXCIsIGZvbnREYXRhLml0YWxpYyA/IFwiaXRhbGljXCIgOiBcIm5vcm1hbFwiKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwidGV4dERlY29yYXRpb25cIiwgZm9udERhdGEudW5kZXJsaW5lID8gXCJ1bmRlcmxpbmVcIiA6IFwibm9uZVwiKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwiY29sb3JcIiwgZm9udERhdGEuZm9yZWNvbG9yKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwiYmFja2dyb3VuZENvbG9yXCIsIGZvbnREYXRhLmJhY2tjb2xvcik7XG4gICAgICAgICAgICAgICR0ZXh0Q29udGFpbmVyLmNzcyhcInRleHRBbGlnblwiLCBmb250RGF0YS5hbGlnbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRGV0ZXJtaW5lIHdoYXQgdHlwZSBvZiBmb250IHRoaXMgaXMgKHN0YW5kYXJkIG9yIGdvb2dsZSkuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0Rm9udFR5cGUoZmFtaWx5KSB7XG4gICAgICAgICAgICBpZiAoV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRy5mYW1pbGllcy5pbmRleE9mKGZhbWlseSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgIHJldHVybiBcInN0YW5kYXJkXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgkc2NvcGUuZ29vZ2xlRm9udExpc3QuaW5kZXhPZihmYW1pbHkpICE9PSAtMSkge1xuICAgICAgICAgICAgICByZXR1cm4gXCJnb29nbGVcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFwiY3VzdG9tXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRXh0cmFjdCBmb250IG5hbWUgZnJvbSBmb250IFVSTC5cbiAgICAgICAgICBmdW5jdGlvbiBnZXRDdXN0b21Gb250RmFtaWx5KCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5mb250RGF0YS5mb250LnVybCkge1xuICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmZvbnREYXRhLmZvbnQudXJsLnNwbGl0KFwiL1wiKS5wb3AoKS5zcGxpdChcIi5cIilbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIExvYWQgYSBjdXN0b20gZm9udC5cbiAgICAgICAgICBmdW5jdGlvbiBsb2FkQ3VzdG9tRm9udChmYW1pbHkpIHtcbiAgICAgICAgICAgIHZhciBzaGVldCA9IG51bGwsXG4gICAgICAgICAgICAgIHVybCA9ICQudHJpbSgkc2NvcGUuZm9udERhdGEuZm9udC51cmwpLFxuICAgICAgICAgICAgICBydWxlID0gXCJmb250LWZhbWlseTogXCIgKyBmYW1pbHkgKyBcIjsgXCIgKyBcInNyYzogdXJsKCdcIiArIHVybCArIFwiJyk7XCI7XG5cbiAgICAgICAgICAgIHNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07XG5cbiAgICAgICAgICAgIGlmIChzaGVldCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBzaGVldC5hZGRSdWxlKFwiQGZvbnQtZmFjZVwiLCBydWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBhZGRWZXJ0aWNhbEFsaWduQnV0dG9ucyhlZGl0b3IpIHtcbiAgICAgICAgICAgIGVkaXRvci5hZGRCdXR0b24oXCJhbGlnbnRvcFwiLCB7XG4gICAgICAgICAgICAgIGltYWdlOiBcIi8vczMuYW1hem9uYXdzLmNvbS9SaXNlLUltYWdlcy9JY29ucy9hbGlnbi10b3Auc3ZnXCIsXG4gICAgICAgICAgICAgIHRvb2x0aXA6IFwiQWxpZ24gVG9wXCIsXG4gICAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJtY2VUb2dnbGVWZXJ0aWNhbFwiLCBmYWxzZSwgXCJ0b3BcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlZGl0b3IuYWRkQnV0dG9uKFwiYWxpZ25taWRkbGVcIiwge1xuICAgICAgICAgICAgICBpbWFnZTogXCIvL3MzLmFtYXpvbmF3cy5jb20vUmlzZS1JbWFnZXMvSWNvbnMvYWxpZ24tdmVydGljYWwtbWlkZGxlLnN2Z1wiLFxuICAgICAgICAgICAgICB0b29sdGlwOiBcIkFsaWduIE1pZGRsZVwiLFxuICAgICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwibWNlVG9nZ2xlVmVydGljYWxcIiwgZmFsc2UsIFwibWlkZGxlXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWRpdG9yLmFkZEJ1dHRvbihcImFsaWduYm90dG9tXCIsIHtcbiAgICAgICAgICAgICAgaW1hZ2U6IFwiLy9zMy5hbWF6b25hd3MuY29tL1Jpc2UtSW1hZ2VzL0ljb25zL2FsaWduLWJvdHRvbS5zdmdcIixcbiAgICAgICAgICAgICAgdG9vbHRpcDogXCJBbGlnbiBCb3R0b21cIixcbiAgICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChcIm1jZVRvZ2dsZVZlcnRpY2FsXCIsIGZhbHNlLCBcImJvdHRvbVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVkaXRvci5hZGRDb21tYW5kKFwibWNlVG9nZ2xlVmVydGljYWxcIiwgZnVuY3Rpb24gKCkge30pO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlVmVydGljYWxCdXR0b25zKHZhbHVlKSB7XG4gICAgICAgICAgICBzd2l0Y2godmFsdWUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcInRvcFwiOlxuICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbigkZWxlbWVudC5maW5kKFwiLm1jZS1idG5bYXJpYS1sYWJlbD0nQWxpZ24gVG9wJ11cIikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwibWlkZGxlXCI6XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdBbGlnbiBNaWRkbGUnXVwiKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJib3R0b21cIjpcbiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0FsaWduIEJvdHRvbSddXCIpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCIpXG4gICAgLmZhY3RvcnkoXCJnb29nbGVGb250TG9hZGVyXCIsIFtcIiRodHRwXCIsIFwiYW5ndWxhckxvYWRcIiwgZnVuY3Rpb24oJGh0dHAsIGFuZ3VsYXJMb2FkKSB7XG5cbiAgICB2YXIgZm9udHNBcGkgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3dlYmZvbnRzL3YxL3dlYmZvbnRzP2tleT1BSXphU3lCWHhWS19JT1Y3TE5RTXVWVm9fbDdadk41M2VqTjg2ellcIixcbiAgICAgIGZvbnRCYXNlVXJsID0gXCIvL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9XCIsXG4gICAgICBleGNsdWRlID0gW1wiQnVkYVwiLCBcIkNvZGEgQ2FwdGlvblwiLCBcIk9wZW4gU2FucyBDb25kZW5zZWRcIiwgXCJVbmlmcmFrdHVyQ29va1wiLCBcIk1vbGxlXCJdLFxuICAgICAgZmFsbGJhY2sgPSBcIixzYW5zLXNlcmlmO1wiLFxuICAgICAgZmFjdG9yeSA9IHt9O1xuXG4gICAgZmFjdG9yeS5nZXRGb250cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChmb250c0FwaSwgeyBjYWNoZTogdHJ1ZSB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIHZhciBmYW1pbHkgPSBcIlwiLCBmb250cyA9IFwiXCIsIHNwYWNlcyA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5pdGVtcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGZhbWlseSA9IHJlc3BvbnNlLmRhdGEuaXRlbXNbaV0uZmFtaWx5O1xuXG4gICAgICAgICAgICAgIGlmIChleGNsdWRlLmluZGV4T2YoZmFtaWx5KSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBhbmd1bGFyTG9hZC5sb2FkQ1NTKGZvbnRCYXNlVXJsICsgZmFtaWx5KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgLy8gRm9udCBsb2FkZWQuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBmb3Igc3BhY2VzIGluIGZhbWlseSBuYW1lXG4gICAgICAgICAgICAgICAgaWYgKC9cXHMvLnRlc3QoZmFtaWx5KSkge1xuICAgICAgICAgICAgICAgICAgc3BhY2VzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3BhY2VzKSB7XG4gICAgICAgICAgICAgICAgICAvLyB3cmFwIGZhbWlseSBuYW1lIGluIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgICAgICAgICAgIGZvbnRzICs9IGZhbWlseSArIFwiPSdcIiArIGZhbWlseSArIFwiJ1wiICsgZmFsbGJhY2s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZm9udHMgKz0gZmFtaWx5ICsgXCI9XCIgKyBmYW1pbHkgKyBmYWxsYmFjaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBmb250cztcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5mb250LXNldHRpbmdcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5mb250LXNldHRpbmdcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJfYW5ndWxhci9mb250LXNldHRpbmcvZm9udC1zZXR0aW5nLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcImZvbnQtc2V0dGluZ1xcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgbmctY2xhc3M9XFxcInsnZm9ybS1ncm91cCc6ICFwcmV2aWV3VGV4dH1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHRleHRhcmVhIHVpLXRpbnltY2U9XFxcInRpbnltY2VPcHRpb25zXFxcIiBuZy1tb2RlbD1cXFwidGlueW1jZU1vZGVsXFxcIiBuZy1pZj1cXFwidGlueW1jZU9wdGlvbnNcXFwiPjwvdGV4dGFyZWE+XFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiIG5nLWlmPVxcXCJwcmV2aWV3VGV4dFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwidGV4dC1jb250YWluZXIgZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBjbGFzcz1cXFwidGV4dFxcXCI+e3twcmV2aWV3VGV4dH19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPCEtLSBDdXN0b20gRm9udCAtLT5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImN1c3RvbS1mb250IG1vZGFsXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHJvbGU9XFxcImRpYWxvZ1xcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGRhdGEtYmFja2Ryb3A9XFxcImZhbHNlXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZGlhbG9nXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1jb250ZW50XFxcIj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS10aW1lcyBoYWxmLXRvcFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPGgyIGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+e3tcXFwiZm9udC1zZXR0aW5nLmN1c3RvbS1mb250XFxcIiB8IHRyYW5zbGF0ZX19PC9oMj5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPGZvcm0gcm9sZT1cXFwiZm9ybVxcXCIgbmFtZT1cXFwiY3VzdG9tRm9udEZvcm1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dXJsLWZpZWxkIHVybD1cXFwiZm9udERhdGEuZm9udC51cmxcXFwiIG5nLW1vZGVsPVxcXCJjdXN0b21Gb250XFxcIiBpbml0LWVtcHR5PjwvdXJsLWZpZWxkPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcInNlbGVjdCBidG4gYnRuLXByaW1hcnkgYnRuLWZpeGVkLXdpZHRoXFxcIiBuZy1jbGljaz1cXFwiYXBwbHlDdXN0b21Gb250KClcXFwiIG5nLWRpc2FibGVkPVxcXCJjdXN0b21Gb250Rm9ybS4kaW52YWxpZFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8c3Bhbj57e1xcXCJjb21tb24uc2VsZWN0XFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdoaXRlIGZhLWNoZWNrIGljb24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNhbmNlbCBidG4gYnRuLWRlZmF1bHQgYnRuLWZpeGVkLXdpZHRoXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxzcGFuPnt7XFxcImNvbW1vbi5jYW5jZWxcXFwiIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtdGltZXMgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvZm9ybT5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDwhLS0gQ3VzdG9tIEZvbnQgU2l6ZSAtLT5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImN1c3RvbS1mb250LXNpemUgbW9kYWxcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgcm9sZT1cXFwiZGlhbG9nXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgZGF0YS1iYWNrZHJvcD1cXFwiZmFsc2VcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXRpbWVzIGhhbGYtdG9wXFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8aDIgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj57e1xcXCJmb250LXNldHRpbmcuY3VzdG9tLWZvbnQtc2l6ZVxcXCIgfCB0cmFuc2xhdGV9fTwvaDI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDxmb3JtIHJvbGU9XFxcImZvcm1cXFwiIG5hbWU9XFxcImN1c3RvbUZvbnRTaXplRm9ybVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtM1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiBuZy1tb2RlbD1cXFwiY3VzdG9tRm9udFNpemVcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIC8+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWFkZG9uXFxcIj57eydjb21tb24udW5pdHMucGl4ZWxzJyB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcInNlbGVjdCBidG4gYnRuLXByaW1hcnkgYnRuLWZpeGVkLXdpZHRoXFxcIiBuZy1jbGljaz1cXFwiYXBwbHlDdXN0b21Gb250U2l6ZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiY3VzdG9tRm9udFNpemVGb3JtLiRpbnZhbGlkXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxzcGFuPnt7XFxcImNvbW1vbi5zZWxlY3RcXFwiIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtY2hlY2sgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2FuY2VsIGJ0biBidG4tZGVmYXVsdCBidG4tZml4ZWQtd2lkdGhcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPHNwYW4+e3tcXFwiY29tbW9uLmNhbmNlbFxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS10aW1lcyBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgPC9mb3JtPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbi8qKlxuICogQmluZHMgYSBUaW55TUNFIHdpZGdldCB0byA8dGV4dGFyZWE+IGVsZW1lbnRzLlxuICovXG5hbmd1bGFyLm1vZHVsZSgndWkudGlueW1jZScsIFtdKVxuICAudmFsdWUoJ3VpVGlueW1jZUNvbmZpZycsIHt9KVxuICAuZGlyZWN0aXZlKCd1aVRpbnltY2UnLCBbJyRyb290U2NvcGUnLCAnJGNvbXBpbGUnLCAnJHRpbWVvdXQnLCAnJHdpbmRvdycsICckc2NlJywgJ3VpVGlueW1jZUNvbmZpZycsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRjb21waWxlLCAkdGltZW91dCwgJHdpbmRvdywgJHNjZSwgdWlUaW55bWNlQ29uZmlnKSB7XG4gICAgdWlUaW55bWNlQ29uZmlnID0gdWlUaW55bWNlQ29uZmlnIHx8IHt9O1xuICAgIHZhciBnZW5lcmF0ZWRJZHMgPSAwO1xuICAgIHZhciBJRF9BVFRSID0gJ3VpLXRpbnltY2UnO1xuICAgIGlmICh1aVRpbnltY2VDb25maWcuYmFzZVVybCkge1xuICAgICAgdGlueW1jZS5iYXNlVVJMID0gdWlUaW55bWNlQ29uZmlnLmJhc2VVcmw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVpcmU6IFsnbmdNb2RlbCcsICdeP2Zvcm0nXSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgICAgaWYgKCEkd2luZG93LnRpbnltY2UpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmdNb2RlbCA9IGN0cmxzWzBdLFxuICAgICAgICAgIGZvcm0gPSBjdHJsc1sxXSB8fCBudWxsO1xuXG4gICAgICAgIHZhciBleHByZXNzaW9uLCBvcHRpb25zID0ge30sIHRpbnlJbnN0YW5jZSxcbiAgICAgICAgICB1cGRhdGVWaWV3ID0gZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IGVkaXRvci5nZXRDb250ZW50KHtmb3JtYXQ6IG9wdGlvbnMuZm9ybWF0fSkudHJpbSgpO1xuICAgICAgICAgICAgY29udGVudCA9ICRzY2UudHJ1c3RBc0h0bWwoY29udGVudCk7XG5cbiAgICAgICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZShjb250ZW50KTtcbiAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlRGlzYWJsZShkaXNhYmxlZCkge1xuICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgZW5zdXJlSW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgaWYgKHRpbnlJbnN0YW5jZSkge1xuICAgICAgICAgICAgICB0aW55SW5zdGFuY2UuZ2V0Qm9keSgpLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbnN1cmVJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICBpZiAodGlueUluc3RhbmNlICYmICF0aW55SW5zdGFuY2Uuc2V0dGluZ3MucmVhZG9ubHkpIHtcbiAgICAgICAgICAgICAgdGlueUluc3RhbmNlLmdldEJvZHkoKS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdlbmVyYXRlIGFuIElEXG4gICAgICAgIGF0dHJzLiRzZXQoJ2lkJywgSURfQVRUUiArICctJyArIGdlbmVyYXRlZElkcysrKTtcblxuICAgICAgICBleHByZXNzaW9uID0ge307XG5cbiAgICAgICAgYW5ndWxhci5leHRlbmQoZXhwcmVzc2lvbiwgc2NvcGUuJGV2YWwoYXR0cnMudWlUaW55bWNlKSk7XG5cbiAgICAgICAgdmFyIHNldHVwT3B0aW9ucyA9IHtcbiAgICAgICAgICAvLyBVcGRhdGUgbW9kZWwgd2hlbiBjYWxsaW5nIHNldENvbnRlbnRcbiAgICAgICAgICAvLyAoc3VjaCBhcyBmcm9tIHRoZSBzb3VyY2UgZWRpdG9yIHBvcHVwKVxuICAgICAgICAgIHNldHVwOiBmdW5jdGlvbihlZCkge1xuICAgICAgICAgICAgZWQub24oJ2luaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyKCk7XG4gICAgICAgICAgICAgIG5nTW9kZWwuJHNldFByaXN0aW5lKCk7XG4gICAgICAgICAgICAgIGlmIChmb3JtKSB7XG4gICAgICAgICAgICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBtb2RlbCBvbiBidXR0b24gY2xpY2tcbiAgICAgICAgICAgIGVkLm9uKCdFeGVjQ29tbWFuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlZC5zYXZlKCk7XG4gICAgICAgICAgICAgIHVwZGF0ZVZpZXcoZWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBtb2RlbCBvbiBjaGFuZ2VcbiAgICAgICAgICAgIGVkLm9uKCdjaGFuZ2UgTm9kZUNoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlZC5zYXZlKCk7XG4gICAgICAgICAgICAgIHVwZGF0ZVZpZXcoZWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVkLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnRbMF0uYmx1cigpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBtb2RlbCB3aGVuIGFuIG9iamVjdCBoYXMgYmVlbiByZXNpemVkICh0YWJsZSwgaW1hZ2UpXG4gICAgICAgICAgICBlZC5vbignT2JqZWN0UmVzaXplZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlZC5zYXZlKCk7XG4gICAgICAgICAgICAgIHVwZGF0ZVZpZXcoZWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVkLm9uKCdyZW1vdmUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoZXhwcmVzc2lvbi5zZXR1cCkge1xuICAgICAgICAgICAgICBleHByZXNzaW9uLnNldHVwKGVkLCB7XG4gICAgICAgICAgICAgICAgdXBkYXRlVmlldzogdXBkYXRlVmlld1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZvcm1hdDogZXhwcmVzc2lvbi5mb3JtYXQgfHwgJ2h0bWwnLFxuICAgICAgICAgIHNlbGVjdG9yOiAnIycgKyBhdHRycy5pZFxuICAgICAgICB9O1xuICAgICAgICAvLyBleHRlbmQgb3B0aW9ucyB3aXRoIGluaXRpYWwgdWlUaW55bWNlQ29uZmlnIGFuZFxuICAgICAgICAvLyBvcHRpb25zIGZyb20gZGlyZWN0aXZlIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAgICBhbmd1bGFyLmV4dGVuZChvcHRpb25zLCB1aVRpbnltY2VDb25maWcsIGV4cHJlc3Npb24sIHNldHVwT3B0aW9ucyk7XG4gICAgICAgIC8vIFdyYXBwZWQgaW4gJHRpbWVvdXQgZHVlIHRvICR0aW55bWNlOnJlZnJlc2ggaW1wbGVtZW50YXRpb24sIHJlcXVpcmVzXG4gICAgICAgIC8vIGVsZW1lbnQgdG8gYmUgcHJlc2VudCBpbiBET00gYmVmb3JlIGluc3RhbnRpYXRpbmcgZWRpdG9yIHdoZW5cbiAgICAgICAgLy8gcmUtcmVuZGVyaW5nIGRpcmVjdGl2ZVxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy5iYXNlVVJMKXtcbiAgICAgICAgICAgIHRpbnltY2UuYmFzZVVSTCA9IG9wdGlvbnMuYmFzZVVSTDsgICAgICAgICAgICBcbiAgICAgICAgICB9XG4gICAgICAgICAgdGlueW1jZS5pbml0KG9wdGlvbnMpO1xuICAgICAgICAgIHRvZ2dsZURpc2FibGUoc2NvcGUuJGV2YWwoYXR0cnMubmdEaXNhYmxlZCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnVuc2hpZnQoZnVuY3Rpb24obW9kZWxWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiBtb2RlbFZhbHVlID8gJHNjZS50cnVzdEFzSHRtbChtb2RlbFZhbHVlKSA6ICcnO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnVuc2hpZnQoZnVuY3Rpb24odmlld1ZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZSA/ICRzY2UuZ2V0VHJ1c3RlZEh0bWwodmlld1ZhbHVlKSA6ICcnO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbnN1cmVJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgdmFyIHZpZXdWYWx1ZSA9IG5nTW9kZWwuJHZpZXdWYWx1ZSA/XG4gICAgICAgICAgICAkc2NlLmdldFRydXN0ZWRIdG1sKG5nTW9kZWwuJHZpZXdWYWx1ZSkgOiAnJztcblxuICAgICAgICAgIC8vIGluc3RhbmNlLmdldERvYygpIGNoZWNrIGlzIGEgZ3VhcmQgYWdhaW5zdCBudWxsIHZhbHVlXG4gICAgICAgICAgLy8gd2hlbiBkZXN0cnVjdGlvbiAmIHJlY3JlYXRpb24gb2YgaW5zdGFuY2VzIGhhcHBlblxuICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UgJiZcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5nZXREb2MoKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGlueUluc3RhbmNlLnNldENvbnRlbnQodmlld1ZhbHVlKTtcbiAgICAgICAgICAgIC8vIFRyaWdnZXJpbmcgY2hhbmdlIGV2ZW50IGR1ZSB0byBUaW55TUNFIG5vdCBmaXJpbmcgZXZlbnQgJlxuICAgICAgICAgICAgLy8gYmVjb21pbmcgb3V0IG9mIHN5bmMgZm9yIGNoYW5nZSBjYWxsYmFja3NcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5maXJlKCdjaGFuZ2UnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2Rpc2FibGVkJywgdG9nZ2xlRGlzYWJsZSk7XG5cbiAgICAgICAgLy8gVGhpcyBibG9jayBpcyBiZWNhdXNlIG9mIFRpbnlNQ0Ugbm90IHBsYXlpbmcgd2VsbCB3aXRoIHJlbW92YWwgYW5kXG4gICAgICAgIC8vIHJlY3JlYXRpb24gb2YgaW5zdGFuY2VzLCByZXF1aXJpbmcgaW5zdGFuY2VzIHRvIGhhdmUgZGlmZmVyZW50XG4gICAgICAgIC8vIHNlbGVjdG9ycyBpbiBvcmRlciB0byByZW5kZXIgbmV3IGluc3RhbmNlcyBwcm9wZXJseVxuICAgICAgICBzY29wZS4kb24oJyR0aW55bWNlOnJlZnJlc2gnLCBmdW5jdGlvbihlLCBpZCkge1xuICAgICAgICAgIHZhciBlaWQgPSBhdHRycy5pZDtcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChpZCkgfHwgaWQgPT09IGVpZCkge1xuICAgICAgICAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSBlbGVtZW50LnBhcmVudCgpO1xuICAgICAgICAgICAgdmFyIGNsb25lZEVsZW1lbnQgPSBlbGVtZW50LmNsb25lKCk7XG4gICAgICAgICAgICBjbG9uZWRFbGVtZW50LnJlbW92ZUF0dHIoJ2lkJyk7XG4gICAgICAgICAgICBjbG9uZWRFbGVtZW50LnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgICBjbG9uZWRFbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuJyk7XG4gICAgICAgICAgICB0aW55bWNlLmV4ZWNDb21tYW5kKCdtY2VSZW1vdmVFZGl0b3InLCBmYWxzZSwgZWlkKTtcbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kKCRjb21waWxlKGNsb25lZEVsZW1lbnQpKHNjb3BlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZW5zdXJlSW5zdGFuY2UoKTtcblxuICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiBlbnN1cmVJbnN0YW5jZSgpIHtcbiAgICAgICAgICBpZiAoIXRpbnlJbnN0YW5jZSkge1xuICAgICAgICAgICAgdGlueUluc3RhbmNlID0gdGlueW1jZS5nZXQoYXR0cnMuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1dKTtcblxuaWYodHlwZW9mIFRFTVBMQVRFUyA9PT0gJ3VuZGVmaW5lZCcpIHt2YXIgVEVNUExBVEVTID0ge307fVxuVEVNUExBVEVTWydhbGlnbm1lbnQuaHRtbCddID0gXCI8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXAgYWxpZ25tZW50XFxcIj5cXG5cIiArXG4gICAgXCIgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYWxpZ25tZW50IGRyb3Bkb3duLXRvZ2dsZVxcXCJcXG5cIiArXG4gICAgXCIgICAgZGF0YS10b2dnbGU9XFxcImRyb3Bkb3duXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kLXZhbHVlPVxcXCJsZWZ0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGkgY2xhc3M9XFxcImZhIGZhLWFsaWduLWxlZnRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuXCIgK1xuICAgIFwiICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiIHJvbGU9XFxcIm1lbnVcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwibGVmdFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1sZWZ0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kPVxcXCJhbGlnbm1lbnRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICBkYXRhLXd5c2lodG1sNS1jb21tYW5kLXZhbHVlPVxcXCJjZW50ZXJcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tY2VudGVyXFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kPVxcXCJhbGlnbm1lbnRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICBkYXRhLXd5c2lodG1sNS1jb21tYW5kLXZhbHVlPVxcXCJyaWdodFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwianVzdGlmeVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1qdXN0aWZ5XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCI7IFxuLyogIENvcHlyaWdodCDCqSAyMDE0IFJpc2UgVmlzaW9uIEluY29ycG9yYXRlZC5cbiAqICBVc2Ugb2YgdGhpcyBzb2Z0d2FyZSBpcyBnb3Zlcm5lZCBieSB0aGUgR1BMdjMgbGljZW5zZVxuICogIChyZXByb2R1Y2VkIGluIHRoZSBMSUNFTlNFIGZpbGUpLlxuICovXG5cbi8qIGdsb2JhbCBURU1QTEFURVMgKi9cbjsoZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQsIFRFTVBMQVRFUywgdW5kZWZpbmVkKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfcGx1Z2luTmFtZSA9IFwiYWxpZ25tZW50XCI7XG5cbiAgZnVuY3Rpb24gUGx1Z2luKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuICAgIHZhciAkYnRuQWxpZ25tZW50ID0gbnVsbDtcbiAgICB2YXIgZGVmYXVsdEFsaWdubWVudCA9IFwibGVmdFwiO1xuXG4gICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB7IFwiYWxpZ25cIjogZGVmYXVsdEFsaWdubWVudCB9LCBvcHRpb25zKTtcblxuICAgIC8qXG4gICAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9pbml0KCkge1xuICAgICAgLy8gR2V0IHRoZSBIVE1MIG1hcmt1cCBmcm9tIHRoZSB0ZW1wbGF0ZS5cbiAgICAgICRlbGVtZW50LmFwcGVuZChURU1QTEFURVNbXCJhbGlnbm1lbnQuaHRtbFwiXSk7XG4gICAgICAkYnRuQWxpZ25tZW50ID0gJGVsZW1lbnQuZmluZChcIi5idG4tYWxpZ25tZW50XCIpO1xuXG4gICAgICBzZXRBbGlnbm1lbnQob3B0aW9ucy5hbGlnbik7XG5cbiAgICAgICRlbGVtZW50LmZpbmQoXCIuZHJvcGRvd24tbWVudSBidXR0b25cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFsaWdubWVudCA9ICQodGhpcykuZGF0YShcInd5c2lodG1sNS1jb21tYW5kLXZhbHVlXCIpO1xuXG4gICAgICAgIHNldEFsaWdubWVudChhbGlnbm1lbnQpO1xuICAgICAgICAkZWxlbWVudC50cmlnZ2VyKFwiYWxpZ25tZW50Q2hhbmdlZFwiLCBhbGlnbm1lbnQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGlnbm1lbnQoKSB7XG4gICAgIHJldHVybiAkYnRuQWxpZ25tZW50LmRhdGEoXCJ3eXNpaHRtbDUtY29tbWFuZC12YWx1ZVwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRBbGlnbm1lbnQoYWxpZ25tZW50KSB7XG4gICAgICB2YXIgJHByaW1hcnlJY29uID0gJGVsZW1lbnQuZmluZChcIi5idG4tYWxpZ25tZW50IC5mYVwiKTtcbiAgICAgIHZhciBjdXJyZW50Q2xhc3MgPSAkcHJpbWFyeUljb24uYXR0cihcImNsYXNzXCIpLm1hdGNoKC9mYS1hbGlnbi1bYS16XSsvZyk7XG4gICAgICB2YXIgbmV3Q2xhc3MgPSBcImZhLWFsaWduLVwiICsgYWxpZ25tZW50O1xuXG4gICAgICAvLyBSZW1vdmUgY3VycmVudCBhbGlnbm1lbnQgaWNvbi5cbiAgICAgIGlmIChjdXJyZW50Q2xhc3MgJiYgY3VycmVudENsYXNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJHByaW1hcnlJY29uLnJlbW92ZUNsYXNzKGN1cnJlbnRDbGFzc1swXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBuZXcgYWxpZ25tZW50IGljb24uXG4gICAgICAkcHJpbWFyeUljb24uYWRkQ2xhc3MobmV3Q2xhc3MpO1xuICAgICAgJGJ0bkFsaWdubWVudC5kYXRhKFwid3lzaWh0bWw1LWNvbW1hbmQtdmFsdWVcIiwgYWxpZ25tZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHNldEFsaWdubWVudChkZWZhdWx0QWxpZ25tZW50KTtcbiAgICB9XG5cbiAgICBfaW5pdCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGdldEFsaWdubWVudDogZ2V0QWxpZ25tZW50LFxuICAgICAgc2V0QWxpZ25tZW50OiBzZXRBbGlnbm1lbnQsXG4gICAgICByZXNldDogICAgICAgIHJlc2V0XG4gICAgfTtcbiAgfVxuXG4gIC8qXG4gICAqICBBIGxpZ2h0d2VpZ2h0IHBsdWdpbiB3cmFwcGVyIGFyb3VuZCB0aGUgY29uc3RydWN0b3IgdGhhdCBwcmV2ZW50c1xuICAgKiAgbXVsdGlwbGUgaW5zdGFudGlhdGlvbnMuXG4gICAqL1xuICAkLmZuLmFsaWdubWVudCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCEkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBfcGx1Z2luTmFtZSkpIHtcbiAgICAgICAgJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgX3BsdWdpbk5hbWUsIG5ldyBQbHVnaW4odGhpcywgb3B0aW9ucykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSkoalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50LCBURU1QTEFURVMpO1xuXG4vKiBleHBvcnRlZCBXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHICovXG52YXIgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRyA9IHtcbiAgXCJmYW1pbGllc1wiOiBcIkFuZGFsZSBNb25vPWFuZGFsZSBtb25vLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIkFyaWFsPWFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiQXJpYWwgQmxhY2s9YXJpYWwgYmxhY2ssc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkJvb2sgQW50aXF1YT1ib29rIGFudGlxdWEscGFsYXRpbm8sc2VyaWY7XCIgK1xuICAgICAgXCJDb21pYyBTYW5zIE1TPWNvbWljIHNhbnMgbXMsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkNvdXJpZXIgTmV3PWNvdXJpZXIgbmV3LGNvdXJpZXIsbW9ub3NwYWNlO1wiICtcbiAgICAgIFwiR2VvcmdpYT1nZW9yZ2lhLHBhbGF0aW5vLHNlcmlmO1wiICtcbiAgICAgIFwiSGVsdmV0aWNhPWhlbHZldGljYSxhcmlhbCxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiSW1wYWN0PWltcGFjdCxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiU3ltYm9sPXN5bWJvbDtcIiArXG4gICAgICBcIlRhaG9tYT10YWhvbWEsYXJpYWwsaGVsdmV0aWNhLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJUZXJtaW5hbD10ZXJtaW5hbCxtb25hY28sbW9ub3NwYWNlO1wiICtcbiAgICAgIFwiVGltZXMgTmV3IFJvbWFuPXRpbWVzIG5ldyByb21hbix0aW1lcyxzZXJpZjtcIiArXG4gICAgICBcIlRyZWJ1Y2hldCBNUz10cmVidWNoZXQgbXMsZ2VuZXZhLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJWZXJkYW5hPXZlcmRhbmEsZ2VuZXZhLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJXZWJkaW5ncz13ZWJkaW5ncztcIiArXG4gICAgICBcIldpbmdkaW5ncz13aW5nZGluZ3MsemFwZiBkaW5nYmF0cztcIixcbiAgXCJzaXplc1wiOiBcIjhweCA5cHggMTBweCAxMXB4IDEycHggMTRweCAxOHB4IDI0cHggMzBweCAzNnB4IDQ4cHggNjBweCA3MnB4IDk2cHhcIlxufTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uYWxpZ25tZW50XCIsIFtdKVxuICAgIC5kaXJlY3RpdmUoXCJhbGlnbm1lbnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIGFsaWduOiBcIj1cIlxuICAgICAgICB9LFxuICAgICAgICB0cmFuc2NsdWRlOiBmYWxzZSxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KTtcblxuICAgICAgICAgIHNjb3BlLiR3YXRjaChcImFsaWduXCIsIGZ1bmN0aW9uKGFsaWduKSB7XG4gICAgICAgICAgICBpZiAoYWxpZ24pIHtcbiAgICAgICAgICAgICAgaWYgKCRlbGVtZW50LmRhdGEoXCJwbHVnaW5fYWxpZ25tZW50XCIpKSB7XG4gICAgICAgICAgICAgICAgJGVsZW1lbnQuZGF0YShcInBsdWdpbl9hbGlnbm1lbnRcIikuc2V0QWxpZ25tZW50KGFsaWduKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAkZWxlbWVudC5hbGlnbm1lbnQoeyBhbGlnbjogYWxpZ24gfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgICRlbGVtZW50Lm9uKFwiYWxpZ25tZW50Q2hhbmdlZFwiLCBmdW5jdGlvbihldmVudCwgYWxpZ25tZW50KSB7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNjb3BlLmFsaWduID0gYWxpZ25tZW50O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG59KCkpO1xuXG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5jb2x1bW4tc2V0dGluZ1wiLCBbXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmZvbnQtc2V0dGluZ1wiXSlcbiAgICAuZGlyZWN0aXZlKFwiY29sdW1uU2V0dGluZ1wiLCBbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBjb2x1bW46IFwiPVwiLFxuICAgICAgICAgIGV4cGFuZDogXCI9XCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL2NvbHVtbi1zZXR0aW5nL2NvbHVtbi1zZXR0aW5nLmh0bWxcIiksXG4gICAgICAgIHRyYW5zY2x1ZGU6IGZhbHNlLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICB2YXIgZGVmYXVsdFNldHRpbmdzID0ge1xuICAgICAgICAgICAgZm9udFN0eWxlOiB7XG4gICAgICAgICAgICAgIGZvbnQ6IHtcbiAgICAgICAgICAgICAgICBcImZhbWlseVwiOlwidmVyZGFuYSxnZW5ldmEsc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOlwic3RhbmRhcmRcIixcbiAgICAgICAgICAgICAgICBcInVybFwiOlwiXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc2l6ZTogXCIxOHB4XCIsXG4gICAgICAgICAgICAgIGN1c3RvbVNpemU6IFwiXCIsXG4gICAgICAgICAgICAgIGFsaWduOiBcImxlZnRcIixcbiAgICAgICAgICAgICAgYm9sZDogZmFsc2UsXG4gICAgICAgICAgICAgIGl0YWxpYzogZmFsc2UsXG4gICAgICAgICAgICAgIHVuZGVybGluZTogZmFsc2UsXG4gICAgICAgICAgICAgIGZvcmVjb2xvcjogXCJibGFja1wiLFxuICAgICAgICAgICAgICBiYWNrY29sb3I6IFwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhlYWRlclRleHQ6IFwiXCIsXG4gICAgICAgICAgICB3aWR0aDogMTAwLFxuICAgICAgICAgICAgY29sb3JDb25kaXRpb246IFwibm9uZVwiXG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRzY29wZS5kZWZhdWx0cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xuXG4gICAgICAgICAgICAgICAgICBpZiAob2JqW3Byb3BdID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLiR3YXRjaChcImNvbHVtbi5udW1lcmljXCIsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiICYmIHZhbHVlICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRTZXR0aW5ncy50eXBlID0gXCJpbnRcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0U2V0dGluZ3MudHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBkZWZhdWx0U2V0dGluZ3MudHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRzY29wZS5kZWZhdWx0cygkc2NvcGUuY29sdW1uLCBkZWZhdWx0U2V0dGluZ3MpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgJHNjb3BlLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLiRwYXJlbnQucmVtb3ZlKCRzY29wZS5jb2x1bW4pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uY29sdW1uLXNldHRpbmdcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5jb2x1bW4tc2V0dGluZ1wiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcIl9hbmd1bGFyL2NvbHVtbi1zZXR0aW5nL2NvbHVtbi1zZXR0aW5nLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHRcXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY29sbGFwc2UtcGFuZWwgcGFuZWwtaGVhZGluZ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxhIGhyZWY9XFxcIlxcXCIgb25kcmFnc3RhcnQ9XFxcInJldHVybiBmYWxzZTtcXFwiXFxuXCIgK1xuICAgIFwiICAgIG5nLWNsYXNzPVxcXCJ7J3BhbmVsLWhlYWRpbmcnOnRydWUsIGNvbGxhcHNlZDohY29sbGFwc2V9XFxcIiBuZy1jbGljaz1cXFwiY29sbGFwc2U9IWNvbGxhcHNlXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAge3tjb2x1bW4ubmFtZSB8IHRyYW5zbGF0ZX19XFxuXCIgK1xuICAgIFwiICAgIDwvYT5cXG5cIiArXG4gICAgXCIgICAgPGEgaHJlZj1cXFwiXFxcIiBvbmRyYWdzdGFydD1cXFwicmV0dXJuIGZhbHNlO1xcXCIgY2xhc3M9XFxcImZhIGZhLW1pbnVzLWNpcmNsZSBmYS1sZyByZW1vdmUtY29sdW1uLWJ1dHRvblxcXCIgbmctY2xpY2s9XFxcInJlbW92ZSgpXFxcIj48L2E+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgbmctY2xhc3M9XFxcInsncGFuZWwtY29sbGFwc2UnOnRydWUsIGNvbGxhcHNlOnRydWUsIGluOmNvbGxhcHNlfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwhLS0gTnVtZXJpYyBkYXRhIGNvbHVtbiAtLT5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJjaGVja2JveFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8bGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmctbW9kZWw9XFxcImNvbHVtbi5udW1lcmljXFxcIj57eydjb2x1bW4ubnVtZXJpYycgfCB0cmFuc2xhdGV9fVxcblwiICtcbiAgICBcIiAgICAgICAgPC9sYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCIgc3R5bGU9XFxcImZsb2F0OnJpZ2h0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAge3snY29sdW1uLm5vdGUnIHwgdHJhbnNsYXRlfX1cXG5cIiArXG4gICAgXCIgICAgICAgIDwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8Zm9udC1zZXR0aW5nIGZvbnQtZGF0YT1cXFwiY29sdW1uLmZvbnRTdHlsZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPC9mb250LXNldHRpbmc+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDwhLS0gSGVhZGVyIFRleHQgLS0+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNiBjb2wteHMtMTJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJjb2x1bW4taGVhZGVyLXRleHRcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAge3snY29sdW1uLmhlYWRlci10ZXh0LmxhYmVsJyB8IHRyYW5zbGF0ZX19XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9sYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgbmctbW9kZWw9XFxcImNvbHVtbi5oZWFkZXJUZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDwhLS0gV2lkdGggLS0+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMyBjb2wteHMtMTJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJjb2x1bW4td2lkdGhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAge3snY29sdW1uLndpZHRoJyB8IHRyYW5zbGF0ZX19XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9sYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiBuZy1tb2RlbD1cXFwiY29sdW1uLndpZHRoXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJpbnB1dC1ncm91cC1hZGRvblxcXCI+e3snY29tbW9uLnVuaXRzLnBpeGVscycgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDwhLS0gQ29sb3IgQ29uZGl0aW9ucyAtLT5cXG5cIiArXG4gICAgXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0zIGNvbC14cy0xMlxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImNvbHVtbi1jb2xvci1jb25kaXRpb25cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICB7eydjb2x1bW4uY29sb3ItY29uZGl0aW9uLmxhYmVsJyB8IHRyYW5zbGF0ZX19XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8L2xhYmVsPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcImNvbHVtbi5jb2xvckNvbmRpdGlvblxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIG5nLWRpc2FibGVkPVxcXCIhY29sdW1uLm51bWVyaWNcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwibm9uZVxcXCI+e3snY29sdW1uLmNvbG9yLWNvbmRpdGlvbi5ub25lJyB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJjaGFuZ2UtdXBcXFwiPnt7J2NvbHVtbi5jb2xvci1jb25kaXRpb24uY2hhbmdlLXVwJyB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJjaGFuZ2UtZG93blxcXCI+e3snY29sdW1uLmNvbG9yLWNvbmRpdGlvbi5jaGFuZ2UtZG93bicgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwidmFsdWUtcG9zaXRpdmVcXFwiPnt7J2NvbHVtbi5jb2xvci1jb25kaXRpb24udmFsdWUtcG9zaXRpdmUnIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcInZhbHVlLW5lZ2F0aXZlXFxcIj57eydjb2x1bW4uY29sb3ItY29uZGl0aW9uLnZhbHVlLW5lZ2F0aXZlJyB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9zZWxlY3Q+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uY29sdW1uLXNlbGVjdG9yXCIsIFtcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5jb2x1bW4tc2V0dGluZ1wiLFxuICAgICAgICAgIFwicmlzZXZpc2lvbi5jb21tb24uaTE4blwiXSlcbiAgICAuZGlyZWN0aXZlKFwiY29sdW1uU2VsZWN0b3JcIiwgW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHJlcXVpcmU6IFwiP25nTW9kZWxcIixcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBjb2x1bW5zOiBcIj1cIixcbiAgICAgICAgICBjb2x1bW5OYW1lczogXCI9XCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL2NvbHVtbi1zZWxlY3Rvci9jb2x1bW4tc2VsZWN0b3IuaHRtbFwiKSxcbiAgICAgICAgdHJhbnNjbHVkZTogZmFsc2UsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxtLCBhdHRycywgY3RybCkge1xuICAgICAgICAgIHZhciBjb2x1bW5zV2F0Y2hlciA9ICRzY29wZS4kd2F0Y2goXCJjb2x1bW5zXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5jb2x1bW5zICYmICRzY29wZS5jb2x1bW5OYW1lcykge1xuICAgICAgICAgICAgICB1cGRhdGVDb2x1bW5zKCk7XG4gICAgICAgICAgICAgIHNldFZhbGlkaXR5KCk7XG5cbiAgICAgICAgICAgICAgLy8gRGVzdHJveSB3YXRjaFxuICAgICAgICAgICAgICBjb2x1bW5zV2F0Y2hlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIGNvbHVtbk5hbWVzV2F0Y2hlciA9ICRzY29wZS4kd2F0Y2goXCJjb2x1bW5OYW1lc1wiLCBmdW5jdGlvbihjb2x1bW5OYW1lcykge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5jb2x1bW5zICYmIGNvbHVtbk5hbWVzICYmIGNvbHVtbk5hbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgdXBkYXRlQ29sdW1ucygpO1xuXG4gICAgICAgICAgICAgIC8vIERlc3Ryb3kgd2F0Y2hcbiAgICAgICAgICAgICAgY29sdW1uTmFtZXNXYXRjaGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAkc2NvcGUuc2hvdyA9IGZ1bmN0aW9uKHYpe3JldHVybiAhdi5zaG93O307XG5cbiAgICAgICAgICAkc2NvcGUuYWRkQ29sdW1uID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5zZWxlY3RlZENvbHVtbik7XG4gICAgICAgICAgICAkc2NvcGUuYWRkKCRzY29wZS5zZWxlY3RlZENvbHVtbik7XG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRDb2x1bW4gPSBudWxsO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuYWRkID0gZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgICAgICBjb2x1bW4uc2hvdyA9IHRydWU7XG4gICAgICAgICAgICAkc2NvcGUuY29sdW1ucy5wdXNoKGNvbHVtbik7XG5cbiAgICAgICAgICAgIHNldFZhbGlkaXR5KCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRzY29wZS5yZW1vdmUgPSBmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgICAgICBpZiAoY29sdW1uKSB7XG4gICAgICAgICAgICAgIHJlbW92ZUNvbHVtbigkc2NvcGUuY29sdW1ucywgY29sdW1uLmlkKTtcblxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5jb2x1bW5OYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4uaWQgPT09ICRzY29wZS5jb2x1bW5OYW1lc1tpXS5pZCkge1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbHVtbk5hbWVzW2ldLnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHNldFZhbGlkaXR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZUNvbHVtbihjb2x1bW5zTGlzdCwgaWQpIHtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjb2x1bW5zTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoY29sdW1uc0xpc3RbaV0uaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgY29sdW1uc0xpc3Quc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gc2V0VmFsaWRpdHkoKSB7XG4gICAgICAgICAgICBpZiAoY3RybCkge1xuICAgICAgICAgICAgICBjdHJsLiRzZXRWYWxpZGl0eShcInJlcXVpcmVkXCIsICRzY29wZS5jb2x1bW5zLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gdXBkYXRlQ29sdW1ucygpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmNvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAkc2NvcGUuY29sdW1uTmFtZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNvbHVtbnNbaV0uaWQgPT09ICRzY29wZS5jb2x1bW5OYW1lc1tqXS5pZCkge1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbHVtbnNbaV0udHlwZSA9ICRzY29wZS5jb2x1bW5OYW1lc1tqXS50eXBlO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbHVtbnNbaV0ubmFtZSA9ICRzY29wZS5jb2x1bW5OYW1lc1tqXS5uYW1lO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbHVtbk5hbWVzW2pdLnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5jb2x1bW4tc2VsZWN0b3JcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5jb2x1bW4tc2VsZWN0b3JcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJfYW5ndWxhci9jb2x1bW4tc2VsZWN0b3IvY29sdW1uLXNlbGVjdG9yLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInNlY3Rpb25cXFwiPlxcblwiICtcbiAgICBcIlx0PGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG5cIiArXG4gICAgXCJcdFx0PGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cIiArXG4gICAgXCJcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCJcdFx0XHRcdDxsYWJlbCBmb3I9XFxcImNvbHVtbnNcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57eydjb2x1bW4uc2VsZWN0LXRpdGxlJyB8IHRyYW5zbGF0ZX19PC9sYWJlbD5cXG5cIiArXG4gICAgXCJcdFx0ICAgIDxzZWxlY3QgaWQ9XFxcImNvbHVtbi1zZWxlY3RvclxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInNlbGVjdGVkQ29sdW1uXFxcIlxcblwiICtcbiAgICBcIlx0XHRcdFx0bmctb3B0aW9ucz1cXFwiY29sdW1uLm5hbWUgfCB0cmFuc2xhdGUgZm9yIGNvbHVtbiBpbiBjb2x1bW5OYW1lcyB8IGZpbHRlcjpzaG93IHRyYWNrIGJ5IGNvbHVtbi5pZFxcXCJcXG5cIiArXG4gICAgXCJcdFx0XHRcdG5nLWNoYW5nZT1cXFwiYWRkQ29sdW1uKClcXFwiPjwvc2VsZWN0PlxcblwiICtcbiAgICBcIlx0XHRcdDwvZGl2PlxcblwiICtcbiAgICBcIlx0XHQ8L2Rpdj5cXG5cIiArXG4gICAgXCJcdDwvZGl2PlxcblwiICtcbiAgICBcIlx0PGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG5cIiArXG4gICAgXCJcdFx0PGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cIiArXG4gICAgXCJcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0XHQ8Y29sdW1uLXNldHRpbmcgY29sdW1uPVxcXCJjb2x1bW5cXFwiIG5nLXJlcGVhdD1cXFwiY29sdW1uIGluIGNvbHVtbnNcXFwiPjwvY29sdW1uLXNldHRpbmc+XFxuXCIgK1xuICAgIFwiXHRcdFx0PC9kaXY+XFxuXCIgK1xuICAgIFwiXHQ8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5zY3JvbGwtc2V0dGluZ1wiLFxuICAgIFtcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIiwgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udG9vbHRpcFwiXSlcbiAgICAuZGlyZWN0aXZlKFwic2Nyb2xsU2V0dGluZ1wiLCBbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBzY3JvbGw6IFwiPVwiLFxuICAgICAgICAgIGhpZGVEaXJlY3Rpb246IFwiQFwiXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoXCJfYW5ndWxhci9zY3JvbGwtc2V0dGluZy9zY3JvbGwtc2V0dGluZy5odG1sXCIpLFxuICAgICAgICB0cmFuc2NsdWRlOiBmYWxzZSxcbiAgICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLmRlZmF1bHRTZXR0aW5nID0ge1xuICAgICAgICAgICAgYnk6IFwibm9uZVwiLFxuICAgICAgICAgICAgZGlyZWN0aW9uOiBcInVwXCIsXG4gICAgICAgICAgICBzcGVlZDogXCJtZWRpdW1cIixcbiAgICAgICAgICAgIHBhdXNlOiA1LFxuICAgICAgICAgICAgcHVkOiAxMFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuZGVmYXVsdHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKG9ialtwcm9wXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRzY29wZS4kd2F0Y2goXCJzY3JvbGxcIiwgZnVuY3Rpb24oc2Nyb2xsKSB7XG4gICAgICAgICAgICAkc2NvcGUuZGVmYXVsdHMoc2Nyb2xsLCAkc2NvcGUuZGVmYXVsdFNldHRpbmcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKTtcbn0oKSk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnNjcm9sbC1zZXR0aW5nXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uc2Nyb2xsLXNldHRpbmdcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJfYW5ndWxhci9zY3JvbGwtc2V0dGluZy9zY3JvbGwtc2V0dGluZy5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTJcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7XFxcInNjcm9sbC5oZWFkaW5nXFxcIiB8IHRyYW5zbGF0ZX19PC9sYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICA8c2VsZWN0IGlkPVxcXCJzY3JvbGwtYnlcXFwiIG5nLW1vZGVsPVxcXCJzY3JvbGwuYnlcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwibm9uZVxcXCI+e3snc2Nyb2xsLmJ5Lm5vbmUnIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImNvbnRpbnVvdXNcXFwiPnt7J3Njcm9sbC5ieS5jb250aW51b3VzJyB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJwYWdlXFxcIj57eydzY3JvbGwuYnkucGFnZScgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgIDwvc2VsZWN0PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTJcXFwiIG5nLXNob3c9XFxcIiFoaWRlRGlyZWN0aW9uICYmIHNjcm9sbC5ieSA9PSAnY29udGludW91cydcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7XFxcInRyYW5zaXRpb24uZGlyZWN0aW9uLmxhYmVsXFxcIiB8IHRyYW5zbGF0ZX19PC9sYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICA8c2VsZWN0IGlkPVxcXCJzY3JvbGwtZGlyZWN0aW9uXFxcIiBuYW1lPVxcXCJzY3JvbGwtZGlyZWN0aW9uXFxcIiBuZy1tb2RlbD1cXFwic2Nyb2xsLmRpcmVjdGlvblxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJ1cFxcXCI+e3tcXFwidHJhbnNpdGlvbi5kaXJlY3Rpb24udXBcXFwiIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImxlZnRcXFwiPnt7XFxcInRyYW5zaXRpb24uZGlyZWN0aW9uLmxlZnRcXFwiIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3NlbGVjdD5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0yXFxcIiBuZy1zaG93PVxcXCJzY3JvbGwuYnkgIT0gJ25vbmUnXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57eydzY3JvbGwuc3BlZWQubGFiZWwnIHwgdHJhbnNsYXRlfX08L2xhYmVsPlxcblwiICtcbiAgICBcIiAgICAgIDxzZWxlY3QgaWQ9XFxcInNjcm9sbC1zcGVlZFxcXCIgbmctbW9kZWw9XFxcInNjcm9sbC5zcGVlZFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJzbG93XFxcIj57eydzY3JvbGwuc3BlZWQuc2xvdycgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwibWVkaXVtXFxcIj57eydzY3JvbGwuc3BlZWQubWVkaXVtJyB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJmYXN0XFxcIj57eydzY3JvbGwuc3BlZWQuZmFzdCcgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgIDwvc2VsZWN0PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTJcXFwiIG5nLXNob3c9XFxcInNjcm9sbC5ieSAhPSAnbm9uZScgJiYgc2Nyb2xsLmRpcmVjdGlvbiAhPSAnbGVmdCdcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7J3Njcm9sbC5wYXVzZS5sYWJlbCcgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGlucHV0IGlkPVxcXCJzY3JvbGwtcGF1c2VcXFwiIHR5cGU9XFxcIm51bWJlclxcXCIgbmctbW9kZWw9XFxcInNjcm9sbC5wYXVzZVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgLz5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJpbnB1dC1ncm91cC1hZGRvblxcXCI+e3snY29tbW9uLnVuaXRzLnNlY29uZHMnIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMlxcXCIgbmctc2hvdz1cXFwic2Nyb2xsLmJ5ICE9ICdub25lJyAmJiBzY3JvbGwuZGlyZWN0aW9uICE9ICdsZWZ0J1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3snc2Nyb2xsLnB1ZC5sYWJlbCcgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPHNwYW4gcG9wb3Zlcj1cXFwie3snc2Nyb2xsLnB1ZC50b29sdGlwJyB8IHRyYW5zbGF0ZX19XFxcIiBwb3BvdmVyLXRyaWdnZXI9XFxcImNsaWNrXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgcG9wb3Zlci1wbGFjZW1lbnQ9XFxcInJpZ2h0XFxcIiBydi10b29sdGlwPjwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aW5wdXQgaWQ9XFxcInNjcm9sbC1wdWRcXFwiIHR5cGU9XFxcIm51bWJlclxcXCIgbmctbW9kZWw9XFxcInNjcm9sbC5wdWRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIC8+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPnt7J2NvbW1vbi51bml0cy5zZWNvbmRzJyB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbi8qIGV4cG9ydGVkIGNvbmZpZyAqL1xuaWYgKHR5cGVvZiBhbmd1bGFyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10pXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19QUkVGSVhcIiwgXCJsb2NhbGVzL3RyYW5zbGF0aW9uX1wiKVxuICAgIC5jb25zdGFudChcIkxPQ0FMRVNfU1VGSVhcIiwgXCIuanNvblwiKTtcbn1cblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5nb29nbGVTcHJlYWRzaGVldC5zZXR0aW5nc1wiLCBbXG4gIFwicmlzZXZpc2lvbi5jb21tb24uaTE4blwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5jb2x1bW4tc2VsZWN0b3JcIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnNjcm9sbC1zZXR0aW5nXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmdvb2dsZS1kcml2ZS1waWNrZXJcIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udmlzdWFsaXphdGlvblwiLFxuICBcImNvbG9ycGlja2VyLm1vZHVsZVwiXG5dKTtcblxuXG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIsIFtdKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcbiAgLmNvbnRyb2xsZXIoXCJzZXR0aW5nc0NvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwic2V0dGluZ3NTYXZlclwiLCBcInNldHRpbmdzR2V0dGVyXCIsIFwic2V0dGluZ3NDbG9zZXJcIixcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCBzZXR0aW5nc1NhdmVyLCBzZXR0aW5nc0dldHRlciwgc2V0dGluZ3NDbG9zZXIpIHtcblxuICAgICRzY29wZS5zZXR0aW5ncyA9IHsgcGFyYW1zOiB7fSwgYWRkaXRpb25hbFBhcmFtczoge319O1xuICAgICRzY29wZS5hbGVydHMgPSBbXTtcblxuICAgICRzY29wZS5nZXRBZGRpdGlvbmFsUGFyYW0gPSBmdW5jdGlvbiAobmFtZSwgZGVmYXVsdFZhbCkge1xuICAgICAgdmFyIHZhbCA9ICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zW25hbWVdO1xuICAgICAgaWYoYW5ndWxhci5pc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBZGRpdGlvbmFsUGFyYW0gPSBmdW5jdGlvbiAobmFtZSwgdmFsKSB7XG4gICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtc1tuYW1lXSA9IHZhbDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmxvYWRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2V0dGluZ3NHZXR0ZXIuZ2V0QWRkaXRpb25hbFBhcmFtcygpLnRoZW4oZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMgPSBhZGRpdGlvbmFsUGFyYW1zO1xuICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdChcImxvYWRBZGRpdGlvbmFsUGFyYW1zXCIsIGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uIChlcnIpIHthbGVydCAoZXJyKTsgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKG5hbWUsIHZhbCkge1xuICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXNbbmFtZV0gPSB2YWw7XG4gICAgfTtcblxuICAgICRzY29wZS5zYXZlU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvL2NsZWFyIG91dCBwcmV2aW91cyBhbGVydHMsIGlmIGFueVxuICAgICAgJHNjb3BlLmFsZXJ0cyA9IFtdO1xuXG4gICAgICAkc2NvcGUuJGJyb2FkY2FzdChcImNvbGxlY3RBZGRpdGlvbmFsUGFyYW1zXCIpO1xuXG4gICAgICBzZXR0aW5nc1NhdmVyLnNhdmVTZXR0aW5ncygkc2NvcGUuc2V0dGluZ3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1RPRE86IHBlcmhhcHMgc2hvdyBzb21lIGluZGljYXRvciBpbiBVST9cbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgJHNjb3BlLmFsZXJ0cyA9IGVyci5hbGVydHM7XG4gICAgICB9KTtcblxuICAgIH07XG5cbiAgICAkc2NvcGUuY2xvc2VTZXR0aW5ncyA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0dGluZ3NDbG9zZXIuY2xvc2VTZXR0aW5ncygpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1RPRE86XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICRzY29wZS5hbGVydHMgPSBlcnIuYWxlcnRzO1xuICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldHRpbmdzLnBhcmFtcyA9IHNldHRpbmdzR2V0dGVyLmdldFBhcmFtcygpO1xuICAgICRzY29wZS5sb2FkQWRkaXRpb25hbFBhcmFtcygpO1xuICB9XSlcblxuICAuZGlyZWN0aXZlKFwic2Nyb2xsT25BbGVydHNcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiBcIkFcIiwgLy9yZXN0cmljdHMgdG8gYXR0cmlidXRlc1xuICAgICAgc2NvcGU6IGZhbHNlLFxuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxtKSB7XG4gICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKFwiYWxlcnRzXCIsIGZ1bmN0aW9uIChuZXdBbGVydHMsIG9sZEFsZXJ0cykge1xuICAgICAgICAgIGlmKG5ld0FsZXJ0cy5sZW5ndGggPiAwICYmIG9sZEFsZXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICQoXCJib2R5XCIpLmFuaW1hdGUoe3Njcm9sbFRvcDogJGVsbS5vZmZzZXQoKS50b3B9LCBcImZhc3RcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5jb25zdGFudChcIlNUT1JBR0VfRklMRV9VUkxfQkFTRVwiLCBcInN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vcmlzZW1lZGlhbGlicmFyeS1cIilcbiAgLmNvbnN0YW50KFwiU1RPUkFHRV9GT0xERVJfVVJMX0JBU0VcIiwgXCJnb29nbGVhcGlzLmNvbS9zdG9yYWdlL1wiKVxuICAuZmFjdG9yeShcImNvbW1vblNldHRpbmdzXCIsIFtcIiRsb2dcIiwgXCJTVE9SQUdFX0ZJTEVfVVJMX0JBU0VcIiwgXCJTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRVwiLFxuICAgIGZ1bmN0aW9uICgkbG9nLCBTVE9SQUdFX0ZJTEVfVVJMX0JBU0UsIFNUT1JBR0VfRk9MREVSX1VSTF9CQVNFKSB7XG5cbiAgICB2YXIgZmFjdG9yeSA9IHtcbiAgICAgIGdldFN0b3JhZ2VVcmxEYXRhOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciBzdG9yYWdlID0ge30sXG4gICAgICAgICAgc3RyLCBhcnIsIHBhcmFtcywgcGFpcjtcblxuICAgICAgICBmdW5jdGlvbiBnZXRTdG9yYWdlVHlwZShzdG9yYWdlVXJsKSB7XG4gICAgICAgICAgaWYgKHN0b3JhZ2VVcmwuaW5kZXhPZihTVE9SQUdFX0ZJTEVfVVJMX0JBU0UpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiZmlsZVwiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdG9yYWdlVXJsLmluZGV4T2YoU1RPUkFHRV9GT0xERVJfVVJMX0JBU0UpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiZm9sZGVyXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRDb21wYW55SWQoc3RvcmFnZVVybCkge1xuICAgICAgICAgIHZhciBwID0gc3RvcmFnZVVybC5zcGxpdChcInJpc2VtZWRpYWxpYnJhcnktXCIpO1xuXG4gICAgICAgICAgcmV0dXJuIHBbMV0uc2xpY2UoMCwgcFsxXS5pbmRleE9mKFwiL1wiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2V0U3RvcmFnZVR5cGUodXJsKSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgICBzdHIgPSB1cmwuc3BsaXQoU1RPUkFHRV9GSUxFX1VSTF9CQVNFKVsxXTtcbiAgICAgICAgICBzdHIgPSBkZWNvZGVVUklDb21wb25lbnQoc3RyLnNsaWNlKHN0ci5pbmRleE9mKFwiL1wiKSArIDEpKTtcbiAgICAgICAgICBhcnIgPSBzdHIuc3BsaXQoXCIvXCIpO1xuXG4gICAgICAgICAgc3RvcmFnZS5jb21wYW55SWQgPSBnZXRDb21wYW55SWQodXJsKTtcbiAgICAgICAgICBzdG9yYWdlLmZpbGVOYW1lID0gYXJyLnBvcCgpO1xuICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyID0gYXJyLmxlbmd0aCA+IDAgPyBhcnIuam9pbihcIi9cIikgOiBcIlwiO1xuXG4gICAgICAgICAgaWYgKHN0b3JhZ2UuZm9sZGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAvLyBhZGQgZW5kaW5nIFwiL1wiIHRvIHRoZSBmb2xkZXIgcGF0aFxuICAgICAgICAgICAgc3RvcmFnZS5mb2xkZXIgKz0gXCIvXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdldFN0b3JhZ2VUeXBlKHVybCkgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgICAgICBwYXJhbXMgPSB1cmwuc3BsaXQoXCI/XCIpO1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBwYXJhbXNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICAgICAgICBpZiAocGFpclswXSA9PT0gXCJwcmVmaXhcIiAmJiB0eXBlb2YgcGFpclsxXSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwYWlyWzFdICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgIHN0b3JhZ2UuY29tcGFueUlkID0gZ2V0Q29tcGFueUlkKHVybCk7XG4gICAgICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgICAgICAgICAgICBzdG9yYWdlLmZpbGVOYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0b3JhZ2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5mYWN0b3J5KFwiZ2FkZ2V0c0FwaVwiLCBbXCIkd2luZG93XCIsIGZ1bmN0aW9uICgkd2luZG93KSB7XG4gICAgcmV0dXJuICR3aW5kb3cuZ2FkZ2V0cztcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuZmFjdG9yeShcImdvb2dsZUZvbnRMb2FkZXJcIiwgW1wiJGh0dHBcIiwgXCJhbmd1bGFyTG9hZFwiLCBmdW5jdGlvbiAoJGh0dHAsIGFuZ3VsYXJMb2FkKSB7XG5cbiAgICB2YXIgZmFjdG9yeSA9IHt9LFxuICAgICAgYWxsRm9udHMgPSBbXTtcblxuICAgIGZhY3RvcnkuZ2V0R29vZ2xlRm9udHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChhbGxGb250cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gR2V0IGxpc3Qgb2YgR29vZ2xlIGZvbnRzIHNvcnRlZCBhbHBoYWJldGljYWxseS5cbiAgICAgICAgcmV0dXJuICRodHRwLmdldChcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3dlYmZvbnRzL3YxL3dlYmZvbnRzP2tleT1BSXphU3lCWHhWS19JT1Y3TE5RTXVWVm9fbDdadk41M2VqTjg2elkmc29ydD1hbHBoYVwiLCB7IGNhY2hlOiB0cnVlIH0pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAocmVzcC5kYXRhICYmIHJlc3AuZGF0YS5pdGVtcykge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcmVzcC5kYXRhLml0ZW1zLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IHJlc3AuZGF0YS5pdGVtc1tpXTtcblxuICAgICAgICAgICAgICAgIC8vIERvbid0IHJldHVybiB0aG9zZSBmb250cyB0aGF0IGhhdmUgYSBzdWJzZXQgb2YgXCJraG1lclwiLlxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnN1YnNldHMgJiYgKGl0ZW0uc3Vic2V0cy5sZW5ndGggPT09IDEpICYmXG4gICAgICAgICAgICAgICAgICAoaXRlbS5zdWJzZXRzWzBdLnRvTG93ZXJDYXNlKCkgPT09IFwia2htZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYWxsRm9udHMucHVzaChpdGVtLmZhbWlseSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gbG9hZEZvbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxvYWRGb250cygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKiBGaWx0ZXIgbGlzdCBvZiBmb250cyB0byBvbmx5IHJldHVybiB0aG9zZSB0aGF0IGFyZSBHb29nbGUgZm9udHMuICovXG4gICAgZmFjdG9yeS5nZXRGb250c1VzZWQgPSBmdW5jdGlvbihmYW1pbHlMaXN0KSB7XG4gICAgICB2YXIgZm9udHNVc2VkID0gW107XG5cbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChhbGxGb250cywgZnVuY3Rpb24gKGZhbWlseSkge1xuICAgICAgICBpZiAoZmFtaWx5TGlzdC5pbmRleE9mKGZhbWlseSkgIT09IC0xKSB7XG4gICAgICAgICAgZm9udHNVc2VkLnB1c2goZmFtaWx5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmb250c1VzZWQ7XG4gICAgfTtcblxuICAgIC8qIExvYWQgdGhlIEdvb2dsZSBmb250cy4gKi9cbiAgICBmdW5jdGlvbiBsb2FkRm9udHMoKSB7XG4gICAgICB2YXIgZmFtaWx5ID0gXCJcIixcbiAgICAgICAgZm9udHMgPSBcIlwiLFxuICAgICAgICB1cmwgPSBcIlwiLFxuICAgICAgICB1cmxzID0gW10sXG4gICAgICAgIHNwYWNlcyA9IGZhbHNlLFxuICAgICAgICBmYWxsYmFjayA9IFwiLHNhbnMtc2VyaWY7XCIsXG4gICAgICAgIGZvbnRCYXNlVXJsID0gXCIvL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9XCIsXG4gICAgICAgIGV4Y2x1ZGUgPSBbXCJCdWRhXCIsIFwiQ29kYSBDYXB0aW9uXCIsIFwiT3BlbiBTYW5zIENvbmRlbnNlZFwiLCBcIlVuaWZyYWt0dXJDb29rXCIsIFwiTW9sbGVcIl07XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsRm9udHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZmFtaWx5ID0gYWxsRm9udHNbaV07XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihmYW1pbHkpID09PSAtMSkge1xuICAgICAgICAgIHVybCA9IGZvbnRCYXNlVXJsICsgZmFtaWx5O1xuXG4gICAgICAgICAgYW5ndWxhckxvYWQubG9hZENTUyh1cmwpO1xuICAgICAgICAgIHVybHMucHVzaCh1cmwpO1xuXG4gICAgICAgICAgLy8gY2hlY2sgZm9yIHNwYWNlcyBpbiBmYW1pbHkgbmFtZVxuICAgICAgICAgIGlmICgvXFxzLy50ZXN0KGZhbWlseSkpIHtcbiAgICAgICAgICAgIHNwYWNlcyA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNwYWNlcykge1xuICAgICAgICAgICAgLy8gd3JhcCBmYW1pbHkgbmFtZSBpbiBzaW5nbGUgcXVvdGVzXG4gICAgICAgICAgICBmb250cyArPSBmYW1pbHkgKyBcIj0nXCIgKyBmYW1pbHkgKyBcIidcIiArIGZhbGxiYWNrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvbnRzICs9IGZhbWlseSArIFwiPVwiICsgZmFtaWx5ICsgZmFsbGJhY2s7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IGZvbnRzOiBmb250cywgdXJsczogdXJscyB9O1xuICAgIH1cblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5zZXJ2aWNlKFwiaTE4bkxvYWRlclwiLCBbXCIkd2luZG93XCIsIFwiJHFcIiwgZnVuY3Rpb24gKCR3aW5kb3csICRxKSB7XG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICR3aW5kb3cuaTE4bi5pbml0KHsgXG4gICAgICBmYWxsYmFja0xuZzogXCJlblwiLFxuICAgICAgcmVzR2V0UGF0aDogXCJsb2NhbGVzL19fbnNfX19fX2xuZ19fLmpzb25cIlxuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5pMThuKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuZmFjdG9yeShcImltYWdlVmFsaWRhdG9yXCIsIFtcIiRxXCIsIGZ1bmN0aW9uICgkcSkge1xuICAgIHZhciBmYWN0b3J5ID0ge1xuICAgICAgLy8gVmVyaWZ5IHRoYXQgVVJMIGlzIGEgdmFsaWQgaW1hZ2UgZmlsZS5cbiAgICAgIGlzSW1hZ2U6IGZ1bmN0aW9uKHNyYykge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLFxuICAgICAgICAgIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW1hZ2Uuc3JjID0gc3JjO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZmFjdG9yeTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuc2VydmljZShcInNldHRpbmdzU2F2ZXJcIiwgW1wiJHFcIiwgXCIkbG9nXCIsIFwiZ2FkZ2V0c0FwaVwiLCBcInNldHRpbmdzUGFyc2VyXCIsXG4gIGZ1bmN0aW9uICgkcSwgJGxvZywgZ2FkZ2V0c0FwaSwgc2V0dGluZ3NQYXJzZXIpIHtcblxuICAgIHRoaXMuc2F2ZVNldHRpbmdzID0gZnVuY3Rpb24gKHNldHRpbmdzLCB2YWxpZGF0b3IpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgYWxlcnRzID0gW10sIHN0ciA9IFwiXCI7XG5cbiAgICAgIHNldHRpbmdzID0gcHJvY2Vzc1NldHRpbmdzKHNldHRpbmdzKTtcblxuICAgICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgICBhbGVydHMgPSB2YWxpZGF0b3Ioc2V0dGluZ3MpO1xuICAgICAgfVxuXG4gICAgICBpZihhbGVydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAkbG9nLmRlYnVnKFwiVmFsaWRhdGlvbiBmYWlsZWQuXCIsIGFsZXJ0cyk7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdCh7YWxlcnRzOiBhbGVydHN9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNldHRpbmdzLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImxheW91dFVSTFwiKSkge1xuICAgICAgICAvLyBlbnN1cmUgdGhlIHVybCBpcyB0aGUgc3RhcnQgb2YgdGhlIHN0cmluZ1xuICAgICAgICBzdHIgKz0gc2V0dGluZ3MucGFyYW1zLmxheW91dFVSTCArIFwiP1wiO1xuICAgICAgICAvLyBkZWxldGUgdGhpcyBwcm9wZXJ0eSBzbyBpdHMgbm90IGluY2x1ZGVkIGJlbG93IGluIGVuY29kZVBhcmFtcyBjYWxsXG4gICAgICAgIGRlbGV0ZSBzZXR0aW5ncy5wYXJhbXMubGF5b3V0VVJMO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gc2V0dGluZ3NQYXJzZXIuZW5jb2RlUGFyYW1zKHNldHRpbmdzLnBhcmFtcyk7XG5cbiAgICAgIHZhciBhZGRpdGlvbmFsUGFyYW1zU3RyID1cbiAgICAgICAgc2V0dGluZ3NQYXJzZXIuZW5jb2RlQWRkaXRpb25hbFBhcmFtcyhzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zKTtcblxuICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX3NhdmVTZXR0aW5nc1wiLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICRsb2cuZGVidWcoXCJlbmNvZGVkIHNldHRpbmdzXCIsIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgICAgICAkbG9nLmRlYnVnKFwiU2V0dGluZ3Mgc2F2ZWQuIFwiLCBzZXR0aW5ncyk7XG5cbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfSwge1xuICAgICAgICBwYXJhbXM6IHN0cixcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtczogYWRkaXRpb25hbFBhcmFtc1N0clxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgICAgIHZhciBuZXdTZXR0aW5ncyA9IGFuZ3VsYXIuY29weShzZXR0aW5ncyk7XG5cbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMuaWQ7XG4gICAgICBkZWxldGUgbmV3U2V0dGluZ3MucGFyYW1zLmNvbXBhbnlJZDtcbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMucnNXO1xuICAgICAgZGVsZXRlIG5ld1NldHRpbmdzLnBhcmFtcy5yc0g7XG5cbiAgICAgIHJldHVybiBuZXdTZXR0aW5ncztcbiAgICB9XG5cbiAgfV0pXG5cbiAgLnNlcnZpY2UoXCJzZXR0aW5nc0dldHRlclwiLCBbXCIkcVwiLCBcImdhZGdldHNBcGlcIiwgXCIkbG9nXCIsIFwic2V0dGluZ3NQYXJzZXJcIiwgXCIkd2luZG93XCIsIFwiZGVmYXVsdFNldHRpbmdzXCIsXG4gICAgZnVuY3Rpb24gKCRxLCBnYWRnZXRzQXBpLCAkbG9nLCBzZXR0aW5nc1BhcnNlciwgJHdpbmRvdywgZGVmYXVsdFNldHRpbmdzKSB7XG5cbiAgICAgIHRoaXMuZ2V0QWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgdmFyIGRlZmF1bHRBZGRpdGlvbmFsUGFyYW1zID0gZGVmYXVsdFNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMgfHwge307XG5cbiAgICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX2dldEFkZGl0aW9uYWxQYXJhbXNcIiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHNldHRpbmdzUGFyc2VyLnBhcnNlQWRkaXRpb25hbFBhcmFtcyhyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHt9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRsb2cuZGVidWcoXCJnZXRBZGRpdGlvbmFsUGFyYW1zIHJldHVybnMgXCIsIHJlc3VsdCk7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkLmV4dGVuZCh0cnVlLCBkZWZhdWx0QWRkaXRpb25hbFBhcmFtcywgcmVzdWx0KSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5nZXRQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZWZhdWx0UGFyYW1zID0gZGVmYXVsdFNldHRpbmdzLnBhcmFtcyB8fCB7fTtcbiAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZXh0ZW5kKGRlZmF1bHRQYXJhbXMsXG4gICAgICAgICAgc2V0dGluZ3NQYXJzZXIucGFyc2VQYXJhbXMoJHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpKTtcbiAgICAgIH07XG4gIH1dKVxuXG4gIC5zZXJ2aWNlKFwic2V0dGluZ3NQYXJzZXJcIiwgW2Z1bmN0aW9uICgpIHtcbiAgICB0aGlzLnBhcnNlQWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uIChhZGRpdGlvbmFsUGFyYW1zU3RyKSB7XG4gICAgICBpZihhZGRpdGlvbmFsUGFyYW1zU3RyKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGFkZGl0aW9uYWxQYXJhbXNTdHIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5lbmNvZGVBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICB9O1xuXG4gICAgdGhpcy5lbmNvZGVQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICB2YXIgc3RyID0gW107XG4gICAgICBmb3IodmFyIHAgaW4gcGFyYW1zKSB7XG4gICAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXNbcF0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zW3BdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHBhcmFtc1twXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RyLnB1c2goXCJ1cF9cIiArIGVuY29kZVVSSUNvbXBvbmVudChwKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0ci5qb2luKFwiJlwiKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc3RyaXBQcmVmaXgobmFtZSkge1xuICAgICAgaWYobmFtZS5pbmRleE9mKFwidXBfXCIpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuYW1lLnNsaWNlKDMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucGFyc2VQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zU3RyKSB7XG4gICAgICAvL2dldCByaWQgb2YgcHJlY2VlZGluZyBcIj9cIlxuICAgICAgaWYocGFyYW1zU3RyWzBdID09PSBcIj9cIikge1xuICAgICAgICBwYXJhbXNTdHIgPSBwYXJhbXNTdHIuc2xpY2UoMSk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICB2YXIgdmFycyA9IHBhcmFtc1N0ci5zcGxpdChcIiZcIik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgdmFyIG5hbWUgPSBzdHJpcFByZWZpeChkZWNvZGVVUklDb21wb25lbnQocGFpclswXSkpO1xuICAgICAgICAvL3NhdmUgc2V0dGluZ3Mgb25seSBpZiBpdCBoYXMgdXBfIHByZWZpeC4gSWdub3JlIG90aGVyd2lzZVxuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgfV0pXG5cbiAgLnNlcnZpY2UoXCJzZXR0aW5nc0Nsb3NlclwiLCBbXCIkcVwiLCBcIiRsb2dcIiwgXCJnYWRnZXRzQXBpXCIsXG4gIGZ1bmN0aW9uICgkcSwgJGxvZywgZ2FkZ2V0c0FwaSkge1xuXG4gICAgdGhpcy5jbG9zZVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX2Nsb3NlU2V0dGluZ3NcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgfV0pXG5cbiAgLnZhbHVlKFwiZGVmYXVsdFNldHRpbmdzXCIsIHt9KTtcblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnZpc3VhbGl6YXRpb25cIiwgW10pXG4gICAgLmZhY3RvcnkoXCJ2aXN1YWxpemF0aW9uQXBpXCIsIFtcIiRxXCIsIFwiJHdpbmRvd1wiLCBmdW5jdGlvbiAoJHEsICR3aW5kb3cpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgcHJvbWlzZTtcblxuICAgICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICBpZiAoISR3aW5kb3cuZ29vZ2xlLnZpc3VhbGl6YXRpb24pIHtcbiAgICAgICAgICAgICAgJHdpbmRvdy5nb29nbGUuc2V0T25Mb2FkQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGZhY3Rvcnk7XG5cbiAgICB9XSk7XG5cbn0pKGFuZ3VsYXIpO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0Lmdvb2dsZVNwcmVhZHNoZWV0LnNldHRpbmdzXCIpXG4gIC5jb250cm9sbGVyKFwic3ByZWFkc2hlZXRTZXR0aW5nc0NvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwiJHdpbmRvd1wiLCBcIiRsb2dcIiwgXCJnb29nbGVTaGVldFwiLCBcImNvbHVtbnNcIixcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCAkd2luZG93LCAkbG9nLCBnb29nbGVTaGVldCwgY29sdW1ucykge1xuXG4gICAgICAkc2NvcGUuc2hvd1ByZXZpZXcgPSBmYWxzZTtcbiAgICAgICRzY29wZS5zaGVldHMgPSBbXTtcbiAgICAgICRzY29wZS5jdXJyZW50U2hlZXQgPSBudWxsO1xuICAgICAgJHNjb3BlLmNvbHVtbnMgPSBbXTtcblxuICAgICAgJHNjb3BlLmdldENvbHVtbnMgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIGNvbHVtbnMuZ2V0Q29sdW1ucyh1cmwpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGNvbHVtbnMpIHtcbiAgICAgICAgICAgIGlmIChjb2x1bW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmNvbHVtbnMgPSBjb2x1bW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4obnVsbCwgJGxvZy5lcnJvcik7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBnZXRXb3JrU2hlZXRzKGZpbGVJZCkge1xuICAgICAgICBnb29nbGVTaGVldC5nZXRXb3JrU2hlZXRzKGZpbGVJZClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAoc2hlZXRzKSB7XG4gICAgICAgICAgICAkbG9nLmRlYnVnKFwiV29ya3NoZWV0c1wiLCBzaGVldHMpO1xuICAgICAgICAgICAgJHNjb3BlLnB1Ymxpc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAkc2NvcGUuc2hlZXRzID0gc2hlZXRzO1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRTaGVldCA9IHNoZWV0c1skc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC50YWJJZCAtIDFdO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4obnVsbCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLnB1Ymxpc2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgJHNjb3BlLnNoZWV0cyA9IFtdO1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRTaGVldCA9IG51bGw7XG4gICAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC50YWJJZCA9IDE7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS4kd2F0Y2goXCJjdXJyZW50U2hlZXRcIiwgZnVuY3Rpb24gKGN1cnJlbnRTaGVldCkge1xuICAgICAgICBpZiAoY3VycmVudFNoZWV0KSB7XG4gICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQudGFiSWQgPSBjdXJyZW50U2hlZXQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUucHVibGlzaGVkID0gdHJ1ZTtcblxuICAgICAgJHNjb3BlLiR3YXRjaChcInNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQuZmlsZUlkXCIsIGZ1bmN0aW9uIChmaWxlSWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWxlSWQgPT09IFwidW5kZWZpbmVkXCIgfHwgIWZpbGVJZCkge1xuICAgICAgICAgICRzY29wZS5zZXR0aW5nc0Zvcm0uJHNldFZhbGlkaXR5KFwiZmlsZUlkXCIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAkc2NvcGUuc2hvd1ByZXZpZXcgPSB0cnVlO1xuICAgICAgICAgICRzY29wZS5zZXR0aW5nc0Zvcm0uJHNldFZhbGlkaXR5KFwiZmlsZUlkXCIsIHRydWUpO1xuXG4gICAgICAgICAgaWYgKCRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LnNlbGVjdGlvbiA9PT0gXCJrZXlcIikge1xuICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQudXJsID1cbiAgICAgICAgICAgICAgXCJodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC9cIiArIGZpbGVJZCArIFwiL2VkaXQjZ2lkPTBcIjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBnZXRXb3JrU2hlZXRzKGZpbGVJZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKFwic2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC51cmxcIiwgZnVuY3Rpb24gKG5ld1VybCwgb2xkVXJsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmV3VXJsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaWYgKG5ld1VybCAhPT0gb2xkVXJsKSB7XG4gICAgICAgICAgICAkc2NvcGUuY29sdW1ucyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9sZFVybCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvbGRVcmwgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgLy8gV2lkZ2V0IHNldHRpbmdzIGhhdmUgYWxyZWFkeSBnb25lIHRocm91Z2ggaW5pdGlhbGl6YXRpb24uIFNhZmUgdG8gcmVzZXQgY29sdW1ucyBhcnJheS5cbiAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuZm9ybWF0LmNvbHVtbnMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5ld1VybCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAkc2NvcGUuZ2V0Q29sdW1ucyhuZXdVcmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS4kd2F0Y2goXCJwdWJsaXNoZWRcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIgJiYgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQgJiZcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQgJiZcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQgIT09IFwiXCIpIHtcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3NGb3JtLiRzZXRWYWxpZGl0eShcImZpbGVJZFwiLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuJG9uKFwicGlja2VkXCIsIGZ1bmN0aW9uIChldmVudCwgZGF0YSkge1xuICAgICAgICAkc2NvcGUuc2hvd1ByZXZpZXcgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5zZWxlY3Rpb24gPSBcImRyaXZlXCI7XG4gICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LmRvY05hbWUgPSBkYXRhWzBdLm5hbWU7XG4gICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LnVybCA9IGVuY29kZVVSSShkYXRhWzBdLnVybCk7XG4gICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LmZpbGVJZCA9IGRhdGFbMF0uaWQ7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLnNldFNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuc2hvd1ByZXZpZXcgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5zZWxlY3Rpb24gPSBcImtleVwiO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnByZXZpZXdGaWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkd2luZG93Lm9wZW4oJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQudXJsLCBcIl9ibGFua1wiKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZXRyeUZpbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQgJiZcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQgIT09IFwiXCIpIHtcbiAgICAgICAgICAkc2NvcGUucHVibGlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICBnZXRXb3JrU2hlZXRzKCRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LmZpbGVJZCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5jbGVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHNjb3BlLnB1Ymxpc2hlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKCRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LnNlbGVjdGlvbiA9PT0gXCJkcml2ZVwiKSB7XG4gICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQuZG9jTmFtZSA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC51cmwgPSBcIlwiO1xuICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQgPSBcIlwiO1xuICAgICAgfTtcblxuICAgIH1dKVxuICAudmFsdWUoXCJkZWZhdWx0U2V0dGluZ3NcIiwge1xuICAgIHBhcmFtczoge30sXG4gICAgYWRkaXRpb25hbFBhcmFtczoge1xuICAgICAgZm9ybWF0OiB7XG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBmb250U3R5bGU6e1xuICAgICAgICAgICAgZm9udDp7XG4gICAgICAgICAgICAgIGZhbWlseTpcInRhaG9tYSxhcmlhbCxoZWx2ZXRpY2Esc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgICB0eXBlOlwic3RhbmRhcmRcIixcbiAgICAgICAgICAgICAgdXJsOlwiXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaXplOlwiMThweFwiLFxuICAgICAgICAgICAgY3VzdG9tU2l6ZTpcIlwiLFxuICAgICAgICAgICAgYWxpZ246XCJsZWZ0XCIsXG4gICAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcIm1pZGRsZVwiLFxuICAgICAgICAgICAgYm9sZDpmYWxzZSxcbiAgICAgICAgICAgIGl0YWxpYzpmYWxzZSxcbiAgICAgICAgICAgIHVuZGVybGluZTpmYWxzZSxcbiAgICAgICAgICAgIGZvcmVjb2xvcjpcImJsYWNrXCIsXG4gICAgICAgICAgICBiYWNrY29sb3I6XCJ0cmFuc3BhcmVudFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb2x1bW5zOiBbXSxcbiAgICAgICAgZXZlblJvd0NvbG9yOiBcIlwiLFxuICAgICAgICBoZWFkZXI6IHtcbiAgICAgICAgICBmb250U3R5bGU6e1xuICAgICAgICAgICAgZm9udDp7XG4gICAgICAgICAgICAgIGZhbWlseTpcInRhaG9tYSxhcmlhbCxoZWx2ZXRpY2Esc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgICB0eXBlOlwic3RhbmRhcmRcIixcbiAgICAgICAgICAgICAgdXJsOlwiXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaXplOlwiMThweFwiLFxuICAgICAgICAgICAgY3VzdG9tU2l6ZTpcIlwiLFxuICAgICAgICAgICAgYWxpZ246XCJsZWZ0XCIsXG4gICAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcIm1pZGRsZVwiLFxuICAgICAgICAgICAgYm9sZDpmYWxzZSxcbiAgICAgICAgICAgIGl0YWxpYzpmYWxzZSxcbiAgICAgICAgICAgIHVuZGVybGluZTpmYWxzZSxcbiAgICAgICAgICAgIGZvcmVjb2xvcjpcImJsYWNrXCIsXG4gICAgICAgICAgICBiYWNrY29sb3I6XCJ0cmFuc3BhcmVudFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvZGRSb3dDb2xvcjogXCJcIixcbiAgICAgICAgcm93SGVpZ2h0OiA1MCxcbiAgICAgICAgc2VwYXJhdG9yOiB7XG4gICAgICAgICAgY29sb3I6IFwicmdiYSgyMzgsMjM4LDIzOCwgMSlcIixcbiAgICAgICAgICBzaG93Q29sdW1uOiB0cnVlLFxuICAgICAgICAgIHNob3dSb3c6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNjcm9sbDoge30sXG4gICAgICBzcHJlYWRzaGVldDoge1xuICAgICAgICBzZWxlY3Rpb246IFwiZHJpdmVcIixcbiAgICAgICAgZG9jTmFtZTogXCJcIixcbiAgICAgICAgdXJsOiBcIlwiLFxuICAgICAgICBmaWxlSWQ6IFwiXCIsXG4gICAgICAgIGNlbGxzOiBcInNoZWV0XCIsXG4gICAgICAgIHJhbmdlOiB7XG4gICAgICAgICAgc3RhcnRDZWxsOiBcIlwiLFxuICAgICAgICAgIGVuZENlbGw6IFwiXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGFiSWQ6IDEsXG4gICAgICAgIGhhc0hlYWRlcjogZmFsc2UsXG4gICAgICAgIHJlZnJlc2g6IDVcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0Lmdvb2dsZVNwcmVhZHNoZWV0LnNldHRpbmdzXCIpXG4gIC5jb25zdGFudChcIlNQUkVBRFNIRUVUX0FQSV9XT1JLU0hFRVRTXCIsIFwiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy93b3Jrc2hlZXRzL1wiKVxuICAuY29uc3RhbnQoXCJTUFJFQURTSEVFVF9BUElfU1VGRklYXCIsIFwiL3B1YmxpYy9iYXNpY1wiKVxuXG4gIC5mYWN0b3J5KFwiZ29vZ2xlU2hlZXRcIiwgW1wiJGh0dHBcIiwgXCIkbG9nXCIsIFwiU1BSRUFEU0hFRVRfQVBJX1dPUktTSEVFVFNcIiwgXCJTUFJFQURTSEVFVF9BUElfU1VGRklYXCIsXG4gICAgZnVuY3Rpb24gKCRodHRwLCAkbG9nLCBTUFJFQURTSEVFVF9BUElfV09SS1NIRUVUUywgU1BSRUFEU0hFRVRfQVBJX1NVRkZJWCkge1xuXG4gICAgICB2YXIgZmFjdG9yeSA9IHt9LFxuICAgICAgICBmaWx0ZXJTaGVldHMgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHZhciBvcHRpb24sIHNoZWV0cztcblxuICAgICAgICAgIHNoZWV0cyA9IGRhdGEuZmVlZC5lbnRyeS5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgb3B0aW9uID0ge307XG5cbiAgICAgICAgICAgIC8vIFdvcmtzaGVldCB0YWIgbmFtZVxuICAgICAgICAgICAgb3B0aW9uLmxhYmVsID0gdmFsdWUudGl0bGUuJHQ7XG5cbiAgICAgICAgICAgIC8vIFdvcmtzaGVldCB0YWIgbnVtYmVyXG4gICAgICAgICAgICBvcHRpb24udmFsdWUgPSAoaW5kZXggKyAxKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbjtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBzaGVldHM7XG4gICAgICAgIH07XG5cbiAgICAgIGZhY3RvcnkuZ2V0V29ya1NoZWV0cyA9IGZ1bmN0aW9uKGZpbGVJZCkge1xuICAgICAgICB2YXIgYXBpID0gU1BSRUFEU0hFRVRfQVBJX1dPUktTSEVFVFMgKyBmaWxlSWQgKyBTUFJFQURTSEVFVF9BUElfU1VGRklYO1xuXG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoZW5jb2RlVVJJKGFwaSArIFwiP2FsdD1qc29uXCIpKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlclNoZWV0cyhkYXRhKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBmYWN0b3J5O1xuXG4gICAgfV0pO1xuXG4oZnVuY3Rpb24oKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuZ29vZ2xlU3ByZWFkc2hlZXQuc2V0dGluZ3NcIilcbiAgICAuZmFjdG9yeShcImNvbHVtbnNcIiwgW1widmlzdWFsaXphdGlvbkFwaVwiLCBcIiRxXCIsIGZ1bmN0aW9uICh2aXN1YWxpemF0aW9uQXBpLCAkcSkge1xuXG4gICAgICB2YXIgZmFjdG9yeSA9IHt9O1xuXG4gICAgICBmdW5jdGlvbiBjb25maWd1cmVDb2x1bW5zKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBkYXRhVGFibGUgPSByZXNwb25zZS5nZXREYXRhVGFibGUoKSxcbiAgICAgICAgICBjb2x1bW5OYW1lcyA9IFtdLFxuICAgICAgICAgIGNvbHVtbkluZGV4ZXMgPSBbXSxcbiAgICAgICAgICBjZWxsVmFsdWUsIGNvbHVtbkxhYmVsLCBjb2x1bW5JZCwgaSwgajtcblxuICAgICAgICAvLyBOYXJyb3cgZG93biBhY3R1YWwgY29sdW1ucyBiZWluZyB1c2VkLlxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YVRhYmxlLmdldE51bWJlck9mQ29sdW1ucygpOyBpKyspIHtcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgZGF0YVRhYmxlLmdldE51bWJlck9mUm93cygpOyBqKyspIHtcbiAgICAgICAgICAgIGNlbGxWYWx1ZSA9IGRhdGFUYWJsZS5nZXRWYWx1ZShqLCBpKTtcblxuICAgICAgICAgICAgaWYgKGNlbGxWYWx1ZSAmJiBjZWxsVmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgY29sdW1uSW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb25maWd1cmUgdGhlIGNvbHVtbiBvYmplY3RzIGFuZCBwb3B1bGF0ZSBjb2x1bW5OYW1lcyBhcnJheS5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbHVtbkluZGV4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb2x1bW5MYWJlbCA9IGRhdGFUYWJsZS5nZXRDb2x1bW5MYWJlbChjb2x1bW5JbmRleGVzW2ldKTtcblxuICAgICAgICAgIGlmIChjb2x1bW5MYWJlbCA9PT0gXCJcIikge1xuICAgICAgICAgICAgLy8gVGhlcmUncyBubyBoZWFkZXIgcm93IG9yIHRoZSBjb2x1bW4gaXMgdW50aXRsZWQuIFVzZSB0aGUgY29sdW1uIGlkIGluc3RlYWQgKGVnLiBBKS5cbiAgICAgICAgICAgIGNvbHVtbkxhYmVsID0gZGF0YVRhYmxlLmdldENvbHVtbklkKGNvbHVtbkluZGV4ZXNbaV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENyZWF0ZSBhbiBpZCB0aGF0IGNhbiBiZSByZWZlcmVuY2VkIGFnYWluIHdoZW4gcmVzdG9yaW5nIHNhdmVkIHdpZGdldCBzZXR0aW5ncy5cbiAgICAgICAgICBjb2x1bW5JZCA9IGRhdGFUYWJsZS5nZXRDb2x1bW5JZChjb2x1bW5JbmRleGVzW2ldKSArIFwiX1wiICsgZGF0YVRhYmxlLmdldENvbHVtblR5cGUoY29sdW1uSW5kZXhlc1tpXSkgK1xuICAgICAgICAgICAgXCJfXCIgKyBjb2x1bW5MYWJlbDtcblxuICAgICAgICAgIGNvbHVtbk5hbWVzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IGNvbHVtbklkLFxuICAgICAgICAgICAgbmFtZTogY29sdW1uTGFiZWwsXG4gICAgICAgICAgICB0eXBlOiBkYXRhVGFibGUuZ2V0Q29sdW1uVHlwZShjb2x1bW5JbmRleGVzW2ldKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbHVtbk5hbWVzO1xuICAgICAgfVxuXG4gICAgICBmYWN0b3J5LmdldENvbHVtbnMgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgdmlzdWFsaXphdGlvbkFwaS5nZXQoKS50aGVuKGZ1bmN0aW9uICh2aXopIHtcbiAgICAgICAgICB2YXIgcXVlcnkgPSBuZXcgdml6LlF1ZXJ5KHVybCk7XG5cbiAgICAgICAgICAvLyBPbmx5IG5lZWQgdGhlIGZpcnN0IHJvdy5cbiAgICAgICAgICBxdWVyeS5zZXRRdWVyeShcInNlbGVjdCAqIGxpbWl0IDFcIik7XG4gICAgICAgICAgcXVlcnkuc2V0VGltZW91dCgzMCk7XG5cbiAgICAgICAgICBxdWVyeS5zZW5kKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoXCJObyByZXNwb25zZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmlzRXJyb3IoKSkge1xuICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QocmVzcG9uc2UuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGNvbmZpZ3VyZUNvbHVtbnMocmVzcG9uc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBmYWN0b3J5O1xuICAgIH1dKTtcbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
